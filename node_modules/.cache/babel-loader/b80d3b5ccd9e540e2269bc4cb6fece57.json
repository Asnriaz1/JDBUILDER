{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Ahsan Riaz\\\\Desktop\\\\frontend-master (new)\\\\frontend-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import{connect}from\"react-redux\";import JDHomeSearchForm from\"./component\";import{selectFieldChangeHandler as _selectFieldChangeHandler,saveUpdatedJobTitle,saveUpdatedJobSpec,saveUpdatedTemplateJobId,saveUpdatedTemplateSpecId,saveUpdatedTemplates}from\"../../actions\";import{handleLoadingSpinnerClose,handleLoadingSpinnerOpenWithOptions}from\"../../../common/ReduxBased/LoadingSpinner/actions\";import instance,{BASE_URL}from\"../../../../api/config\";import ls from'local-storage';var mapStateToProps=function mapStateToProps(state){return{fields:state.JDLANDING.forms.landingSearchForm.fields,templateJobId:state.JDLANDING.data.templateJobId,templateSpecId:state.JDLANDING.data.templateSpecId};};var mapDispatchToProps=function mapDispatchToProps(dispatch,props){return{selectFieldChangeHandler:function selectFieldChangeHandler(name,e){dispatch(_selectFieldChangeHandler(name,e));if(name===\"lookingField\"){dispatch(_selectFieldChangeHandler(\"forField\",null));dispatch(saveUpdatedJobSpec(e.spec));dispatch(saveUpdatedTemplateJobId(e));ls.set('jobId',e?e.id:null);ls.set('jobIdLabel',e?e.label:null);ls.set('specId',null);ls.set('specIdLabel',null);//in case we only have job id\ndispatch(handleLoadingSpinnerOpenWithOptions(true,\"Loading Templates...\",\"large\"));var paramVal=e.id;instance.get(BASE_URL+'Templates?jobId='+paramVal).then(function(res){dispatch(saveUpdatedTemplates(res.data));dispatch(handleLoadingSpinnerClose());}).catch(function(error){dispatch(handleLoadingSpinnerClose());});}if(name===\"forField\"){dispatch(saveUpdatedTemplateSpecId(e?e.id:null));ls.set('specId',e?e.id:null);ls.set('specIdLabel',e?e.label:null);//in case we sepecid\ndispatch(handleLoadingSpinnerOpenWithOptions(true,\"Loading Templates...\",\"large\"));if(e){var _paramVal=e.id;instance.get(BASE_URL+'Templates?specId='+_paramVal).then(function(res){dispatch(saveUpdatedTemplates(res.data));dispatch(handleLoadingSpinnerClose());}).catch(function(error){dispatch(handleLoadingSpinnerClose());});}else{dispatch(handleLoadingSpinnerClose());}}},fetchDataIfNeeded:function fetchDataIfNeeded(){instance.get(BASE_URL+'Landing').then(function(res){dispatch(saveUpdatedJobTitle(res.data));}).catch(function(error){});}};};var mergeProps=function mergeProps(stateProps,dispatchProps,ownProps){return _objectSpread({},stateProps,{},dispatchProps,{},ownProps);};export default connect(mapStateToProps,mapDispatchToProps,mergeProps)(JDHomeSearchForm);","map":{"version":3,"sources":["C:/Users/Ahsan Riaz/Desktop/frontend-master (new)/frontend-master/src/components/JD/Templates/SearchForm/container.js"],"names":["connect","JDHomeSearchForm","selectFieldChangeHandler","saveUpdatedJobTitle","saveUpdatedJobSpec","saveUpdatedTemplateJobId","saveUpdatedTemplateSpecId","saveUpdatedTemplates","handleLoadingSpinnerClose","handleLoadingSpinnerOpenWithOptions","instance","BASE_URL","ls","mapStateToProps","state","fields","JDLANDING","forms","landingSearchForm","templateJobId","data","templateSpecId","mapDispatchToProps","dispatch","props","name","e","spec","set","id","label","paramVal","get","then","res","catch","error","fetchDataIfNeeded","mergeProps","stateProps","dispatchProps","ownProps"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\nimport JDHomeSearchForm from \"./component\";\nimport {\n    selectFieldChangeHandler,\n    saveUpdatedJobTitle,\n    saveUpdatedJobSpec,\n    saveUpdatedTemplateJobId,\n    saveUpdatedTemplateSpecId,\n    saveUpdatedTemplates\n} from \"../../actions\";\n\nimport {\n    handleLoadingSpinnerClose,\n    handleLoadingSpinnerOpenWithOptions\n} from \"../../../common/ReduxBased/LoadingSpinner/actions\";\n\nimport instance, { BASE_URL } from \"../../../../api/config\";\nimport ls from 'local-storage'\n\nconst mapStateToProps = state => ({\n    fields: state.JDLANDING.forms.landingSearchForm.fields,\n    templateJobId: state.JDLANDING.data.templateJobId,\n    templateSpecId: state.JDLANDING.data.templateSpecId,\n})\n\nconst mapDispatchToProps = (dispatch, props) => ({\n    selectFieldChangeHandler: (name, e) => {\n        dispatch(selectFieldChangeHandler(name, e));\n        if(name === \"lookingField\") {\n            dispatch(selectFieldChangeHandler(\"forField\", null));\n            dispatch(saveUpdatedJobSpec(e.spec));\n            dispatch(saveUpdatedTemplateJobId(e));\n            ls.set('jobId', e ? e.id : null);\n            ls.set('jobIdLabel', e ? e.label : null);\n\n            ls.set('specId', null);\n            ls.set('specIdLabel', null);\n            //in case we only have job id\n            dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Loading Templates...\", \"large\"));\n\n            let paramVal = e.id\n\n            instance.get(BASE_URL+'Templates?jobId='+paramVal)\n            .then(res => {\n                dispatch(saveUpdatedTemplates(res.data));\n                dispatch(handleLoadingSpinnerClose());\n            })\n            .catch(error => {\n                dispatch(handleLoadingSpinnerClose());\n            })\n        }\n        if(name === \"forField\") {\n            dispatch(saveUpdatedTemplateSpecId(e ? e.id : null));\n            ls.set('specId', e ? e.id : null);\n            ls.set('specIdLabel', e ? e.label : null);\n            \n            //in case we sepecid\n            dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Loading Templates...\", \"large\"));\n\n            if(e) {\n                let paramVal = e.id\n\n                instance.get(BASE_URL+'Templates?specId='+paramVal)\n                .then(res => {\n                    dispatch(saveUpdatedTemplates(res.data));\n                    dispatch(handleLoadingSpinnerClose());\n                })\n                .catch(error => {\n                    dispatch(handleLoadingSpinnerClose());\n                })\n            }else {\n                dispatch(handleLoadingSpinnerClose());\n            }\n        }\n    },\n    fetchDataIfNeeded: () => {\n        instance.get(BASE_URL+'Landing')\n        .then(res => {\n            dispatch(saveUpdatedJobTitle(res.data));\n        })\n        .catch(error => {\n            \n        })\n    },\n})\n\nconst mergeProps = (stateProps, dispatchProps, ownProps) => ({\n    ...stateProps,\n    ...dispatchProps,\n    ...ownProps,\n})\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps,\n    mergeProps\n)(JDHomeSearchForm);"]},"metadata":{},"sourceType":"module"}