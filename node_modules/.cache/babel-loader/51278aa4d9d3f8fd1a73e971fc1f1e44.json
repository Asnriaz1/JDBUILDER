{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Ahsan Riaz\\\\Desktop\\\\frontend-master (new)\\\\frontend-master\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import{handleLoadingSpinnerClose,handleLoadingSpinnerOpenWithOptions}from\"../../../common/ReduxBased/LoadingSpinner/actions\";import{LOGIN_PAGE_ERROR_HANDLER,LOGIN_SUBMIT_FORM_HANDLER}from\"../../../Login/actions\";import ls from'local-storage';import{reverseString}from\"../../../common/Helpers\";import instance,{BASE_URL,BASE_URL_SQL}from\"../../../../api/config\";export var JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER=\"JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER\";export var JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER=\"JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER\";export var JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER=\"JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER\";export var JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER=\"JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER\";export var JD_TEMPLATE_SAVE_HANDLER=\"JD_TEMPLATE_SAVE_HANDLER\";export var JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER=\"JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER\";export var JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER=\"JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER\";export var textFieldChangeHandler=function textFieldChangeHandler(name,value){return function(dispatch){dispatch({type:JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER,payload:value,key:name});};};export var summaryDataActiveHandler=function summaryDataActiveHandler(value){return function(dispatch){dispatch({type:JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER,payload:value});};};export var saveUpdatedSummaryEditor=function saveUpdatedSummaryEditor(value){return function(dispatch){dispatch({type:JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER,payload:value});};};export var saveUpdatedSummaryAsHTML=function saveUpdatedSummaryAsHTML(value){return function(dispatch){dispatch({type:JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER,payload:value});};};export var loginandSubmitTemplateHandler=function loginandSubmitTemplateHandler(value,templateId,selectedSkills,selectedLanguages,JOindustryField,JOfunctionField,rolesResHTMLData,rawContentSummaryAsHTML){return function(dispatch){var resObj={};var keys_needed=[\"access_token\",\"userText\",\"userType\"];dispatch(handleLoadingSpinnerOpenWithOptions(true,\"Signing In\",\"large\"));instance.post(BASE_URL_SQL+'Login',value).then(function(res){if(res.data.statusCode===404){dispatch({type:LOGIN_PAGE_ERROR_HANDLER,payload:res.data.error});}dispatch(handleLoadingSpinnerClose());keys_needed.map(function(item){resObj[reverseString(item)]=res.data[item];return item;});resObj[reverseString(\"user_id\")]=res.data.userId;resObj[reverseString(\"nameTitle\")]=res.data.userText?res.data.userText:res.data.user_name.toUpperCase();localStorage.setItem(reverseString(\"app_store\"),JSON.stringify(resObj));dispatch({type:LOGIN_SUBMIT_FORM_HANDLER,payload:res.data});dispatch({type:JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,payload:false});var jobCode=res.data.jobCode;ls.set('jobCode',jobCode);var userId=res.data.userId;ls.set('userId',userId);var savedTempId=ls.get('suggestedTempId');savedTempId=templateId?templateId:savedTempId;var selected_skills=selectedSkills?selectedSkills.map(function(item){return{_id:item.id,level:item.level,importance:item.importance,title:item.title};}):[];var selected_languages=selectedLanguages?selectedLanguages.map(function(item){return{_id:item.id,level:item.level,importance:item.importance,title:item.title};}):[];var JDIndustry=JOindustryField?JOindustryField[0].id:\"\";var JDFunction=JOfunctionField?JOfunctionField[0].id:\"\";//sending call to save object\nvar dataObj={user_id:res.data.userId?res.data.userId:userId,job_code:jobCode,template_id:savedTempId,title:\"User Onetime Templates\",//missing\n_selected_rr:{htmlstring:rolesResHTMLData,rol:[\"5fbcf9c331d5edc5c9ae2a39\"],res:[\"5fbcf9c331d5edc5c9ae2a39\"]},_selected_skills:_toConsumableArray(selected_skills),_selected_languages:_toConsumableArray(selected_languages),exp:\"2-5\",_selected_summary:{htmlstring:rawContentSummaryAsHTML,s_id:[\"5fbcf9c331d5edc5c9ae2a39\",\"5fbcf9c331d5edc5c9ae2a39\"]},_selected_industry:JDIndustry,_selected_function:JDFunction,employment_type:\"Full Time\",positions:5,salary_detail:{amount:50,type:\"hourly\",currency:\"$\",visible:true},remote_work:true};dispatch(handleLoadingSpinnerOpenWithOptions(true,\"Saving JD\",\"large\"));instance.post(BASE_URL+'Templates',dataObj).then(function(res){dispatch(handleLoadingSpinnerClose());window.location.replace('/create/advertise');}).catch(function(error){dispatch(handleLoadingSpinnerClose());});}).catch(function(error){dispatch(handleLoadingSpinnerClose());});};};export var submitTemplateHandler=function submitTemplateHandler(templateId,selectedSkills,selectedLanguages,JOindustryField,JOfunctionField,rolesResHTMLData,rawContentSummaryAsHTML){return function(dispatch){//sending call to save object\nvar jobCode=ls.get('jobCode');var userId=ls.get('userId');var savedTempId=ls.get('suggestedTempId');savedTempId=templateId?templateId:savedTempId;var selected_skills=selectedSkills?selectedSkills.map(function(item){return{_id:item.id,level:item.level,importance:item.importance,title:item.title};}):[];var selected_languages=selectedLanguages?selectedLanguages.map(function(item){return{_id:item.id,level:item.level,importance:item.importance,title:item.title};}):[];//JD industry\nvar JDIndustry=JOindustryField?JOindustryField[0].id:\"\";var JDFunction=JOfunctionField?JOfunctionField[0].id:\"\";var dataObj={user_id:userId,job_code:jobCode,template_id:savedTempId,title:\"User Onetime Templates\",//missing\n_selected_rr:{htmlstring:rolesResHTMLData,rol:[\"5fbcf9c331d5edc5c9ae2a39\"],res:[\"5fbcf9c331d5edc5c9ae2a39\"]},_selected_skills:_toConsumableArray(selected_skills),_selected_languages:_toConsumableArray(selected_languages),exp:\"2-5\",_selected_summary:{htmlstring:rawContentSummaryAsHTML,s_id:[\"5fbcf9c331d5edc5c9ae2a39\",\"5fbcf9c331d5edc5c9ae2a39\"]},_selected_industry:JDIndustry,_selected_function:JDFunction,employment_type:\"Full Time\",positions:5,salary_detail:{amount:50,type:\"hourly\",currency:\"$\",visible:true},remote_work:true};dispatch(handleLoadingSpinnerOpenWithOptions(true,\"Saving JD\",\"large\"));instance.post(BASE_URL+'Templates',dataObj).then(function(res){dispatch(handleLoadingSpinnerClose());window.location.replace('/create/advertise');}).catch(function(error){dispatch(handleLoadingSpinnerClose());});// instance.post(BASE_URL+'Templates', data)\n// .then(res => {\n//     if(res.status === 200) {\n//         dispatch({\n//             type: JD_TEMPLATE_SAVE_HANDLER,\n//             payload: true,\n//         });\n//     }\n// })\n// .catch(error => {\n// })\n};};export var fetchDataSummary=function fetchDataSummary(value){return function(dispatch){var data=value.summary?value.summary.map(function(item){return{id:item.summary_id,desc:item.title,used:item.used,isActive:false};}):[];dispatch({type:JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER,payload:data});};};export var showLoginPopupHandler=function showLoginPopupHandler(value){return function(dispatch){dispatch({type:JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,payload:value});};};","map":{"version":3,"sources":["C:/Users/Ahsan Riaz/Desktop/frontend-master (new)/frontend-master/src/components/JD/JDBuilding/Summary/actions.js"],"names":["handleLoadingSpinnerClose","handleLoadingSpinnerOpenWithOptions","LOGIN_PAGE_ERROR_HANDLER","LOGIN_SUBMIT_FORM_HANDLER","ls","reverseString","instance","BASE_URL","BASE_URL_SQL","JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER","JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER","JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER","JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER","JD_TEMPLATE_SAVE_HANDLER","JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER","JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER","textFieldChangeHandler","name","value","dispatch","type","payload","key","summaryDataActiveHandler","saveUpdatedSummaryEditor","saveUpdatedSummaryAsHTML","loginandSubmitTemplateHandler","templateId","selectedSkills","selectedLanguages","JOindustryField","JOfunctionField","rolesResHTMLData","rawContentSummaryAsHTML","resObj","keys_needed","post","then","res","data","statusCode","error","map","item","userId","userText","user_name","toUpperCase","localStorage","setItem","JSON","stringify","jobCode","set","savedTempId","get","selected_skills","_id","id","level","importance","title","selected_languages","JDIndustry","JDFunction","dataObj","user_id","job_code","template_id","_selected_rr","htmlstring","rol","_selected_skills","_selected_languages","exp","_selected_summary","s_id","_selected_industry","_selected_function","employment_type","positions","salary_detail","amount","currency","visible","remote_work","window","location","replace","catch","submitTemplateHandler","fetchDataSummary","summary","summary_id","desc","used","isActive","showLoginPopupHandler"],"mappings":"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","sourcesContent":["import {\n    handleLoadingSpinnerClose,\n    handleLoadingSpinnerOpenWithOptions\n} from \"../../../common/ReduxBased/LoadingSpinner/actions\";\nimport {\n    LOGIN_PAGE_ERROR_HANDLER,\n    LOGIN_SUBMIT_FORM_HANDLER\n} from \"../../../Login/actions\";\nimport ls from 'local-storage'\n\nimport { reverseString } from \"../../../common/Helpers\";\nimport instance, { BASE_URL, BASE_URL_SQL } from \"../../../../api/config\"\nexport const JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER = \"JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER\";\nexport const JD_TEMPLATE_SAVE_HANDLER = \"JD_TEMPLATE_SAVE_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER\";\n\nexport const textFieldChangeHandler = (name, value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER,\n        payload: value,\n        key: name\n    });\n};\n\nexport const summaryDataActiveHandler = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER,\n        payload: value,\n    });\n};\n\nexport const saveUpdatedSummaryEditor = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER,\n        payload: value,\n    });\n};\n\nexport const saveUpdatedSummaryAsHTML = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER,\n        payload: value,\n    });\n};\n\nexport const loginandSubmitTemplateHandler = (value, templateId, selectedSkills, selectedLanguages, JOindustryField, JOfunctionField, rolesResHTMLData, rawContentSummaryAsHTML) => dispatch => {\n    let resObj = {};\n    let keys_needed = [\"access_token\", \"userText\", \"userType\"];\n\n    dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Signing In\", \"large\"));\n    instance.post(BASE_URL_SQL + 'Login', value)\n        .then(res => {\n            if (res.data.statusCode === 404) {\n                dispatch({\n                    type: LOGIN_PAGE_ERROR_HANDLER,\n                    payload: res.data.error,\n                });\n            }\n            dispatch(handleLoadingSpinnerClose());\n            keys_needed.map(item => {\n                resObj[reverseString(item)] = res.data[item];\n                return item;\n            });\n            resObj[reverseString(\"user_id\")] = res.data.userId;\n            resObj[reverseString(\"nameTitle\")] = res.data.userText ? res.data.userText : res.data.user_name.toUpperCase();\n            localStorage.setItem(reverseString(\"app_store\"), JSON.stringify(resObj));\n            dispatch({\n                type: LOGIN_SUBMIT_FORM_HANDLER,\n                payload: res.data\n            });\n\n            dispatch({\n                type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n                payload: false,\n            });\n\n            let jobCode = res.data.jobCode;\n            ls.set('jobCode', jobCode);\n\n            let userId = res.data.userId;\n            ls.set('userId', userId);\n\n            let savedTempId = ls.get('suggestedTempId')\n            savedTempId = templateId ? templateId : savedTempId\n\n            let selected_skills = selectedSkills ? selectedSkills.map(item => {\n                return {\n                    _id: item.id,\n                    level: item.level,\n                    importance: item.importance,\n                    title: item.title\n                }\n            }) : []\n\n            let selected_languages = selectedLanguages ? selectedLanguages.map(item => {\n                return {\n                    _id: item.id,\n                    level: item.level,\n                    importance: item.importance,\n                    title: item.title\n                }\n            }) : []\n\n            let JDIndustry = JOindustryField ? JOindustryField[0].id : \"\"\n            let JDFunction = JOfunctionField ? JOfunctionField[0].id : \"\"\n\n            //sending call to save object\n            let dataObj = {\n                user_id: res.data.userId ? res.data.userId : userId,\n                job_code: jobCode,\n                template_id: savedTempId,\n                title: \"User Onetime Templates\", //missing\n                _selected_rr: {\n                    htmlstring: rolesResHTMLData,\n                    rol:[\"5fbcf9c331d5edc5c9ae2a39\"],\n                    res: [\"5fbcf9c331d5edc5c9ae2a39\"]\n                },\n                _selected_skills: [...selected_skills],\n                _selected_languages: [...selected_languages],\n                exp: \"2-5\",\n                _selected_summary: \n                    {\n                        htmlstring: rawContentSummaryAsHTML,\n                        s_id: [\"5fbcf9c331d5edc5c9ae2a39\",\"5fbcf9c331d5edc5c9ae2a39\"]\n                    }\n                ,\n                _selected_industry: JDIndustry,\n                _selected_function: JDFunction,\n                employment_type: \"Full Time\",\n                positions: 5,\n                salary_detail: {\n                    amount: 50,\n                    type: \"hourly\",\n                    currency: \"$\",\n                    visible: true\n                },\n                remote_work:true\n            }\n\n            dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Saving JD\", \"large\"));\n            instance.post(BASE_URL + 'Templates', dataObj)\n            .then(res => {\n                dispatch(handleLoadingSpinnerClose());\n                window.location.replace('/create/advertise')\n            })\n            .catch(error => {\n                dispatch(handleLoadingSpinnerClose());\n            })\n\n        })\n        .catch(error => {\n            dispatch(handleLoadingSpinnerClose());\n        })\n}\n\nexport const submitTemplateHandler = (templateId, selectedSkills, selectedLanguages, JOindustryField, JOfunctionField, rolesResHTMLData, rawContentSummaryAsHTML) => dispatch => {\n\n    //sending call to save object\n\n    let jobCode = ls.get('jobCode');\n\n    let userId = ls.get('userId');\n\n    let savedTempId = ls.get('suggestedTempId')\n    savedTempId = templateId ? templateId : savedTempId\n\n    let selected_skills = selectedSkills ? selectedSkills.map(item => {\n        return {\n            _id: item.id,\n            level: item.level,\n            importance: item.importance,\n            title: item.title\n        }\n    }) : []\n\n    let selected_languages = selectedLanguages ? selectedLanguages.map(item => {\n        return {\n            _id: item.id,\n            level: item.level,\n            importance: item.importance,\n            title: item.title\n        }\n    }) : []\n\n    //JD industry\n    let JDIndustry = JOindustryField ? JOindustryField[0].id : \"\"\n    let JDFunction = JOfunctionField ? JOfunctionField[0].id : \"\"\n\n    let dataObj = {\n        user_id: userId,\n        job_code: jobCode,\n        template_id: savedTempId,\n        title: \"User Onetime Templates\", //missing\n        _selected_rr: {\n            htmlstring: rolesResHTMLData,\n            rol:[\"5fbcf9c331d5edc5c9ae2a39\"],\n            res: [\"5fbcf9c331d5edc5c9ae2a39\"]\n        },\n        _selected_skills: [...selected_skills],\n        _selected_languages: [...selected_languages],\n        exp: \"2-5\",\n        _selected_summary: \n            {\n                htmlstring: rawContentSummaryAsHTML,\n                s_id: [\"5fbcf9c331d5edc5c9ae2a39\",\"5fbcf9c331d5edc5c9ae2a39\"]\n            }\n        ,\n        _selected_industry: JDIndustry,\n        _selected_function: JDFunction,\n        employment_type: \"Full Time\",\n        positions: 5,\n        salary_detail: {\n            amount: 50,\n            type: \"hourly\",\n            currency: \"$\",\n            visible: true\n        },\n        remote_work:true\n    }\n\n    dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Saving JD\", \"large\"));\n    instance.post(BASE_URL + 'Templates', dataObj)\n    .then(res => {\n        dispatch(handleLoadingSpinnerClose());\n        window.location.replace('/create/advertise')\n    })\n    .catch(error => {\n        dispatch(handleLoadingSpinnerClose());\n    })\n\n    // instance.post(BASE_URL+'Templates', data)\n    // .then(res => {\n    //     if(res.status === 200) {\n    //         dispatch({\n    //             type: JD_TEMPLATE_SAVE_HANDLER,\n    //             payload: true,\n    //         });\n    //     }\n    // })\n    // .catch(error => {\n\n    // })\n};\n\nexport const fetchDataSummary = (value) => dispatch => {\n\n    let data = value.summary ? value.summary.map(item => {\n        return {\n            id: item.summary_id,\n            desc: item.title,\n            used: item.used,\n            isActive: false\n        }\n    }): []\n    \n    dispatch({\n        type: JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER,\n        payload: data,\n    });\n};\nexport const showLoginPopupHandler = (value) => dispatch => {\n    dispatch({\n        type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n        payload: value,\n    });\n};"]},"metadata":{},"sourceType":"module"}