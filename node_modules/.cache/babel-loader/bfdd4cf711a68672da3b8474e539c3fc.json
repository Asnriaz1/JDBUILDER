{"ast":null,"code":"import { handleLoadingSpinnerClose, handleLoadingSpinnerOpenWithOptions } from \"../../../common/ReduxBased/LoadingSpinner/actions\";\nimport { headerPathActiveHandler, pathChangeHandler } from \"../../../JD/JDBuilding/actions\";\nimport { LOGIN_PAGE_ERROR_HANDLER, LOGIN_SUBMIT_FORM_HANDLER } from \"../../../Login/actions\";\nimport ls from 'local-storage';\nimport { reverseString } from \"../../../common/Helpers\";\nimport instance, { BASE_URL, BASE_URL_SQL } from \"../../../../api/config\";\nexport const JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER = \"JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER\";\nexport const JD_TEMPLATE_SAVE_HANDLER = \"JD_TEMPLATE_SAVE_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER\";\nexport const textFieldChangeHandler = (name, value) => dispatch => {\n  dispatch({\n    type: JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER,\n    payload: value,\n    key: name\n  });\n};\nexport const summaryDataActiveHandler = value => dispatch => {\n  dispatch({\n    type: JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER,\n    payload: value\n  });\n};\nexport const saveUpdatedSummaryEditor = value => dispatch => {\n  dispatch({\n    type: JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER,\n    payload: value\n  });\n};\nexport const saveUpdatedSummaryAsHTML = value => dispatch => {\n  dispatch({\n    type: JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER,\n    payload: value\n  });\n};\nexport const loginandSubmitTemplateHandler = (value, data) => dispatch => {\n  let resObj = {};\n  let keys_needed = [\"access_token\", \"userText\", \"userType\"];\n  console.log(value);\n  dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Signing In\", \"large\"));\n  instance.post(BASE_URL_SQL + 'Login', value).then(res => {\n    if (res.data.statusCode === 404) {\n      dispatch({\n        type: LOGIN_PAGE_ERROR_HANDLER,\n        payload: res.data.error\n      });\n    }\n\n    dispatch(handleLoadingSpinnerClose());\n    keys_needed.map(item => {\n      resObj[reverseString(item)] = res.data[item];\n      return item;\n    });\n    resObj[reverseString(\"user_id\")] = res.data.userId;\n    resObj[reverseString(\"nameTitle\")] = res.data.userText ? res.data.userText : res.data.user_name.toUpperCase();\n    localStorage.setItem(reverseString(\"app_store\"), JSON.stringify(resObj));\n    dispatch({\n      type: LOGIN_SUBMIT_FORM_HANDLER,\n      payload: res.data\n    });\n    dispatch({\n      type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n      payload: false\n    });\n    let jobCode = res.data.jobCode;\n    ls.set('jobCode', jobCode);\n    let userId = res.data.userId;\n    ls.set('userId', userId);\n    data.job_code = jobCode; // let JDIndustry = JOindustryField ? JOindustryField[0].id : \"\"\n    // let JDFunction = JOfunctionField ? JOfunctionField[0].id : \"\"\n    //  data._selected_skills=_selected_skills;\n    //  data._selected_languages= _selected_languages;\n\n    console.log('data is here', data);\n    dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Saving JD\", \"large\"));\n    instance.post(BASE_URL + 'Templates', data).then(res => {\n      dispatch(handleLoadingSpinnerClose());\n      window.location.replace('/create/advertise');\n      dispatch(headerPathActiveHandler(2)); //    dispatch(pathChangeHandler(\"/create/advertise\"))\n    }).catch(error => {\n      debugger;\n      dispatch(handleLoadingSpinnerClose());\n    });\n  }).catch(error => {\n    debugger;\n    dispatch(handleLoadingSpinnerClose());\n  });\n};\nexport const submitTemplateHandler = data => dispatch => {\n  instance.post(BASE_URL + 'UserTemplates?sectionId=UT3', data).then(res => {\n    dispatch(pathChangeHandler(\"/create/advertise\"));\n  }).catch(error => {});\n};\nexport const fetchDataSummary = value => dispatch => {\n  let data = value.summary ? value.summary.map(item => {\n    return {\n      id: item.summary_id,\n      desc: item.title,\n      used: item.used,\n      isActive: false\n    };\n  }) : [];\n  dispatch({\n    type: JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER,\n    payload: data\n  });\n};\nexport const showLoginPopupHandler = value => dispatch => {\n  dispatch({\n    type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n    payload: value\n  });\n};","map":{"version":3,"sources":["C:/Users/Ahsan Riaz/Desktop/frontend-master (new)/frontend-master/src/components/JD/JDBuilding/Summary/actions.js"],"names":["handleLoadingSpinnerClose","handleLoadingSpinnerOpenWithOptions","headerPathActiveHandler","pathChangeHandler","LOGIN_PAGE_ERROR_HANDLER","LOGIN_SUBMIT_FORM_HANDLER","ls","reverseString","instance","BASE_URL","BASE_URL_SQL","JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER","JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER","JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER","JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER","JD_TEMPLATE_SAVE_HANDLER","JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER","JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER","textFieldChangeHandler","name","value","dispatch","type","payload","key","summaryDataActiveHandler","saveUpdatedSummaryEditor","saveUpdatedSummaryAsHTML","loginandSubmitTemplateHandler","data","resObj","keys_needed","console","log","post","then","res","statusCode","error","map","item","userId","userText","user_name","toUpperCase","localStorage","setItem","JSON","stringify","jobCode","set","job_code","window","location","replace","catch","submitTemplateHandler","fetchDataSummary","summary","id","summary_id","desc","title","used","isActive","showLoginPopupHandler"],"mappings":"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","sourcesContent":["import {\n    handleLoadingSpinnerClose,\n    handleLoadingSpinnerOpenWithOptions\n} from \"../../../common/ReduxBased/LoadingSpinner/actions\";\nimport {\n    headerPathActiveHandler,\n    pathChangeHandler\n} from \"../../../JD/JDBuilding/actions\";\nimport {\n    LOGIN_PAGE_ERROR_HANDLER,\n    LOGIN_SUBMIT_FORM_HANDLER\n} from \"../../../Login/actions\";\nimport ls from 'local-storage'\n\nimport { reverseString } from \"../../../common/Helpers\";\nimport instance, { BASE_URL, BASE_URL_SQL } from \"../../../../api/config\"\nexport const JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER = \"JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER\";\nexport const JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER = \"JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER\";\nexport const JD_TEMPLATE_SAVE_HANDLER = \"JD_TEMPLATE_SAVE_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER\";\nexport const JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER = \"JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER\";\n\nexport const textFieldChangeHandler = (name, value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_TEXT_CHANGE_HANDLER,\n        payload: value,\n        key: name\n    });\n};\n\nexport const summaryDataActiveHandler = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_ACTIVE_TEXT_HANDLER,\n        payload: value,\n    });\n};\n\nexport const saveUpdatedSummaryEditor = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_TEXT_HANDLER,\n        payload: value,\n    });\n};\n\nexport const saveUpdatedSummaryAsHTML = (value) => dispatch => {\n    dispatch({\n        type: JD_JOB_SUMMARY_EDITOR_TEXT_AS_HTML_HANDLER,\n        payload: value,\n    });\n};\n\nexport const loginandSubmitTemplateHandler = (value,data) => dispatch => {\n    let resObj = {};\n    let keys_needed = [\"access_token\", \"userText\", \"userType\"];\nconsole.log(value)\n    dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Signing In\", \"large\"));\n    instance.post(BASE_URL_SQL + 'Login', value)\n        .then(res => {\n            if (res.data.statusCode === 404) {\n                dispatch({\n                    type: LOGIN_PAGE_ERROR_HANDLER,\n                    payload: res.data.error,\n                });\n            }\n            dispatch(handleLoadingSpinnerClose());\n            keys_needed.map(item => {\n                resObj[reverseString(item)] = res.data[item];\n                return item;\n            });\n            resObj[reverseString(\"user_id\")] = res.data.userId;\n            resObj[reverseString(\"nameTitle\")] = res.data.userText ? res.data.userText : res.data.user_name.toUpperCase();\n            localStorage.setItem(reverseString(\"app_store\"), JSON.stringify(resObj));\n            dispatch({\n                type: LOGIN_SUBMIT_FORM_HANDLER,\n                payload: res.data\n            });\n\n            dispatch({\n                type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n                payload: false,\n            });\n\n            let jobCode = res.data.jobCode;\n            ls.set('jobCode', jobCode);\n\n            let userId = res.data.userId;\n            ls.set('userId', userId);\n\n            data.job_code = jobCode;\n\n           \n\n            // let JDIndustry = JOindustryField ? JOindustryField[0].id : \"\"\n            // let JDFunction = JOfunctionField ? JOfunctionField[0].id : \"\"\n        //  data._selected_skills=_selected_skills;\n        //  data._selected_languages= _selected_languages;\nconsole.log('data is here',data)\n            dispatch(handleLoadingSpinnerOpenWithOptions(true, \"Saving JD\", \"large\"));\n            instance.post(BASE_URL + 'Templates', data)\n                .then(res => {\n                    dispatch(handleLoadingSpinnerClose());\n                   window.location.replace('/create/advertise')\n             \n                   dispatch(headerPathActiveHandler(2))\n                //    dispatch(pathChangeHandler(\"/create/advertise\"))\n\n                })\n                .catch(error => {\n                    debugger\n                    dispatch(handleLoadingSpinnerClose());\n                })\n\n        })\n        .catch(error => {\n            debugger\n            dispatch(handleLoadingSpinnerClose());\n        })\n}\n\nexport const submitTemplateHandler = (data) => dispatch => {\n\n  \n    instance.post(BASE_URL+'UserTemplates?sectionId=UT3', data)\n    .then(res => \n        {\n            dispatch(pathChangeHandler(\"/create/advertise\"))\n\n        })\n    .catch(error => {\n\n    })\n};\n\nexport const fetchDataSummary = (value) => dispatch => {\n\n    let data = value.summary ? value.summary.map(item => {\n        return {\n            id: item.summary_id,\n            desc: item.title,\n            used: item.used,\n            isActive: false\n        }\n    }) : []\n\n    dispatch({\n        type: JD_TEMPLATE_SAVE_SUMMARY_SUGGESTION_HANDLER,\n        payload: data,\n    });\n};\nexport const showLoginPopupHandler = (value) => dispatch => {\n    dispatch({\n        type: JD_TEMPLATE_SAVE_SUMMARY_SHOW_LOGIN_POPUP_HANDLER,\n        payload: value,\n    });\n};"]},"metadata":{},"sourceType":"module"}