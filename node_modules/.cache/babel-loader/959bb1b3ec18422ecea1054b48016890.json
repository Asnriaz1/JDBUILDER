{"ast":null,"code":"import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EditorState, RichUtils, Modifier, SelectionState, AtomicBlockUtils, CompositeDecorator, DefaultDraftBlockRenderMap, Editor } from 'draft-js';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport { makeStyles } from '@material-ui/core/styles';\nimport UndoIcon from '@material-ui/icons/Undo';\nimport RedoIcon from '@material-ui/icons/Redo';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport FormatUnderlinedIcon from '@material-ui/icons/FormatUnderlined';\nimport FormatStrikethroughIcon from '@material-ui/icons/FormatStrikethrough';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Link from '@material-ui/core/Link';\nimport Popover from '@material-ui/core/Popover';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport FormatColorTextIcon from '@material-ui/icons/FormatColorText';\nimport FormatColorResetIcon from '@material-ui/icons/FormatColorReset';\nimport CheckIcon from '@material-ui/icons/Check';\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport ImageIcon from '@material-ui/icons/Image';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport LockIcon from '@material-ui/icons/Lock';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport PhotoSizeSelectLargeIcon from '@material-ui/icons/PhotoSizeSelectLarge';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport Paper from '@material-ui/core/Paper';\nimport 'draft-js/dist/Draft.css';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  it = o[Symbol.iterator]();\n  return it.next.bind(it);\n}\n\nfunction DividerControl() {\n  return (\n    /*#__PURE__*/\n    React.createElement(Divider, {\n      orientation: \"vertical\",\n      flexItem: true\n    })\n  );\n}\n\nfunction useEditor() {\n  return React.useContext(EditorContext);\n}\n\nfunction useEditorFocus() {\n  var editor = useEditor();\n\n  var _React$useState = React.useState(0),\n      changesCount = _React$useState[0],\n      setChangesCount = _React$useState[1];\n\n  React.useEffect(function () {\n    if (changesCount > 0) editor.ref.focus();\n  }, [changesCount, editor.ref]);\n  return function () {\n    setChangesCount(function (currentChangesCount) {\n      return currentChangesCount + 1;\n    });\n  };\n}\n\nvar useStyles = makeStyles({\n  badge: function badge(props) {\n    return {\n      background: props.badgeColor\n    };\n  }\n});\n\nfunction ButtonControl(_ref) {\n  var children = _ref.children,\n      onClick = _ref.onClick,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n      _ref$active = _ref.active,\n      active = _ref$active === void 0 ? false : _ref$active,\n      _ref$text = _ref.text,\n      text = _ref$text === void 0 ? '' : _ref$text,\n      _ref$badgeColor = _ref.badgeColor,\n      badgeColor = _ref$badgeColor === void 0 ? null : _ref$badgeColor,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"children\", \"onClick\", \"disabled\", \"active\", \"text\", \"badgeColor\"]);\n\n  var classes = useStyles({\n    badgeColor: badgeColor\n  });\n  return (\n    /*#__PURE__*/\n    React.createElement(Tooltip, {\n      title: text,\n      \"aria-disabled\": disabled\n    },\n    /*#__PURE__*/\n    React.createElement(\"span\", null,\n    /*#__PURE__*/\n    React.createElement(IconButton, _extends({\n      onClick: onClick,\n      disabled: disabled,\n      color: active ? 'primary' : 'default'\n    }, rest),\n    /*#__PURE__*/\n    React.createElement(Badge, {\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'left'\n      },\n      classes: {\n        badge: classes.badge\n      },\n      overlap: \"circle\",\n      badgeContent: \" \",\n      invisible: badgeColor === null,\n      variant: \"dot\"\n    }, children))))\n  );\n}\n\nButtonControl.propTypes = {\n  children: PropTypes.any.isRequired,\n  onClick: PropTypes.func.isRequired,\n  disabled: PropTypes.bool,\n  text: PropTypes.any,\n  badgeColor: PropTypes.any,\n  active: PropTypes.bool\n};\n\nfunction UndoControl() {\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var onClick = function onClick() {\n    editor.onChange(EditorState.undo(editor.editorState));\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      onClick: onClick,\n      text: editor.translate('controls.undo.title')\n    },\n    /*#__PURE__*/\n    React.createElement(UndoIcon, null))\n  );\n}\n\nfunction RedoControl() {\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var onClick = function onClick() {\n    editor.onChange(EditorState.redo(editor.editorState));\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      onClick: onClick,\n      text: editor.translate('controls.redo.title')\n    },\n    /*#__PURE__*/\n    React.createElement(RedoIcon, null))\n  );\n}\n\nvar toggleMappedInlineStyle = function toggleMappedInlineStyle(editorState, styleKeys, newInlineStyle) {\n  var selection = editorState.getSelection();\n  var newContentState = styleKeys.reduce(function (contentState, inlineStyle) {\n    return Modifier.removeInlineStyle(contentState, selection, inlineStyle);\n  }, editorState.getCurrentContent());\n  var newEditorState = EditorState.push(editorState, newContentState, 'change-inline-style');\n  var currentStyle = editorState.getCurrentInlineStyle();\n\n  if (selection.isCollapsed()) {\n    newEditorState = currentStyle.reduce(function (state, inlineStyle) {\n      return RichUtils.toggleInlineStyle(state, inlineStyle);\n    }, newEditorState);\n  }\n\n  if (!currentStyle.has(newInlineStyle)) {\n    newEditorState = RichUtils.toggleInlineStyle(newEditorState, newInlineStyle);\n  }\n\n  return newEditorState;\n};\n\nvar getCurrentMappedInlineStyle = function getCurrentMappedInlineStyle(editorState, styleKeys, defaultInlineStyle) {\n  if (defaultInlineStyle === void 0) {\n    defaultInlineStyle = null;\n  }\n\n  var currentStyle = editorState.getCurrentInlineStyle();\n  return currentStyle.find(function (inlineStyle) {\n    return styleKeys.includes(inlineStyle);\n  }) || defaultInlineStyle;\n};\n\nvar hasAllSelectionTheInlineStyle = function hasAllSelectionTheInlineStyle(editorState, inlineStyle) {\n  var selection = editorState.getSelection();\n  var startKey = selection.getStartKey();\n  var startOffset = selection.getStartOffset();\n  var endKey = selection.getEndKey();\n  var endOffset = selection.getEndOffset();\n  var currentContent = editorState.getCurrentContent();\n  var block = currentContent.getBlockForKey(startKey);\n  var allHasTheInlineStyle = true;\n\n  var styleRangesCallback = function styleRangesCallback(block) {\n    return function (start, end) {\n      var expectedStart = block.getKey() === startKey ? startOffset : 0;\n      var expectedEnd = block.getKey() === endKey ? endOffset : block.getLength() - 1;\n      allHasTheInlineStyle = start <= expectedStart && end >= expectedEnd;\n    };\n  };\n\n  while (block && allHasTheInlineStyle) {\n    allHasTheInlineStyle = false;\n    block.findStyleRanges(function (character) {\n      return character.hasStyle(inlineStyle);\n    }, styleRangesCallback(block));\n    if (block.getKey() !== endKey) break;\n    block = currentContent.getBlockAfter(block.getKey());\n  }\n\n  return allHasTheInlineStyle;\n};\n\nvar getCurrentBlockType = function getCurrentBlockType(editorState, availableBlockTypes) {\n  var blockType = RichUtils.getCurrentBlockType(editorState);\n  if (availableBlockTypes.find(function (avBlockType) {\n    return avBlockType === blockType;\n  })) return blockType;\n  return 'default';\n};\n\nvar applyEntityToCurrentSelection = function applyEntityToCurrentSelection(editorState, entityType, mutability, entityData) {\n  var content = editorState.getCurrentContent();\n  var contentWithEntity = content.createEntity(entityType, mutability, entityData);\n  var entityKey = contentWithEntity.getLastCreatedEntityKey();\n  var selection = editorState.getSelection();\n  var contentStateWithEntity = Modifier.applyEntity(contentWithEntity, selection, entityKey);\n  return EditorState.push(editorState, contentStateWithEntity, 'apply-entity');\n};\n\nToggleInlineStyleButtonControl.propTypes = {\n  inlineStyle: PropTypes.string.isRequired,\n  children: PropTypes.any.isRequired,\n  text: PropTypes.any\n};\n\nfunction ToggleInlineStyleButtonControl(_ref) {\n  var inlineStyle = _ref.inlineStyle,\n      children = _ref.children,\n      text = _ref.text;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(false),\n      isActive = _React$useState[0],\n      setIsActive = _React$useState[1];\n\n  React.useEffect(function () {\n    setIsActive(hasAllSelectionTheInlineStyle(editor.editorState, inlineStyle));\n  }, [editor.editorState, inlineStyle]);\n\n  var onClick = function onClick() {\n    var newEditorState = RichUtils.toggleInlineStyle(editor.editorState, inlineStyle);\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      text: text,\n      onClick: onClick,\n      active: isActive,\n      disabled: editor.editorState.getSelection().isCollapsed()\n    }, children)\n  );\n}\n\nvar inlineStyles = {\n  BOLD: 'BOLD',\n  ITALIC: 'ITALIC',\n  UNDERLINE: 'UNDERLINE',\n  STRIKETHROUGH: 'STRIKETHROUGH',\n  CODE: 'CODE',\n  FONT_FAMILY: 'FONT_FAMILY',\n  FONT_SIZE: 'FONT_SIZE',\n  FONT_COLOR: 'FONT_COLOR',\n  FONT_BACKGROUND: 'FONT_BACKGROUND'\n};\n\nfunction BoldControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleButtonControl, {\n      inlineStyle: inlineStyles.BOLD,\n      text: editor.translate('controls.bold.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatBoldIcon, null))\n  );\n}\n\nfunction ItalicControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleButtonControl, {\n      inlineStyle: inlineStyles.ITALIC,\n      text: editor.translate('controls.italic.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatItalicIcon, null))\n  );\n}\n\nfunction UnderlineControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleButtonControl, {\n      inlineStyle: inlineStyles.UNDERLINE,\n      text: editor.translate('controls.underline.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatUnderlinedIcon, null))\n  );\n}\n\nfunction StrikethroughControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleButtonControl, {\n      inlineStyle: inlineStyles.STRIKETHROUGH,\n      text: editor.translate('controls.strikethrough.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatStrikethroughIcon, null))\n  );\n}\n\nvar entities = {\n  LINK: 'LINK',\n  IMAGE: 'IMAGE'\n};\n\nfunction LinkAddControl() {\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(false),\n      isDialogOpened = _React$useState[0],\n      setIsDialogOpened = _React$useState[1];\n\n  var _React$useState2 = React.useState(''),\n      link = _React$useState2[0],\n      setLink = _React$useState2[1];\n\n  var formRef = React.createRef();\n\n  var onClick = function onClick() {\n    setLink('');\n    setIsDialogOpened(true);\n  };\n\n  var handleCloseDialog = function handleCloseDialog() {\n    setIsDialogOpened(false);\n  };\n\n  var onChangeLink = function onChangeLink(ev) {\n    setLink(ev.currentTarget.value);\n  };\n\n  var handleSubmit = function handleSubmit(ev) {\n    ev.preventDefault();\n    if (link === '') return;\n    handleCloseDialog();\n    editor.onChange(applyEntityToCurrentSelection(editor.editorState, entities.LINK, 'MUTABLE', {\n      url: link\n    }));\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      onClick: onClick,\n      text: editor.translate('controls.linkAdd.title'),\n      disabled: editor.editorState.getSelection().isCollapsed()\n    },\n    /*#__PURE__*/\n    React.createElement(LinkIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: isDialogOpened,\n      onClose: handleCloseDialog\n    },\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      ref: formRef,\n      onSubmit: handleSubmit\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContent, null,\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      autoFocus: true,\n      label: editor.translate('controls.linkAdd.labels.link'),\n      value: link,\n      onChange: onChangeLink,\n      fullWidth: true\n    })),\n    /*#__PURE__*/\n    React.createElement(DialogActions, null,\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"button\",\n      onClick: handleCloseDialog,\n      color: \"primary\"\n    }, editor.translate('controls.linkAdd.actions.cancel')),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      disabled: link === ''\n    }, editor.translate('controls.linkAdd.actions.add'))))))\n  );\n}\n\nvar linkStrategy = function linkStrategy(contentBlock, callback, contentState) {\n  contentBlock.findEntityRanges(function (character) {\n    var entityKey = character.getEntity();\n    return entityKey !== null && contentState.getEntity(entityKey).getType() === entities.LINK;\n  }, callback);\n};\n\nvar EditorLink = function EditorLink(_ref) {\n  var contentState = _ref.contentState,\n      entityKey = _ref.entityKey,\n      blockKey = _ref.blockKey,\n      start = _ref.start,\n      end = _ref.end,\n      children = _ref.children;\n\n  var _React$useState = React.useState(null),\n      anchorEl = _React$useState[0],\n      setAnchorEl = _React$useState[1];\n\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _contentState$getEnti = contentState.getEntity(entityKey).getData(),\n      url = _contentState$getEnti.url;\n\n  var showOptions = function showOptions(ev) {\n    setAnchorEl(ev.currentTarget);\n  };\n\n  var hideOptions = function hideOptions() {\n    setAnchorEl(null);\n  };\n\n  var openLink = function openLink(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    window.open(url, '_blank');\n  };\n\n  var removeLink = function removeLink(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var linkSelection = SelectionState.createEmpty(blockKey).merge({\n      anchorKey: blockKey,\n      anchorOffset: start,\n      focusKey: blockKey,\n      focusOffset: end\n    });\n    editor.onChange(RichUtils.toggleLink(editor.editorState, linkSelection, null));\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(Link, {\n      href: url,\n      rel: \"noopener noreferrer\",\n      target: \"_blank\",\n      \"aria-label\": url,\n      onClick: showOptions\n    }, children),\n    /*#__PURE__*/\n    React.createElement(Popover, {\n      open: Boolean(anchorEl),\n      onClose: hideOptions,\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ButtonGroup, {\n      size: \"small\",\n      \"aria-label\": \"Link options\"\n    },\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: openLink,\n      title: \"Open \" + url\n    },\n    /*#__PURE__*/\n    React.createElement(LaunchIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: removeLink,\n      title: \"Remove link\"\n    },\n    /*#__PURE__*/\n    React.createElement(LinkOffIcon, null)))))\n  );\n};\n\nEditorLink.propTypes = {\n  contentState: PropTypes.object.isRequired,\n  entityKey: PropTypes.string.isRequired,\n  blockKey: PropTypes.string.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.number.isRequired,\n  children: PropTypes.any\n};\n\nvar linkAddPlugin = function linkAddPlugin() {\n  return {\n    decorators: [{\n      strategy: linkStrategy,\n      component: EditorLink\n    }]\n  };\n};\n\nfunction LinkRemoveControl() {\n  var editor = useEditor();\n\n  var onClick = function onClick() {\n    var selection = editor.editorState.getSelection();\n    editor.onChange(RichUtils.toggleLink(editor.editorState, selection, null));\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      onClick: onClick,\n      text: editor.translate('controls.linkRemove.title'),\n      disabled: editor.editorState.getSelection().isCollapsed()\n    },\n    /*#__PURE__*/\n    React.createElement(LinkOffIcon, null))\n  );\n}\n\nvar LANG_PREFIX = 'lang::';\n\nvar translateLiteralWithPrefix = function translateLiteralWithPrefix(literal, translateFn) {\n  return (typeof literal === 'string' || literal instanceof String) && literal.substr(0, LANG_PREFIX.length) === LANG_PREFIX ? translateFn(literal.substr(LANG_PREFIX.length)) : literal;\n};\n\nvar useStyles$1 = makeStyles(function (theme) {\n  return {\n    selectControl: {\n      margin: theme.spacing(1)\n    }\n  };\n});\n\nfunction DropdownControl(_ref) {\n  var value = _ref.value,\n      _onChange = _ref.onChange,\n      options = _ref.options,\n      _ref$minWidth = _ref.minWidth,\n      minWidth = _ref$minWidth === void 0 ? 120 : _ref$minWidth,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"onChange\", \"options\", \"minWidth\"]);\n\n  var classes = useStyles$1();\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(Select, _extends({\n      value: value,\n      onChange: function onChange(ev) {\n        return _onChange(ev.target.value);\n      },\n      className: classes.selectControl,\n      style: {\n        minWidth: minWidth\n      }\n    }, rest), options.map(function (option) {\n      return (\n        /*#__PURE__*/\n        React.createElement(MenuItem, {\n          key: option.value || 'empty',\n          value: option.value\n        }, option.text ? translateLiteralWithPrefix(option.text, editor.translate) : '')\n      );\n    }))\n  );\n}\n\nDropdownControl.propTypes = {\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n  minWidth: PropTypes.number\n};\n\nfunction BlockTypeControl(_ref) {\n  var configuration = _ref.configuration,\n      defaultConfiguration = _ref.defaultConfiguration;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n  var options = configuration.options || defaultConfiguration.options;\n\n  var _React$useState = React.useState('default'),\n      value = _React$useState[0],\n      setValue = _React$useState[1];\n\n  React.useEffect(function () {\n    setValue(getCurrentBlockType(editor.editorState, options.map(function (option) {\n      return option.value;\n    })));\n  }, [editor, options]);\n\n  var handleChange = function handleChange(newValue) {\n    setValue(newValue);\n    var newEditorState = RichUtils.toggleBlockType(editor.editorState, newValue === 'normal' ? '' : newValue);\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(DropdownControl, {\n      options: options,\n      onChange: handleChange,\n      value: value\n    })\n  );\n}\n\nBlockTypeControl.propTypes = {\n  configuration: PropTypes.any,\n  defaultConfiguration: PropTypes.any.isRequired\n};\nToggleBlockTypeButtonControl.propTypes = {\n  blockType: PropTypes.string.isRequired,\n  children: PropTypes.any.isRequired,\n  text: PropTypes.any\n};\n\nfunction ToggleBlockTypeButtonControl(_ref) {\n  var blockType = _ref.blockType,\n      children = _ref.children,\n      text = _ref.text;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var onClick = function onClick() {\n    var newEditorState = RichUtils.toggleBlockType(editor.editorState, blockType);\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      text: text,\n      onClick: onClick\n    }, children)\n  );\n}\n\nfunction UnorderedListControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleBlockTypeButtonControl, {\n      blockType: \"unordered-list-item\",\n      text: editor.translate('controls.unorderedList.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatListBulletedIcon, null))\n  );\n}\n\nvar blockStyles = {\n  H1: 'header-one',\n  H2: 'header-two',\n  H3: 'header-three',\n  H4: 'header-four',\n  H5: 'header-five',\n  H6: 'header-six',\n  UL: 'unordered-list-item',\n  OL: 'ordered-list-item',\n  BLOCKQUOTE: 'blockquote',\n  CODE_BLOCK: 'code-block',\n  UNSTYLED: 'unstyled',\n  ATOMIC: 'atomic'\n};\n\nfunction OrderedListControl() {\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleBlockTypeButtonControl, {\n      blockType: blockStyles.OL,\n      text: editor.translate('controls.orderedList.title')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatListNumberedIcon, null))\n  );\n}\n\nfunction FontFamilyControl(_ref) {\n  var pluginData = _ref.pluginData;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(inlineStyles.FONT_FAMILY + \"-default\"),\n      selectedFontFamilyStyle = _React$useState[0],\n      setSelectedFontFamilyStyle = _React$useState[1];\n\n  var styleKeys = Object.keys(pluginData.customStyleMap);\n  React.useEffect(function () {\n    setSelectedFontFamilyStyle(getCurrentMappedInlineStyle(editor.editorState, styleKeys, inlineStyles.FONT_FAMILY + \"-default\"));\n  }, [editor.editorState, styleKeys]);\n\n  var handleChange = function handleChange(newInlineStyle) {\n    setSelectedFontFamilyStyle(newInlineStyle);\n    var newEditorState = toggleMappedInlineStyle(editor.editorState, styleKeys, newInlineStyle);\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(DropdownControl, {\n      options: styleKeys.map(function (inlineStyle) {\n        return {\n          value: inlineStyle,\n          text: pluginData.customStyleMap[inlineStyle].fontFamily ?\n          /*#__PURE__*/\n          React.createElement(\"span\", {\n            style: {\n              fontFamily: pluginData.customStyleMap[inlineStyle].fontFamily\n            }\n          }, pluginData.customStyleMap[inlineStyle].fontFamily) : 'default'\n        };\n      }),\n      onChange: handleChange,\n      value: selectedFontFamilyStyle\n    })\n  );\n}\n\nFontFamilyControl.propTypes = {\n  pluginData: PropTypes.any.isRequired\n};\n\nvar fontFamilyPlugin = function fontFamilyPlugin(configuration, defaultConfiguration) {\n  var fontFamilies = configuration.options || defaultConfiguration.options;\n  var customStyleMap = {};\n\n  for (var _iterator = _createForOfIteratorHelperLoose(fontFamilies), _step; !(_step = _iterator()).done;) {\n    var fontFamily = _step.value;\n    customStyleMap[inlineStyles.FONT_FAMILY + \"-\" + fontFamily] = fontFamily === 'default' ? {} : {\n      fontFamily: fontFamily\n    };\n  }\n\n  return {\n    customStyleMap: customStyleMap\n  };\n};\n\nfunction TextAlignControl() {\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(null),\n      selectedTextAlign = _React$useState[0],\n      setSelectedTextAlign = _React$useState[1];\n\n  React.useEffect(function () {\n    var selection = editor.editorState.getSelection();\n    var currentBlock = editor.editorState.getCurrentContent().getBlockForKey(selection.getStartKey());\n    var blockData = currentBlock.getData();\n\n    if (blockData && blockData.get('textAlign')) {\n      setSelectedTextAlign(blockData.get('textAlign'));\n    } else {\n      setSelectedTextAlign(null);\n    }\n  }, [editor.editorState]);\n\n  var toggle = function toggle(textAlign) {\n    setSelectedTextAlign(textAlign);\n    var editorState = editor.editorState;\n    var newContentState = Modifier.mergeBlockData(editorState.getCurrentContent(), editorState.getSelection(), {\n      textAlign: textAlign\n    });\n    editor.onChange(EditorState.push(editorState, newContentState, 'change-block-data'));\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      active: selectedTextAlign === 'left',\n      onClick: function onClick() {\n        return toggle('left');\n      },\n      text: editor.translate('controls.textAlign.actions.alignLeft')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatAlignLeftIcon, null)),\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      active: selectedTextAlign === 'center',\n      onClick: function onClick() {\n        return toggle('center');\n      },\n      text: editor.translate('controls.textAlign.actions.alignCenter')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatAlignCenterIcon, null)),\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      active: selectedTextAlign === 'right',\n      onClick: function onClick() {\n        return toggle('right');\n      },\n      text: editor.translate('controls.textAlign.actions.alignRight')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatAlignRightIcon, null)),\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      active: selectedTextAlign === 'justify',\n      onClick: function onClick() {\n        return toggle('justify');\n      },\n      text: editor.translate('controls.textAlign.actions.justify')\n    },\n    /*#__PURE__*/\n    React.createElement(FormatAlignJustifyIcon, null)))\n  );\n}\n\nTextAlignControl.propTypes = {};\n\nvar textAlignPlugin = function textAlignPlugin() {\n  return {\n    blockStyleFn: function blockStyleFn(block) {\n      var textAlign = block.getData() ? block.getData().get('textAlign') : null;\n\n      if (textAlign) {\n        return \"mui-editor-\" + textAlign + \"-aligned-block\";\n      }\n\n      return '';\n    }\n  };\n};\n\nFontSizeControl.propTypes = {\n  pluginData: PropTypes.object.isRequired\n};\n\nfunction FontSizeControl(_ref) {\n  var pluginData = _ref.pluginData;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(inlineStyles.FONT_SIZE + \"-default\"),\n      selectedFontSizeStyle = _React$useState[0],\n      setSelectedFontSizeStyle = _React$useState[1];\n\n  var styleKeys = Object.keys(pluginData.customStyleMap);\n  React.useEffect(function () {\n    setSelectedFontSizeStyle(getCurrentMappedInlineStyle(editor.editorState, styleKeys, inlineStyles.FONT_SIZE + \"-default\"));\n  }, [editor.editorState, styleKeys]);\n\n  var handleChange = function handleChange(newInlineStyle) {\n    setSelectedFontSizeStyle(newInlineStyle);\n    var newEditorState = toggleMappedInlineStyle(editor.editorState, styleKeys, newInlineStyle);\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(DropdownControl, {\n      options: styleKeys.map(function (inlineStyle) {\n        return {\n          text: pluginData.customStyleMap[inlineStyle].fontSize ?\n          /*#__PURE__*/\n          React.createElement(\"span\", {\n            style: {\n              fontSize: pluginData.customStyleMap[inlineStyle].fontSize\n            }\n          }, pluginData.customStyleMap[inlineStyle].fontSize) : 'default',\n          value: inlineStyle\n        };\n      }),\n      onChange: handleChange,\n      renderValue: function renderValue(style) {\n        return pluginData.customStyleMap[style].fontSize || editor.translate('controls.fontSize.labels.default');\n      },\n      value: selectedFontSizeStyle,\n      minWidth: 50\n    })\n  );\n}\n\nvar fontSizePlugin = function fontSizePlugin(configuration, defaultConfiguration) {\n  var fontSizes = configuration.options || defaultConfiguration.options;\n  var customStyleMap = {};\n\n  for (var _iterator = _createForOfIteratorHelperLoose(fontSizes), _step; !(_step = _iterator()).done;) {\n    var fontSize = _step.value;\n    customStyleMap[inlineStyles.FONT_SIZE + \"-\" + fontSize] = fontSize === 'default' ? {} : {\n      fontSize: fontSize\n    };\n  }\n\n  return {\n    customStyleMap: customStyleMap\n  };\n};\n\nvar isLightOrDark = function isLightOrDark(color) {\n  var r, g, b;\n\n  if (color.match(/^rgb/)) {\n    color = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n    r = color[1];\n    g = color[2];\n    b = color[3];\n  } else {\n    color = +('0x' + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));\n    r = color >> 16;\n    g = color >> 8 & 255;\n    b = color & 255;\n  }\n\n  var hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n\n  if (hsp > 127.5) {\n    return 'light';\n  } else {\n    return 'dark';\n  }\n};\n\nvar useStyles$2 = makeStyles({\n  colorRow: {\n    display: 'flex',\n    alignContent: 'center',\n    alignItems: 'center',\n    padding: 5\n  },\n  colorItem: {\n    height: 25,\n    width: 25,\n    borderRadius: '50%',\n    margin: 3,\n    border: 'solid 1px #c4c4c4',\n    cursor: 'pointer',\n    display: 'flex',\n    alignContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nfunction ColorSelectorControl(_ref) {\n  var selectedColor = _ref.selectedColor,\n      onSelectColor = _ref.onSelectColor,\n      colors = _ref.colors,\n      _ref$colorsPerRow = _ref.colorsPerRow,\n      colorsPerRow = _ref$colorsPerRow === void 0 ? 10 : _ref$colorsPerRow,\n      children = _ref.children,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"selectedColor\", \"onSelectColor\", \"colors\", \"colorsPerRow\", \"children\"]);\n\n  var classes = useStyles$2();\n\n  var _React$useState = React.useState(null),\n      anchorEl = _React$useState[0],\n      setAnchorEl = _React$useState[1];\n\n  var menuId = Math.random().toString(36).substring(8);\n  var colorRows = [[]];\n\n  for (var i = 0, rowI = 0; i < colors.length; i++) {\n    if (i % colorsPerRow === 0) {\n      rowI++;\n      colorRows[rowI] = [];\n    }\n\n    colorRows[rowI].push(colors[i]);\n  }\n\n  var handleOpen = function handleOpen(ev) {\n    setAnchorEl(ev.currentTarget);\n  };\n\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(ButtonControl, _extends({\n      onClick: handleOpen,\n      \"aria-controls\": menuId,\n      \"aria-haspopup\": \"true\",\n      badgeColor: selectedColor ? selectedColor.color : null\n    }, rest), children),\n    /*#__PURE__*/\n    React.createElement(Popover, {\n      id: menuId,\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'left'\n      },\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: handleClose\n    },\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(Button, {\n      startIcon:\n      /*#__PURE__*/\n      React.createElement(FormatColorResetIcon, null),\n      fullWidth: true,\n      color: \"secondary\",\n      onClick: function onClick() {\n        handleClose();\n        onSelectColor(null);\n      }\n    }, \"None\"), colorRows.map(function (colorRow, colorRowI) {\n      return (\n        /*#__PURE__*/\n        React.createElement(\"div\", {\n          key: \"color-row-\" + colorRowI,\n          className: classes.colorRow\n        }, colorRow.map(function (colorData) {\n          return (\n            /*#__PURE__*/\n            React.createElement(Tooltip, {\n              key: colorData.value,\n              title: colorData.text\n            },\n            /*#__PURE__*/\n            React.createElement(\"div\", {\n              onClick: function onClick() {\n                handleClose();\n                onSelectColor(colorData);\n              },\n              className: classes.colorItem,\n              style: {\n                backgroundColor: colorData.color\n              }\n            }, selectedColor && colorData.value === selectedColor.value ?\n            /*#__PURE__*/\n            React.createElement(CheckIcon, {\n              style: {\n                color: isLightOrDark(colorData.color) === 'dark' ? '#fff' : '#000'\n              }\n            }) : null))\n          );\n        }))\n      );\n    }))))\n  );\n}\n\nColorSelectorControl.propTypes = {\n  selectedColor: PropTypes.object,\n  onSelectColor: PropTypes.func.isRequired,\n  colors: PropTypes.array.isRequired,\n  colorsPerRow: PropTypes.number,\n  children: PropTypes.any\n};\n\nfunction ToggleInlineStyleColorSelectorControl(_ref) {\n  var configuration = _ref.configuration,\n      defaultConfiguration = _ref.defaultConfiguration,\n      pluginData = _ref.pluginData,\n      colorCssProp = _ref.colorCssProp,\n      inlineStyle = _ref.inlineStyle,\n      text = _ref.text,\n      children = _ref.children;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n\n  var _React$useState = React.useState(null),\n      selectedColor = _React$useState[0],\n      setSelectedColor = _React$useState[1];\n\n  var options = configuration.options || defaultConfiguration.options;\n  React.useEffect(function () {\n    var selectededInlineStyle = getCurrentMappedInlineStyle(editor.editorState, Object.keys(pluginData.customStyleMap), null);\n    setSelectedColor(selectededInlineStyle && pluginData.customStyleMap[selectededInlineStyle] ? {\n      color: pluginData.customStyleMap[selectededInlineStyle][colorCssProp],\n      value: selectededInlineStyle\n    } : null);\n  }, [editor.editorState, pluginData.customStyleMap, colorCssProp]);\n\n  var handleSelectColor = function handleSelectColor(selectedColorData) {\n    setSelectedColor(selectedColorData);\n    var newEditorState = toggleMappedInlineStyle(editor.editorState, Object.keys(pluginData.customStyleMap), selectedColorData ? selectedColorData.value : '');\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(ColorSelectorControl, {\n      text: text,\n      onSelectColor: handleSelectColor,\n      selectedColor: selectedColor,\n      colorsPerRow: configuration.colorsPerRow || defaultConfiguration.colorsPerRow,\n      disabled: editor.editorState.getSelection().isCollapsed(),\n      colors: options.map(function (option) {\n        return {\n          text: option.text,\n          color: option.value,\n          value: inlineStyle + \"-\" + option.value\n        };\n      })\n    }, children)\n  );\n}\n\nToggleInlineStyleColorSelectorControl.propTypes = {\n  configuration: PropTypes.object,\n  defaultConfiguration: PropTypes.object.isRequired,\n  pluginData: PropTypes.object.isRequired,\n  colorCssProp: PropTypes.string.isRequired,\n  inlineStyle: PropTypes.string.isRequired,\n  text: PropTypes.string,\n  children: PropTypes.any\n};\n\nfunction FontColorControl(_ref) {\n  var configuration = _ref.configuration,\n      defaultConfiguration = _ref.defaultConfiguration,\n      pluginData = _ref.pluginData;\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleColorSelectorControl, {\n      text: editor.translate('controls.fontColor.title'),\n      configuration: configuration,\n      defaultConfiguration: defaultConfiguration,\n      inlineStyle: inlineStyles.FONT_COLOR,\n      pluginData: pluginData,\n      colorCssProp: \"color\"\n    },\n    /*#__PURE__*/\n    React.createElement(FormatColorTextIcon, null))\n  );\n}\n\nFontColorControl.propTypes = {\n  configuration: PropTypes.object,\n  defaultConfiguration: PropTypes.object.isRequired,\n  pluginData: PropTypes.object.isRequired\n};\n\nvar fontColorPlugin = function fontColorPlugin(configuration, defaultConfiguration) {\n  var fontColors = configuration.options || defaultConfiguration.options;\n  var customStyleMap = {};\n\n  for (var _iterator = _createForOfIteratorHelperLoose(fontColors), _step; !(_step = _iterator()).done;) {\n    var fontColor = _step.value;\n    customStyleMap[inlineStyles.FONT_COLOR + \"-\" + fontColor.value] = {\n      color: fontColor.value\n    };\n  }\n\n  return {\n    customStyleMap: customStyleMap\n  };\n};\n\nfunction FontBackgroundColorControl(_ref) {\n  var configuration = _ref.configuration,\n      defaultConfiguration = _ref.defaultConfiguration,\n      pluginData = _ref.pluginData;\n  var editor = useEditor();\n  return (\n    /*#__PURE__*/\n    React.createElement(ToggleInlineStyleColorSelectorControl, {\n      text: editor.translate('controls.fontBackgroundColor.title'),\n      configuration: configuration,\n      defaultConfiguration: defaultConfiguration,\n      inlineStyle: inlineStyles.FONT_BACKGROUND,\n      pluginData: pluginData,\n      colorCssProp: \"backgroundColor\"\n    },\n    /*#__PURE__*/\n    React.createElement(BorderColorIcon, null))\n  );\n}\n\nFontBackgroundColorControl.propTypes = {\n  configuration: PropTypes.object,\n  defaultConfiguration: PropTypes.object.isRequired,\n  pluginData: PropTypes.object.isRequired\n};\n\nvar fontBackgroundColorPlugin = function fontBackgroundColorPlugin(configuration, defaultConfiguration) {\n  var fontBgs = configuration.options || defaultConfiguration.options;\n  var customStyleMap = {};\n\n  for (var _iterator = _createForOfIteratorHelperLoose(fontBgs), _step; !(_step = _iterator()).done;) {\n    var fontBg = _step.value;\n    customStyleMap[inlineStyles.FONT_BACKGROUND + \"-\" + fontBg.value] = {\n      backgroundColor: fontBg.value\n    };\n  }\n\n  return {\n    customStyleMap: customStyleMap\n  };\n};\n\nvar useStyles$3 = makeStyles(function (theme) {\n  return {\n    imgWrapper: {\n      maxWidth: '100%',\n      maxHeight: 300,\n      overflow: 'auto',\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2)\n    }\n  };\n});\n\nfunction ImageToUpload(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      src = _ref.src;\n  var classes = useStyles$3();\n  return (\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: classes.imgWrapper\n    },\n    /*#__PURE__*/\n    React.createElement(\"img\", {\n      alt: \"\",\n      width: width,\n      height: height,\n      src: src\n    }))\n  );\n}\n\nImageToUpload.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  src: PropTypes.string.isRequired\n};\n\nfunction SizeInputs(_ref) {\n  var originalWidth = _ref.originalWidth,\n      originalHeight = _ref.originalHeight,\n      width = _ref.width,\n      height = _ref.height,\n      onChangeWidth = _ref.onChangeWidth,\n      onChangeHeight = _ref.onChangeHeight;\n  var editor = useEditor();\n\n  var _React$useState = React.useState(true),\n      maintainAspectRatio = _React$useState[0],\n      setMaintainAspectRatio = _React$useState[1];\n\n  var aspectRatio = originalWidth / originalHeight;\n\n  var handleChangeWidth = function handleChangeWidth(ev) {\n    ev.stopPropagation();\n    var value = ev.currentTarget.value;\n    var w = value === '' || isNaN(value) ? 0 : parseInt(value);\n    onChangeWidth(w);\n\n    if (maintainAspectRatio) {\n      onChangeHeight(Math.round(w / aspectRatio));\n    }\n  };\n\n  var handleChangeHeight = function handleChangeHeight(ev) {\n    ev.stopPropagation();\n    var value = ev.currentTarget.value;\n    var h = value === '' || isNaN(value) ? 0 : parseInt(value);\n    onChangeHeight(h);\n\n    if (maintainAspectRatio) {\n      onChangeWidth(Math.round(h * aspectRatio));\n    }\n  };\n\n  var handleClickAspectRatio = function handleClickAspectRatio() {\n    var newMaintainAspectRatio = !maintainAspectRatio;\n    setMaintainAspectRatio(newMaintainAspectRatio);\n\n    if (newMaintainAspectRatio) {\n      onChangeHeight(Math.round(width / aspectRatio));\n    }\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      direction: \"row\",\n      justify: \"flex-end\",\n      alignItems: \"center\",\n      spacing: 2\n    },\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      type: \"number\",\n      label: editor.translate('controls.image.labels.width'),\n      size: \"small\",\n      value: width,\n      onChange: handleChangeWidth,\n      onClick: function onClick(ev) {\n        return ev.stopPropagation();\n      },\n      style: {\n        maxWidth: 90\n      }\n    })),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true\n    },\n    /*#__PURE__*/\n    React.createElement(IconButton, {\n      onClick: handleClickAspectRatio,\n      size: \"small\"\n    }, maintainAspectRatio ?\n    /*#__PURE__*/\n    React.createElement(LockIcon, null) :\n    /*#__PURE__*/\n    React.createElement(LockOpenIcon, null))),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      item: true\n    },\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      type: \"number\",\n      label: editor.translate('controls.image.labels.height'),\n      size: \"small\",\n      value: height,\n      onChange: handleChangeHeight,\n      onClick: function onClick(ev) {\n        return ev.stopPropagation();\n      },\n      style: {\n        maxWidth: 90\n      }\n    })))\n  );\n}\n\nSizeInputs.propTypes = {\n  originalWidth: PropTypes.number.isRequired,\n  originalHeight: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  onChangeWidth: PropTypes.func.isRequired,\n  onChangeHeight: PropTypes.func.isRequired\n};\n\nfunction ByUrlDialog(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      onSubmit = _ref.onSubmit;\n  var editor = useEditor();\n\n  var _React$useState = React.useState(''),\n      imageURL = _React$useState[0],\n      setImageURL = _React$useState[1];\n\n  var _React$useState2 = React.useState(0),\n      imageWidth = _React$useState2[0],\n      setImageWidth = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      imageOriginalWidth = _React$useState3[0],\n      setImageOriginalWidth = _React$useState3[1];\n\n  var _React$useState4 = React.useState(0),\n      imageHeight = _React$useState4[0],\n      setImageHeight = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      imageOriginalHeight = _React$useState5[0],\n      setImageOriginalHeight = _React$useState5[1];\n\n  var _React$useState6 = React.useState(false),\n      isUploading = _React$useState6[0],\n      setIsUploading = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      isValidImage = _React$useState7[0],\n      setIsValidImage = _React$useState7[1];\n\n  var _React$useState8 = React.useState(false),\n      hasError = _React$useState8[0],\n      setHasError = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      changeTimeout = _React$useState9[0],\n      setChangeTimeout = _React$useState9[1];\n\n  var handleSubmit = function handleSubmit(ev) {\n    ev.preventDefault();\n    onSubmit({\n      imageURL: imageURL,\n      imageWidth: imageWidth,\n      imageHeight: imageHeight\n    });\n  };\n\n  var resetForm = function resetForm() {\n    setIsValidImage(false);\n    setImageURL('');\n  };\n\n  var handleURLChange = function handleURLChange(url) {\n    setImageURL(url);\n\n    if (changeTimeout) {\n      clearTimeout(changeTimeout);\n      setChangeTimeout(null);\n    }\n\n    if (url === '') {\n      setHasError(false);\n      setIsValidImage(false);\n      return;\n    }\n\n    var to = setTimeout(function () {\n      setIsUploading(true);\n      var image = new Image();\n\n      image.onload = function () {\n        setImageWidth(this.width);\n        setImageOriginalWidth(this.width);\n        setImageHeight(this.height);\n        setImageOriginalHeight(this.height);\n        setIsUploading(false);\n        setIsValidImage(true);\n        setHasError(false);\n      };\n\n      image.onerror = function () {\n        setIsUploading(false);\n        setIsValidImage(false);\n        setHasError(true);\n      };\n\n      image.src = url;\n      setChangeTimeout(null);\n    }, 1000);\n    setChangeTimeout(to);\n  };\n\n  var content = null;\n  if (isUploading) content =\n  /*#__PURE__*/\n  React.createElement(CircularProgress, null);else if (isValidImage && imageURL) content =\n  /*#__PURE__*/\n  React.createElement(ImageToUpload, {\n    src: imageURL,\n    height: imageHeight,\n    width: imageWidth\n  });else if (hasError && !isValidImage && imageURL) content =\n  /*#__PURE__*/\n  React.createElement(Typography, {\n    variant: \"subtitle1\",\n    color: \"error\",\n    gutterBottom: true\n  }, editor.translate('controls.image.errorMessages.notValidImage'));\n  return (\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: open,\n      onClose: onClose,\n      onEnter: resetForm\n    },\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      onSubmit: handleSubmit\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContent, null, isValidImage && imageURL !== '' &&\n    /*#__PURE__*/\n    React.createElement(SizeInputs, {\n      width: imageWidth,\n      onChangeHeight: setImageHeight,\n      height: imageHeight,\n      originalWidth: imageOriginalWidth,\n      originalHeight: imageOriginalHeight,\n      onChangeWidth: setImageWidth\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\",\n      justify: \"center\"\n    }, content),\n    /*#__PURE__*/\n    React.createElement(TextField, {\n      autoFocus: true,\n      label: editor.translate('controls.image.labels.url'),\n      value: imageURL,\n      onChange: function onChange(ev) {\n        return handleURLChange(ev.currentTarget.value);\n      },\n      fullWidth: true\n    })),\n    /*#__PURE__*/\n    React.createElement(DialogActions, null,\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"button\",\n      onClick: onClose,\n      color: \"primary\"\n    }, editor.translate('controls.image.actions.cancel')),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      disabled: !isValidImage\n    }, editor.translate('controls.image.actions.add')))))\n  );\n}\n\nByUrlDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n}; // A type of promise-like that resolves synchronously and supports only one observer\n\nvar _iteratorSymbol =\n/*#__PURE__*/\ntypeof Symbol !== \"undefined\" ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nvar _asyncIteratorSymbol =\n/*#__PURE__*/\ntypeof Symbol !== \"undefined\" ? Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\")) : \"@@asyncIterator\"; // Asynchronously call a function and send errors to recovery continuation\n\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n}\n\nvar useStyles$4 = makeStyles(function (theme) {\n  return {\n    dropArea: function dropArea(_ref) {\n      var highlightDropArea = _ref.highlightDropArea;\n      return {\n        width: 500,\n        height: 300,\n        boxSizing: 'border-box',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: theme.spacing(2),\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(2),\n        borderRadius: theme.shape.borderRadius || 4,\n        backgroundColor: highlightDropArea ? theme.palette.grey[400] || '#bdbdbd' : theme.palette.grey[200] || '#eeeeee',\n        border: highlightDropArea ? \"solid 3px \" + (theme.palette.grey[600] || '#757575') : \"dashed 3px \" + (theme.palette.grey[400] || '#bdbdbd'),\n        color: theme.palette.text.hint || 'rgba(0, 0, 0, 0.38)',\n        cursor: 'pointer'\n      };\n    }\n  };\n});\n\nfunction UploadDialog(_ref2) {\n  var open = _ref2.open,\n      onClose = _ref2.onClose,\n      onSubmit = _ref2.onSubmit,\n      uploadCallback = _ref2.uploadCallback;\n  var editor = useEditor();\n\n  var _React$useState = React.useState(''),\n      imageURL = _React$useState[0],\n      setImageURL = _React$useState[1];\n\n  var _React$useState2 = React.useState(0),\n      imageWidth = _React$useState2[0],\n      setImageWidth = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      imageOriginalWidth = _React$useState3[0],\n      setImageOriginalWidth = _React$useState3[1];\n\n  var _React$useState4 = React.useState(0),\n      imageHeight = _React$useState4[0],\n      setImageHeight = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      imageOriginalHeight = _React$useState5[0],\n      setImageOriginalHeight = _React$useState5[1];\n\n  var _React$useState6 = React.useState(false),\n      isUploading = _React$useState6[0],\n      setIsUploading = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      isValidImage = _React$useState7[0],\n      setIsValidImage = _React$useState7[1];\n\n  var _React$useState8 = React.useState(false),\n      hasError = _React$useState8[0],\n      setHasError = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      errorMessage = _React$useState9[0],\n      setErrorMessage = _React$useState9[1];\n\n  var _React$useState10 = React.useState(false),\n      highlightDropArea = _React$useState10[0],\n      setHighlightDropArea = _React$useState10[1];\n\n  var inputFileRef = React.createRef();\n  var classes = useStyles$4({\n    highlightDropArea: highlightDropArea\n  });\n\n  var handleSubmit = function handleSubmit(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    onSubmit({\n      imageURL: imageURL,\n      imageWidth: imageWidth,\n      imageHeight: imageHeight\n    });\n  };\n\n  var handleClickDropArea = function handleClickDropArea(ev) {\n    ev.preventDefault();\n    inputFileRef.current.click();\n  };\n\n  var handleDragEnter = function handleDragEnter(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    setHighlightDropArea(true);\n  };\n\n  var handleDragLeave = function handleDragLeave(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    setHighlightDropArea(false);\n  };\n\n  var handleDragOver = function handleDragOver(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    setHighlightDropArea(true);\n  };\n\n  var handleDrop = function handleDrop(ev) {\n    try {\n      ev.preventDefault();\n      ev.stopPropagation();\n      var files = ev.dataTransfer.files;\n\n      var _temp2 = function () {\n        if (files.length > 0) return Promise.resolve(onSelectFile(files[0])).then(function () {});\n      }();\n\n      return Promise.resolve(_temp2 && _temp2.then ? _temp2.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var handleInputFileChange = function handleInputFileChange() {\n    try {\n      var files = inputFileRef.current.files;\n\n      var _temp4 = function () {\n        if (files.length > 0) return Promise.resolve(onSelectFile(files[0])).then(function () {});\n      }();\n\n      return Promise.resolve(_temp4 && _temp4.then ? _temp4.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var onSelectFile = function onSelectFile(file) {\n    try {\n      setHighlightDropArea(false);\n      setIsUploading(true);\n\n      var _temp6 = _catch(function () {\n        return Promise.resolve(uploadCallback(file)).then(function (selectedImageUrl) {\n          setImageURL(selectedImageUrl);\n          var image = new Image();\n\n          image.onload = function () {\n            setImageWidth(this.width);\n            setImageOriginalWidth(this.width);\n            setImageHeight(this.height);\n            setImageOriginalHeight(this.height);\n            setIsUploading(false);\n            setIsValidImage(true);\n            setHasError(false);\n          };\n\n          image.onerror = function () {\n            setIsUploading(false);\n            setIsValidImage(false);\n            setHasError(true);\n            setErrorMessage(null);\n          };\n\n          image.src = selectedImageUrl;\n        });\n      }, function (e) {\n        setIsUploading(false);\n        setIsValidImage(false);\n        setHasError(true);\n        setErrorMessage(e);\n      });\n\n      return Promise.resolve(_temp6 && _temp6.then ? _temp6.then(function () {}) : void 0);\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n\n  var resetForm = function resetForm() {\n    setImageURL('');\n    setIsValidImage(false);\n    setIsUploading(false);\n    setHighlightDropArea(false);\n  };\n\n  var dropAreaContent =\n  /*#__PURE__*/\n  React.createElement(Typography, {\n    variant: \"subtitle1\"\n  }, editor.translate('controls.image.labels.dropImageHere'));\n\n  if (isUploading) {\n    dropAreaContent =\n    /*#__PURE__*/\n    React.createElement(CircularProgress, null);\n  } else if (isValidImage && imageURL) {\n    dropAreaContent =\n    /*#__PURE__*/\n    React.createElement(ImageToUpload, {\n      src: imageURL,\n      height: imageHeight,\n      width: imageWidth\n    });\n  }\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: open,\n      onClose: onClose,\n      onEnter: resetForm\n    },\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      onSubmit: handleSubmit\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContent, null,\n    /*#__PURE__*/\n    React.createElement(\"input\", {\n      ref: inputFileRef,\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleInputFileChange,\n      style: {\n        display: 'none'\n      }\n    }), isValidImage && imageURL !== '' &&\n    /*#__PURE__*/\n    React.createElement(SizeInputs, {\n      originalWidth: imageOriginalWidth,\n      originalHeight: imageOriginalHeight,\n      width: imageWidth,\n      height: imageHeight,\n      onChangeWidth: setImageWidth,\n      onChangeHeight: setImageHeight\n    }), hasError && !isValidImage &&\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      variant: \"subtitle1\",\n      color: \"error\",\n      align: \"center\",\n      gutterBottom: true\n    }, errorMessage !== null ? errorMessage : editor.translate('controls.image.errorMessages.notValidImage')),\n    /*#__PURE__*/\n    React.createElement(\"div\", {\n      className: classes.dropArea,\n      onClick: handleClickDropArea,\n      onDragEnter: handleDragEnter,\n      onDragLeave: handleDragLeave,\n      onDragOver: handleDragOver,\n      onDrop: handleDrop\n    }, dropAreaContent)),\n    /*#__PURE__*/\n    React.createElement(DialogActions, null,\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"button\",\n      onClick: onClose,\n      color: \"primary\"\n    }, editor.translate('controls.image.actions.cancel')),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"submit\",\n      color: \"primary\",\n      disabled: !isValidImage\n    }, editor.translate('controls.image.actions.add')))))\n  );\n}\n\nUploadDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  uploadCallback: PropTypes.func.isRequired\n};\n\nfunction ResizeImageDialog(_ref) {\n  var open = _ref.open,\n      onClose = _ref.onClose,\n      src = _ref.src,\n      originalWidth = _ref.originalWidth,\n      originalHeight = _ref.originalHeight,\n      onSave = _ref.onSave;\n\n  var _React$useState = React.useState(0),\n      width = _React$useState[0],\n      setWidth = _React$useState[1];\n\n  var _React$useState2 = React.useState(0),\n      height = _React$useState2[0],\n      setHeight = _React$useState2[1];\n\n  var editor = useEditor();\n  React.useEffect(function () {\n    setWidth(originalWidth);\n    setHeight(originalHeight);\n  }, [originalWidth, originalHeight]);\n\n  var handleSubmit = function handleSubmit(ev) {\n    ev.preventDefault();\n    onSave(width, height);\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Dialog, {\n      open: open,\n      onClose: onClose\n    },\n    /*#__PURE__*/\n    React.createElement(\"form\", {\n      onSubmit: handleSubmit\n    },\n    /*#__PURE__*/\n    React.createElement(DialogContent, null,\n    /*#__PURE__*/\n    React.createElement(SizeInputs, {\n      width: width,\n      height: height,\n      onChangeWidth: setWidth,\n      onChangeHeight: setHeight,\n      originalWidth: originalWidth,\n      originalHeight: originalHeight\n    }),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\",\n      justify: \"center\"\n    },\n    /*#__PURE__*/\n    React.createElement(ImageToUpload, {\n      src: src,\n      width: width,\n      height: height\n    }))),\n    /*#__PURE__*/\n    React.createElement(DialogActions, null,\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"button\",\n      onClick: function onClick() {\n        return onClose();\n      }\n    }, editor.translate('controls.image.actions.cancel')),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      type: \"submit\"\n    }, editor.translate('controls.image.actions.resize')))))\n  );\n}\n\nResizeImageDialog.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  src: PropTypes.string.isRequired,\n  originalWidth: PropTypes.number.isRequired,\n  originalHeight: PropTypes.number.isRequired,\n  onSave: PropTypes.func.isRequired\n};\n\nfunction ImageControl(_ref) {\n  var configuration = _ref.configuration,\n      defaultConfiguration = _ref.defaultConfiguration;\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n  var menuId = Math.random().toString(36).substring(8);\n\n  var _React$useState = React.useState(null),\n      anchorEl = _React$useState[0],\n      setAnchorEl = _React$useState[1];\n\n  var _React$useState2 = React.useState(false),\n      isUploadDialogOpened = _React$useState2[0],\n      setIsUploadDialogOpened = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      isUrlDialogOpened = _React$useState3[0],\n      setIsUrlDialogOpened = _React$useState3[1];\n\n  var uploadCallback = configuration.uploadCallback || defaultConfiguration.uploadCallback;\n  var imageEntityToResize = editor.resizeImageEntityKey ? editor.editorState.getCurrentContent().getEntity(editor.resizeImageEntityKey) : null;\n\n  var handleSubmitImage = function handleSubmitImage(_ref2) {\n    var imageURL = _ref2.imageURL,\n        imageWidth = _ref2.imageWidth,\n        imageHeight = _ref2.imageHeight;\n    if (imageURL === '') return;\n    setIsUrlDialogOpened(false);\n    setIsUploadDialogOpened(false);\n    var contentState = editor.editorState.getCurrentContent();\n    var contentStateWithEntity = contentState.createEntity(entities.IMAGE, 'IMMUTABLE', {\n      src: imageURL,\n      width: imageWidth,\n      height: imageHeight\n    });\n    var entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n    var newEditorState = EditorState.push(editor.editorState, contentStateWithEntity, 'apply-entity');\n    editor.onChange(AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, ' '));\n    editorFocus();\n  };\n\n  var handleResizeImage = function handleResizeImage(width, height) {\n    editor.hideResizeImageDialog();\n    var contentState = editor.editorState.getCurrentContent();\n    var newEditorState = EditorState.push(editor.editorState, contentState.mergeEntityData(editor.resizeImageEntityKey, {\n      width: width,\n      height: height\n    }), 'apply-entity');\n    editor.onChange(newEditorState);\n    editorFocus();\n  };\n\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(ButtonControl, {\n      onClick: function onClick(ev) {\n        return setAnchorEl(ev.currentTarget);\n      },\n      text: editor.translate('controls.image.title'),\n      \"aria-controls\": menuId,\n      \"aria-haspopup\": \"true\"\n    },\n    /*#__PURE__*/\n    React.createElement(ImageIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Popover, {\n      id: menuId,\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'left'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'left'\n      },\n      keepMounted: true,\n      open: Boolean(anchorEl),\n      onClose: function onClose() {\n        return setAnchorEl(null);\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(List, {\n      component: \"nav\",\n      \"aria-label\": editor.translate('controls.image.labels.insertOptions')\n    },\n    /*#__PURE__*/\n    React.createElement(ListItem, {\n      button: true,\n      onClick: function onClick() {\n        setIsUploadDialogOpened(true);\n        setAnchorEl(null);\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, null,\n    /*#__PURE__*/\n    React.createElement(PublishIcon, null)),\n    /*#__PURE__*/\n    React.createElement(ListItemText, {\n      primary: editor.translate('controls.image.actions.upload')\n    })),\n    /*#__PURE__*/\n    React.createElement(ListItem, {\n      button: true,\n      onClick: function onClick() {\n        setIsUrlDialogOpened(true);\n        setAnchorEl(null);\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ListItemIcon, null,\n    /*#__PURE__*/\n    React.createElement(LinkIcon, null)),\n    /*#__PURE__*/\n    React.createElement(ListItemText, {\n      primary: editor.translate('controls.image.actions.url')\n    })))),\n    /*#__PURE__*/\n    React.createElement(ByUrlDialog, {\n      onSubmit: handleSubmitImage,\n      onClose: function onClose() {\n        return setIsUrlDialogOpened(false);\n      },\n      open: isUrlDialogOpened\n    }),\n    /*#__PURE__*/\n    React.createElement(UploadDialog, {\n      onSubmit: handleSubmitImage,\n      onClose: function onClose() {\n        return setIsUploadDialogOpened(false);\n      },\n      open: isUploadDialogOpened,\n      uploadCallback: uploadCallback\n    }),\n    /*#__PURE__*/\n    React.createElement(ResizeImageDialog, {\n      open: editor.isResizeImageDialogVisible,\n      onClose: function onClose() {\n        return editor.hideResizeImageDialog();\n      },\n      src: imageEntityToResize ? imageEntityToResize.getData().src : '',\n      originalWidth: imageEntityToResize ? imageEntityToResize.getData().width : 0,\n      originalHeight: imageEntityToResize ? imageEntityToResize.getData().height : 0,\n      onSave: handleResizeImage\n    }))\n  );\n}\n\nImageControl.propTypes = {\n  configuration: PropTypes.object.isRequired,\n  defaultConfiguration: PropTypes.object.isRequired\n};\n\nvar EditorMedia = function EditorMedia(_ref) {\n  var contentState = _ref.contentState,\n      block = _ref.block;\n  var entity = contentState.getEntity(block.getEntityAt(0));\n  var type = entity.getType();\n\n  if (type === entities.IMAGE) {\n    var _entity$getData = entity.getData(),\n        src = _entity$getData.src,\n        _entity$getData$width = _entity$getData.width,\n        width = _entity$getData$width === void 0 ? 'auto' : _entity$getData$width,\n        _entity$getData$heigh = _entity$getData.height,\n        height = _entity$getData$heigh === void 0 ? 'auto' : _entity$getData$heigh;\n\n    return (\n      /*#__PURE__*/\n      React.createElement(EditorImage, {\n        src: src,\n        width: width,\n        height: height,\n        block: block,\n        contentState: contentState\n      })\n    );\n  }\n\n  return null;\n};\n\nEditorMedia.propTypes = {\n  contentState: PropTypes.object.isRequired,\n  block: PropTypes.object.isRequired\n};\nvar useStyles$5 = makeStyles(function (theme) {\n  return {\n    imgInfo: {\n      padding: theme.spacing(0.6)\n    }\n  };\n});\n\nvar EditorImage = function EditorImage(_ref2) {\n  var src = _ref2.src,\n      width = _ref2.width,\n      height = _ref2.height,\n      contentState = _ref2.contentState,\n      block = _ref2.block;\n\n  var _React$useState = React.useState(null),\n      anchorEl = _React$useState[0],\n      setAnchorEl = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      infoAnchorEl = _React$useState2[0],\n      setInfoAnchorEl = _React$useState2[1];\n\n  var editor = useEditor();\n  var editorFocus = useEditorFocus();\n  var classes = useStyles$5();\n\n  var showOptions = function showOptions(ev) {\n    setAnchorEl(ev.currentTarget);\n    setInfoAnchorEl(ev.currentTarget);\n  };\n\n  var hideOptions = function hideOptions() {\n    setAnchorEl(null);\n    setInfoAnchorEl(null);\n  };\n\n  var imageAlign = function imageAlign(ev, align) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n      anchorKey: block.getKey(),\n      anchorOffset: 0,\n      focusKey: block.getKey(),\n      focusOffset: block.getLength()\n    });\n    var newContentState = Modifier.setBlockData(contentState, imageSelection, {\n      textAlign: align\n    });\n    editor.onChange(EditorState.push(editor.editorState, newContentState, 'change-block-data'));\n    editorFocus();\n  };\n\n  var removeImage = function removeImage(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    var imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n      anchorKey: block.getKey(),\n      anchorOffset: 0,\n      focusKey: block.getKey(),\n      focusOffset: block.getLength()\n    });\n    var newContentState = Modifier.removeRange(contentState, imageSelection, 'forward');\n    var blockMap = newContentState.getBlockMap()[\"delete\"](block.getKey());\n    var firstBlock = newContentState.getFirstBlock();\n    var selectionToStart = SelectionState.createEmpty(firstBlock.getKey()).merge({\n      anchorKey: firstBlock.getKey(),\n      anchorOffset: 0,\n      focusKey: firstBlock.getKey(),\n      focusOffset: 0\n    });\n    newContentState = newContentState.merge({\n      blockMap: blockMap,\n      selectionAfter: selectionToStart\n    });\n    editor.onChange(EditorState.push(editor.editorState, newContentState, 'remove-range'));\n    editorFocus();\n  };\n\n  if (!src) return null;\n  return (\n    /*#__PURE__*/\n    React.createElement(React.Fragment, null,\n    /*#__PURE__*/\n    React.createElement(\"img\", {\n      alt: src,\n      src: src,\n      width: width,\n      height: height,\n      onClick: showOptions\n    }),\n    /*#__PURE__*/\n    React.createElement(Popover, {\n      open: Boolean(infoAnchorEl),\n      onClose: hideOptions,\n      anchorEl: infoAnchorEl,\n      anchorOrigin: {\n        vertical: 'top',\n        horizontal: 'right'\n      },\n      transformOrigin: {\n        vertical: 'bottom',\n        horizontal: 'right'\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(Typography, {\n      color: \"textSecondary\",\n      variant: \"body1\",\n      className: classes.imgInfo\n    }, width, \"\\xA0x\\xA0\", height)),\n    /*#__PURE__*/\n    React.createElement(Popover, {\n      open: Boolean(anchorEl),\n      onClose: hideOptions,\n      anchorEl: anchorEl,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      }\n    },\n    /*#__PURE__*/\n    React.createElement(ButtonGroup, {\n      size: \"small\",\n      \"aria-label\": editor.translate('controls.image.labels.editOptions')\n    },\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: function onClick(ev) {\n        return imageAlign(ev, 'left');\n      },\n      title: editor.translate('controls.image.actions.alignLeft')\n    },\n    /*#__PURE__*/\n    React.createElement(ArrowLeftIcon, null),\n    /*#__PURE__*/\n    React.createElement(ImageIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: function onClick(ev) {\n        return imageAlign(ev, 'center');\n      },\n      title: editor.translate('controls.image.actions.alignCenter')\n    },\n    /*#__PURE__*/\n    React.createElement(ArrowLeftIcon, null),\n    /*#__PURE__*/\n    React.createElement(ImageIcon, null),\n    /*#__PURE__*/\n    React.createElement(ArrowRightIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: function onClick(ev) {\n        return imageAlign(ev, 'right');\n      },\n      title: editor.translate('controls.image.actions.alignRight')\n    },\n    /*#__PURE__*/\n    React.createElement(ImageIcon, null),\n    /*#__PURE__*/\n    React.createElement(ArrowRightIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: function onClick() {\n        hideOptions();\n        editor.showResizeImageDialog(block.getEntityAt(0));\n      },\n      title: editor.translate('controls.image.actions.resize')\n    },\n    /*#__PURE__*/\n    React.createElement(PhotoSizeSelectLargeIcon, null)),\n    /*#__PURE__*/\n    React.createElement(Button, {\n      onClick: removeImage,\n      title: editor.translate('controls.image.actions.remove')\n    },\n    /*#__PURE__*/\n    React.createElement(DeleteIcon, null)))))\n  );\n};\n\nEditorImage.propTypes = {\n  src: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  contentState: PropTypes.object.isRequired,\n  block: PropTypes.object.isRequired\n};\n\nvar imagePlugin = function imagePlugin() {\n  return {\n    blockRendererFn: function blockRendererFn(block) {\n      if (block.getType() === blockStyles.ATOMIC) {\n        return {\n          component: EditorMedia,\n          editable: false\n        };\n      }\n    }\n  };\n};\n\nvar fileToBase64 = function fileToBase64(file) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n\n    reader.onload = function () {\n      return resolve(reader.result);\n    };\n\n    reader.onerror = function () {\n      return reject(reader.error);\n    };\n\n    reader.readAsDataURL(file);\n  });\n};\n\nvar toolbarControlTypes = {\n  divider: {\n    name: 'divider',\n    component: DividerControl\n  },\n  undo: {\n    name: 'undo',\n    component: UndoControl\n  },\n  redo: {\n    name: 'undo',\n    component: RedoControl\n  },\n  bold: {\n    name: 'bold',\n    component: BoldControl\n  },\n  italic: {\n    name: 'italic',\n    component: ItalicControl\n  },\n  underline: {\n    name: 'underline',\n    component: UnderlineControl\n  },\n  strikethrough: {\n    name: 'strikethrough',\n    component: StrikethroughControl\n  },\n  fontColor: {\n    name: 'fontColor',\n    component: FontColorControl,\n    plugin: fontColorPlugin\n  },\n  fontBackgroundColor: {\n    name: 'fontBackgroundColor',\n    component: FontBackgroundColorControl,\n    plugin: fontBackgroundColorPlugin\n  },\n  linkAdd: {\n    name: 'linkAdd',\n    component: LinkAddControl,\n    plugin: linkAddPlugin\n  },\n  linkRemove: {\n    name: 'linkRemove',\n    component: LinkRemoveControl\n  },\n  image: {\n    name: 'image',\n    component: ImageControl,\n    plugin: imagePlugin\n  },\n  blockType: {\n    name: 'blockType',\n    component: BlockTypeControl\n  },\n  fontSize: {\n    name: 'fontSize',\n    component: FontSizeControl,\n    plugin: fontSizePlugin\n  },\n  fontFamily: {\n    name: 'fontFamily',\n    component: FontFamilyControl,\n    plugin: fontFamilyPlugin\n  },\n  textAlign: {\n    name: 'textAlign',\n    component: TextAlignControl,\n    plugin: textAlignPlugin\n  },\n  unorderedList: {\n    name: 'unorderedList',\n    component: UnorderedListControl\n  },\n  orderedList: {\n    name: 'orderedList',\n    component: OrderedListControl\n  }\n};\nvar defaultToolbarControls = [toolbarControlTypes.undo, toolbarControlTypes.redo, toolbarControlTypes.divider, toolbarControlTypes.bold, toolbarControlTypes.italic, toolbarControlTypes.underline, toolbarControlTypes.strikethrough, toolbarControlTypes.fontColor, toolbarControlTypes.fontBackgroundColor, toolbarControlTypes.divider, toolbarControlTypes.linkAdd, toolbarControlTypes.linkRemove, toolbarControlTypes.image, toolbarControlTypes.divider, toolbarControlTypes.blockType, toolbarControlTypes.fontSize, toolbarControlTypes.fontFamily, toolbarControlTypes.textAlign, toolbarControlTypes.divider, toolbarControlTypes.unorderedList, toolbarControlTypes.orderedList];\nvar colors = [{\n  text: 'black',\n  value: 'rgb(0, 0, 0)'\n}, {\n  text: 'dark grey 4',\n  value: 'rgb(67, 67, 67)'\n}, {\n  text: 'dark grey 3',\n  value: 'rgb(102, 102, 102)'\n}, {\n  text: 'dark grey 2',\n  value: 'rgb(153, 153, 153)'\n}, {\n  text: 'dark grey 1',\n  value: 'rgb(183, 183, 183)'\n}, {\n  text: 'grey',\n  value: 'rgb(204, 204, 204)'\n}, {\n  text: 'light grey 1',\n  value: 'rgb(217, 217, 217)'\n}, {\n  text: 'light grey 2',\n  value: 'rgb(239, 239, 239)'\n}, {\n  text: 'light grey 3',\n  value: 'rgb(243, 243, 243)'\n}, {\n  text: 'white',\n  value: 'rgb(255, 255, 255)'\n}, {\n  text: 'Red berry',\n  value: 'rgb(152, 0, 0)'\n}, {\n  text: 'red',\n  value: 'rgb(255, 0, 0)'\n}, {\n  text: 'orange',\n  value: 'rgb(255, 153, 0)'\n}, {\n  text: 'yellow',\n  value: 'rgb(255, 255, 0)'\n}, {\n  text: 'green',\n  value: 'rgb(0, 255, 0)'\n}, {\n  text: 'cyan',\n  value: 'rgb(0, 255, 255)'\n}, {\n  text: 'cornflower blue',\n  value: 'rgb(74, 134, 232)'\n}, {\n  text: 'blue',\n  value: 'rgb(0, 0, 255)'\n}, {\n  text: 'purple',\n  value: 'rgb(153, 0, 255)'\n}, {\n  text: 'magenta',\n  value: 'rgb(255, 0, 255)'\n}, {\n  text: 'light red berry 3',\n  value: 'rgb(230, 184, 175)'\n}, {\n  text: 'light red 3',\n  value: 'rgb(244, 204, 204)'\n}, {\n  text: 'light orange 3',\n  value: 'rgb(252, 229, 205)'\n}, {\n  text: 'light yellow 3',\n  value: 'rgb(255, 242, 204)'\n}, {\n  text: 'light green 3',\n  value: 'rgb(217, 234, 211)'\n}, {\n  text: 'light cyan 3',\n  value: 'rgb(208, 224, 227)'\n}, {\n  text: 'light cornflower blue 3',\n  value: 'rgb(201, 218, 248)'\n}, {\n  text: 'light blue 3',\n  value: 'rgb(207, 226, 243)'\n}, {\n  text: 'light purple 3',\n  value: 'rgb(217, 210, 233)'\n}, {\n  text: 'light magenta 3',\n  value: 'rgb(234, 209, 220)'\n}, {\n  text: 'light red berry 2',\n  value: 'rgb(221, 126, 107)'\n}, {\n  text: 'light red 2',\n  value: 'rgb(234, 153, 153)'\n}, {\n  text: 'light orange 2',\n  value: 'rgb(249, 203, 156)'\n}, {\n  text: 'light yellow 2',\n  value: 'rgb(255, 229, 153)'\n}, {\n  text: 'light green 2',\n  value: 'rgb(182, 215, 168)'\n}, {\n  text: 'light cyan 2',\n  value: 'rgb(162, 196, 201)'\n}, {\n  text: 'light cornflower blue 2',\n  value: 'rgb(164, 194, 244)'\n}, {\n  text: 'light blue 2',\n  value: 'rgb(159, 197, 232)'\n}, {\n  text: 'light purple 2',\n  value: 'rgb(180, 167, 214)'\n}, {\n  text: 'light magenta 2',\n  value: 'rgb(213, 166, 189)'\n}, {\n  text: 'light red berry 1',\n  value: 'rgb(204, 65, 37)'\n}, {\n  text: 'light red 1',\n  value: 'rgb(224, 102, 102)'\n}, {\n  text: 'light orange 1',\n  value: 'rgb(246, 178, 107)'\n}, {\n  text: 'light yellow 1',\n  value: 'rgb(255, 217, 102)'\n}, {\n  text: 'light green 1',\n  value: 'rgb(147, 196, 125)'\n}, {\n  text: 'light cyan 1',\n  value: 'rgb(118, 165, 175)'\n}, {\n  text: 'light cornflower blue 1',\n  value: 'rgb(109, 158, 235)'\n}, {\n  text: 'light blue 1',\n  value: 'rgb(111, 168, 220)'\n}, {\n  text: 'light purple 1',\n  value: 'rgb(142, 124, 195)'\n}, {\n  text: 'light magenta 1',\n  value: 'rgb(194, 123, 160)'\n}, {\n  text: 'dark red berry 1',\n  value: 'rgb(166, 28, 0)'\n}, {\n  text: 'dark red 1',\n  value: 'rgb(204, 0, 0)'\n}, {\n  text: 'dark orange 1',\n  value: 'rgb(230, 145, 56)'\n}, {\n  text: 'dark yellow 1',\n  value: 'rgb(241, 194, 50)'\n}, {\n  text: 'dark green 1',\n  value: 'rgb(106, 168, 79)'\n}, {\n  text: 'dark cyan 1',\n  value: 'rgb(69, 129, 142)'\n}, {\n  text: 'dark cornflower blue 1',\n  value: 'rgb(60, 120, 216)'\n}, {\n  text: 'dark blue 1',\n  value: 'rgb(61, 133, 198)'\n}, {\n  text: 'dark purple 1',\n  value: 'rgb(103, 78, 167)'\n}, {\n  text: 'dark magenta 1',\n  value: 'rgb(166, 77, 121)'\n}, {\n  text: 'dark red berry 2',\n  value: 'rgb(133, 32, 12)'\n}, {\n  text: 'dark red 2',\n  value: 'rgb(153, 0, 0)'\n}, {\n  text: 'dark orange 2',\n  value: 'rgb(180, 95, 6)'\n}, {\n  text: 'dark yellow 2',\n  value: 'rgb(191, 144, 0)'\n}, {\n  text: 'dark green 2',\n  value: 'rgb(56, 118, 29)'\n}, {\n  text: 'dark cyan 2',\n  value: 'rgb(19, 79, 92)'\n}, {\n  text: 'dark cornflower blue 2',\n  value: 'rgb(17, 85, 204)'\n}, {\n  text: 'dark blue 2',\n  value: 'rgb(11, 83, 148)'\n}, {\n  text: 'dark purple 2',\n  value: 'rgb(53, 28, 117)'\n}, {\n  text: 'dark magenta 2',\n  value: 'rgb(116, 27, 71)'\n}, {\n  text: 'dark red berry 3',\n  value: 'rgb(91, 15, 0)'\n}, {\n  text: 'dark red 3',\n  value: 'rgb(102, 0, 0)'\n}, {\n  text: 'dark orange 3',\n  value: 'rgb(120, 63, 4)'\n}, {\n  text: 'dark yellow 3',\n  value: 'rgb(127, 96, 0)'\n}, {\n  text: 'dark green 3',\n  value: 'rgb(39, 78, 19)'\n}, {\n  text: 'dark cyan 3',\n  value: 'rgb(12, 52, 61)'\n}, {\n  text: 'dark cornflower blue 3',\n  value: 'rgb(28, 69, 135)'\n}, {\n  text: 'dark blue 3',\n  value: 'rgb(7, 55, 99)'\n}, {\n  text: 'dark purple 3',\n  value: 'rgb(32, 18, 77)'\n}, {\n  text: 'dark magenta 3',\n  value: 'rgb(76, 17, 48)'\n}];\nvar defaultToolbarControlsConfiguration = {\n  blockType: {\n    options: [{\n      value: 'default',\n      text: LANG_PREFIX + 'controls.blockType.labels.normal'\n    }, {\n      value: 'header-one',\n      text: LANG_PREFIX + 'controls.blockType.labels.header1'\n    }, {\n      value: 'header-two',\n      text: LANG_PREFIX + 'controls.blockType.labels.header2'\n    }, {\n      value: 'header-three',\n      text: LANG_PREFIX + 'controls.blockType.labels.header3'\n    }, {\n      value: 'header-four',\n      text: LANG_PREFIX + 'controls.blockType.labels.header4'\n    }, {\n      value: 'header-five',\n      text: LANG_PREFIX + 'controls.blockType.labels.header5'\n    }, {\n      value: 'header-six',\n      text: LANG_PREFIX + 'controls.blockType.labels.header6'\n    }]\n  },\n  image: {\n    uploadCallback: fileToBase64\n  },\n  fontColor: {\n    colorsPerRow: 10,\n    options: colors\n  },\n  fontBackgroundColor: {\n    colorsPerRow: 10,\n    options: colors\n  },\n  fontSize: {\n    options: ['default', '8px', '9px', '10px', '11px', '12px', '14px', '18px', '24px', '30px', '36px', '48px', '60px', '72px', '96px']\n  },\n  fontFamily: {\n    options: ['default', 'Arial', 'Verdana', 'Times New Roman', 'Georgia', 'Courier new', 'Lucida Console']\n  }\n};\nvar defaultConfig = {\n  lang: 'en',\n  translations: {},\n  draftEditor: {},\n  editor: {\n    wrapperElement: Paper,\n    className: '',\n    style: {}\n  },\n  toolbar: {\n    className: '',\n    style: {},\n    visible: true,\n    position: 'top',\n    controls: defaultToolbarControls,\n    controlsConfig: defaultToolbarControlsConfiguration\n  }\n};\n\nfunction isObject(item) {\n  return item && typeof item === 'object' && !Array.isArray(item);\n}\n\nfunction mergeDeep(target) {\n  for (var _len = arguments.length, sources = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    sources[_key - 1] = arguments[_key];\n  }\n\n  if (!sources.length) return target;\n  var source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (var key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) {\n          var _Object$assign;\n\n          Object.assign(target, (_Object$assign = {}, _Object$assign[key] = {}, _Object$assign));\n        }\n\n        mergeDeep(target[key], source[key]);\n      } else {\n        var _Object$assign2;\n\n        Object.assign(target, (_Object$assign2 = {}, _Object$assign2[key] = source[key], _Object$assign2));\n      }\n    }\n  }\n\n  return mergeDeep.apply(void 0, [target].concat(sources));\n}\n\nvar ca = {\n  controls: {\n    undo: {\n      title: 'Desfer'\n    },\n    redo: {\n      title: 'Refer'\n    },\n    bold: {\n      title: 'Negreta'\n    },\n    italic: {\n      title: 'Cursiva'\n    },\n    underline: {\n      title: 'Subratllat'\n    },\n    strikethrough: {\n      title: 'Ratllat'\n    },\n    code: {\n      title: 'Codi'\n    },\n    fontColor: {\n      title: 'Color de font',\n      labels: {\n        noColor: 'Sense color'\n      }\n    },\n    fontBackgroundColor: {\n      title: 'Color de resaltat del text',\n      labels: {\n        noColor: 'Sense color'\n      }\n    },\n    linkAdd: {\n      title: 'Afegir enlla',\n      labels: {\n        link: 'Enlla'\n      },\n      actions: {\n        add: 'Afegir',\n        cancel: 'Cancellar'\n      }\n    },\n    linkRemove: {\n      title: 'Eliminar enlla'\n    },\n    image: {\n      title: 'Afegir imatge',\n      actions: {\n        upload: 'Pujar imatge',\n        url: 'Des de URL',\n        add: 'Afegir',\n        cancel: 'Cancellar',\n        alignLeft: \"Alinear a l'esquerra\",\n        alignCenter: 'Centrar',\n        alignRight: 'Alinear a la dreta',\n        remove: 'Eliminar imatge',\n        resize: 'Redimensionar'\n      },\n      labels: {\n        dropImageHere: 'Arrossega una imatge aqu o fes click per a pujar una',\n        width: 'Ample',\n        height: 'Alt',\n        url: 'URL',\n        insertOptions: 'Opcions de afegir imatge',\n        editOptions: \"Opcions d'imatge\"\n      },\n      errorMessages: {\n        notValidImage: 'La imatge no s vlida'\n      }\n    },\n    blockType: {\n      title: 'Format de bloc',\n      labels: {\n        normal: 'Normal',\n        header1: 'Ttol 1',\n        header2: 'Ttol 2',\n        header3: 'Ttol 3',\n        header4: 'Ttol 4',\n        header5: 'Ttol 5',\n        header6: 'Ttol 6'\n      }\n    },\n    fontSize: {\n      title: 'Grandria de font',\n      labels: {\n        \"default\": 'Per defecte'\n      }\n    },\n    fontFamily: {\n      title: 'Font',\n      labels: {\n        \"default\": 'Per defecte'\n      }\n    },\n    textAlign: {\n      title: 'Alinear text',\n      actions: {\n        alignLeft: 'Esquerra',\n        alignCenter: 'Centre',\n        alignRight: 'Dreta',\n        justify: 'Justificar'\n      }\n    },\n    unorderedList: {\n      title: 'Vinyetes'\n    },\n    orderedList: {\n      title: 'Numeraci'\n    }\n  }\n};\nvar en = {\n  controls: {\n    undo: {\n      title: 'Undo'\n    },\n    redo: {\n      title: 'Redo'\n    },\n    bold: {\n      title: 'Bold'\n    },\n    italic: {\n      title: 'Italic'\n    },\n    underline: {\n      title: 'Underline'\n    },\n    strikethrough: {\n      title: 'Strike through'\n    },\n    code: {\n      title: 'Code'\n    },\n    fontColor: {\n      title: 'Font color',\n      labels: {\n        noColor: 'None'\n      }\n    },\n    fontBackgroundColor: {\n      title: 'Highlight color',\n      labels: {\n        noColor: 'None'\n      }\n    },\n    linkAdd: {\n      title: 'Add link',\n      labels: {\n        link: 'Link'\n      },\n      actions: {\n        add: 'Add',\n        cancel: 'Cancel'\n      }\n    },\n    linkRemove: {\n      title: 'Remove link'\n    },\n    image: {\n      title: 'Insert image',\n      actions: {\n        upload: 'Upload image',\n        url: 'By URL',\n        add: 'Add',\n        cancel: 'Cancel',\n        alignLeft: 'Align left',\n        alignCenter: 'Align center',\n        alignRight: 'Align right',\n        remove: 'Remove image',\n        resize: 'Resize'\n      },\n      labels: {\n        dropImageHere: 'Drop image here or click to upload',\n        width: 'Width',\n        height: 'Height',\n        url: 'URL',\n        insertOptions: 'Insert image options',\n        editOptions: 'Image options'\n      },\n      errorMessages: {\n        notValidImage: 'Not a valid image'\n      }\n    },\n    blockType: {\n      title: 'Block format',\n      labels: {\n        normal: 'Normal',\n        header1: 'Header 1',\n        header2: 'Header 2',\n        header3: 'Header 3',\n        header4: 'Header 4',\n        header5: 'Header 5',\n        header6: 'Header 6'\n      }\n    },\n    fontSize: {\n      title: 'Font size',\n      labels: {\n        \"default\": 'default'\n      }\n    },\n    fontFamily: {\n      title: 'Font type',\n      labels: {\n        \"default\": 'default'\n      }\n    },\n    textAlign: {\n      title: 'Align text',\n      actions: {\n        alignLeft: 'Left',\n        alignCenter: 'Center',\n        alignRight: 'Right',\n        justify: 'Justify'\n      }\n    },\n    unorderedList: {\n      title: 'Unordered list'\n    },\n    orderedList: {\n      title: 'Ordered list'\n    }\n  }\n};\nvar es = {\n  controls: {\n    undo: {\n      title: 'Deshacer'\n    },\n    redo: {\n      title: 'Rehacer'\n    },\n    bold: {\n      title: 'Negrita'\n    },\n    italic: {\n      title: 'Cursiva'\n    },\n    underline: {\n      title: 'Subrayado'\n    },\n    strikethrough: {\n      title: 'Tachado'\n    },\n    code: {\n      title: 'Cdigo'\n    },\n    fontColor: {\n      title: 'Color de fuente',\n      labels: {\n        noColor: 'Sin color'\n      }\n    },\n    fontBackgroundColor: {\n      title: 'Color de resaltado de texto',\n      labels: {\n        noColor: 'Sin color'\n      }\n    },\n    linkAdd: {\n      title: 'Aadir enlace',\n      labels: {\n        link: 'Enlace'\n      },\n      actions: {\n        add: 'Aadir',\n        cancel: 'Cancelar'\n      }\n    },\n    linkRemove: {\n      title: 'Eliminar enlace'\n    },\n    image: {\n      title: 'Insertar imagen',\n      actions: {\n        upload: 'Subir imagen',\n        url: 'Desde URL',\n        add: 'Aadir',\n        cancel: 'Cancelar',\n        alignLeft: 'Alinear a la izquierda',\n        alignCenter: 'Centrar',\n        alignRight: 'Alinear a la derecha',\n        remove: 'Eliminar imagen',\n        resize: 'Redimensionar'\n      },\n      labels: {\n        dropImageHere: 'Arrastra una imagen aqu o haz click para subir una',\n        width: 'Ancho',\n        height: 'Alto',\n        url: 'URL',\n        insertOptions: 'Opciones de insertar imagen',\n        editOptions: 'Opciones de imagen'\n      },\n      errorMessages: {\n        notValidImage: 'La imagen no es vlida'\n      }\n    },\n    blockType: {\n      title: 'Formato de bloque',\n      labels: {\n        normal: 'Normal',\n        header1: 'Encabezado 1',\n        header2: 'Encabezado 2',\n        header3: 'Encabezado 3',\n        header4: 'Encabezado 4',\n        header5: 'Encabezado 5',\n        header6: 'Encabezado 6'\n      }\n    },\n    fontSize: {\n      title: 'Tamao de fuente',\n      labels: {\n        \"default\": 'Por defecto'\n      }\n    },\n    fontFamily: {\n      title: 'Fuente',\n      labels: {\n        \"default\": 'Por defecto'\n      }\n    },\n    textAlign: {\n      title: 'Alinear texto',\n      actions: {\n        alignLeft: 'Izquierda',\n        alignCenter: 'Centro',\n        alignRight: 'Derecha',\n        justify: 'Justificar'\n      }\n    },\n    unorderedList: {\n      title: 'Vietas'\n    },\n    orderedList: {\n      title: 'Numeracin'\n    }\n  }\n};\nvar languages = {\n  ca: ca,\n  en: en,\n  es: es\n};\n\nvar EditorFactories =\n/*#__PURE__*/\nfunction () {\n  function EditorFactories(config) {\n    this.config = config || defaultConfig;\n  }\n\n  var _proto = EditorFactories.prototype;\n\n  _proto.getCompositeDecorator = function getCompositeDecorator() {\n    var decorators = [];\n\n    for (var _iterator = _createForOfIteratorHelperLoose(this.getToolbarControls()), _step; !(_step = _iterator()).done;) {\n      var control = _step.value;\n      var pluginData = this.getPluginData(control);\n\n      if (pluginData && pluginData.decorators) {\n        decorators = decorators.concat(pluginData.decorators);\n      }\n    }\n\n    return decorators.length > 0 ? new CompositeDecorator(decorators) : null;\n  };\n\n  _proto.getCustomStyleMap = function getCustomStyleMap() {\n    var customStyleMap = {};\n\n    for (var _iterator2 = _createForOfIteratorHelperLoose(this.getToolbarControls()), _step2; !(_step2 = _iterator2()).done;) {\n      var control = _step2.value;\n      var pluginData = this.getPluginData(control);\n\n      if (pluginData && pluginData.customStyleMap) {\n        customStyleMap = _extends({}, customStyleMap, pluginData.customStyleMap);\n      }\n    }\n\n    return customStyleMap;\n  };\n\n  _proto.getBlockRenderMap = function getBlockRenderMap() {\n    var renderMap = DefaultDraftBlockRenderMap;\n\n    for (var _iterator3 = _createForOfIteratorHelperLoose(this.getToolbarControls()), _step3; !(_step3 = _iterator3()).done;) {\n      var control = _step3.value;\n      var pluginData = this.getPluginData(control);\n\n      if (pluginData && pluginData.blockRenderMap) {\n        renderMap = renderMap.merge(pluginData.blockRenderMap);\n      }\n    }\n\n    return renderMap;\n  };\n\n  _proto.getBlockStyleFn = function getBlockStyleFn() {\n    var _this = this;\n\n    return function (contentBlock) {\n      var classNames = '';\n\n      for (var _iterator4 = _createForOfIteratorHelperLoose(_this.getToolbarControls()), _step4; !(_step4 = _iterator4()).done;) {\n        var control = _step4.value;\n\n        var pluginData = _this.getPluginData(control);\n\n        if (pluginData && pluginData.blockStyleFn) {\n          var result = pluginData.blockStyleFn(contentBlock);\n          if (result) classNames += ' ' + result;\n        }\n      }\n\n      return classNames.trim();\n    };\n  };\n\n  _proto.getBlockRendererFn = function getBlockRendererFn() {\n    var _this2 = this;\n\n    return function (contentBlock) {\n      for (var _iterator5 = _createForOfIteratorHelperLoose(_this2.getToolbarControls()), _step5; !(_step5 = _iterator5()).done;) {\n        var control = _step5.value;\n\n        var pluginData = _this2.getPluginData(control);\n\n        if (!pluginData || !pluginData.blockRendererFn) continue;\n        var result = pluginData.blockRendererFn(contentBlock);\n        if (result) return result;\n      }\n    };\n  };\n\n  _proto.getToolbarControls = function getToolbarControls() {\n    return this.getConfigItem('toolbar', 'controls');\n  };\n\n  _proto.getToolbarControlComponents = function getToolbarControlComponents() {\n    var _this3 = this;\n\n    var keyCounter = {};\n    return this.getToolbarControls().map(function (control) {\n      if (!keyCounter[control.name]) keyCounter[control.name] = 0;\n      keyCounter[control.name]++;\n      return React.createElement(control.component, {\n        key: \"\" + control.name + keyCounter[control.name],\n        configuration: _this3.getToolbarControlConfiguration(control.name),\n        defaultConfiguration: defaultToolbarControlsConfiguration[control.name],\n        pluginData: _this3.getPluginData(control)\n      });\n    });\n  };\n\n  _proto.getToolbarControlConfiguration = function getToolbarControlConfiguration(controlName) {\n    if (this.config && this.config.toolbar && this.config.toolbar.controlsConfig && this.config.toolbar.controlsConfig[controlName]) return this.config.toolbar.controlsConfig[controlName];else if (defaultToolbarControlsConfiguration[controlName]) return defaultToolbarControlsConfiguration[controlName];\n    return null;\n  };\n\n  _proto.getPluginData = function getPluginData(control) {\n    if (!control.plugin) return null;\n    return control.plugin(this.getToolbarControlConfiguration(control.name), defaultToolbarControlsConfiguration[control.name]);\n  };\n\n  _proto.getTranslations = function getTranslations() {\n    var lang = this.getConfigItem('lang');\n    var langTranslations = languages[lang];\n    var customTranslations = this.config.translations || {};\n    return mergeDeep(langTranslations, customTranslations);\n  };\n\n  _proto.getToolbarPosition = function getToolbarPosition() {\n    return this.getConfigItem('toolbar', 'position').toLowerCase();\n  };\n\n  _proto.getConfigItem = function getConfigItem() {\n    var item = _extends({}, this.config);\n\n    for (var _len = arguments.length, keys = new Array(_len), _key = 0; _key < _len; _key++) {\n      keys[_key] = arguments[_key];\n    }\n\n    for (var _i = 0, _keys = keys; _i < _keys.length; _i++) {\n      var key = _keys[_i];\n      item = item[key];\n      if (item === undefined) break;\n    }\n\n    if (item !== undefined) return item;\n    item = _extends({}, defaultConfig);\n\n    for (var _i2 = 0, _keys2 = keys; _i2 < _keys2.length; _i2++) {\n      var _key2 = _keys2[_i2];\n      item = item[_key2];\n    }\n\n    return item;\n  };\n\n  return EditorFactories;\n}();\n\nfunction EditorToolbar(_ref) {\n  var children = _ref.children,\n      _ref$visible = _ref.visible,\n      visible = _ref$visible === void 0 ? true : _ref$visible,\n      rest = _objectWithoutPropertiesLoose(_ref, [\"children\", \"visible\"]);\n\n  return (\n    /*#__PURE__*/\n    React.createElement(Paper, _extends({\n      hidden: !visible\n    }, rest),\n    /*#__PURE__*/\n    React.createElement(Grid, {\n      container: true,\n      alignItems: \"center\"\n    }, children))\n  );\n}\n\nEditorToolbar.propTypes = {\n  children: PropTypes.any,\n  visible: PropTypes.bool\n};\n\nvar Translator =\n/*#__PURE__*/\nfunction () {\n  function Translator(translations) {\n    this.translations = translations;\n  }\n\n  var _proto = Translator.prototype;\n\n  _proto.get = function get(id) {\n    if (!id) return '';\n    var keys = id.split('.');\n    var item = this.translations;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(keys), _step; !(_step = _iterator()).done;) {\n      var key = _step.value;\n      item = item[key];\n      if (item === undefined) return '';\n    }\n\n    return item || '';\n  };\n\n  return Translator;\n}();\n\nvar _blockHTMLMap;\n\nvar blockHTMLMap = (_blockHTMLMap = {}, _blockHTMLMap[blockStyles.H1] = 'h1', _blockHTMLMap[blockStyles.H2] = 'h2', _blockHTMLMap[blockStyles.H3] = 'h3', _blockHTMLMap[blockStyles.H4] = 'h4', _blockHTMLMap[blockStyles.H5] = 'h5', _blockHTMLMap[blockStyles.H6] = 'h6', _blockHTMLMap[blockStyles.BLOCKQUOTE] = 'blockquote', _blockHTMLMap[blockStyles.CODE_BLOCK] = 'code', _blockHTMLMap[blockStyles.UNSTYLED] = 'p', _blockHTMLMap[blockStyles.ATOMIC] = 'figure', _blockHTMLMap[blockStyles.UL] = 'li', _blockHTMLMap[blockStyles.OL] = 'li', _blockHTMLMap);\n\nvar _entityHTMLMap;\n\nvar entityHTMLMap = (_entityHTMLMap = {}, _entityHTMLMap[entities.LINK] = function (entity) {\n  return [\"<a href=\\\"\" + entity.getData().url + \"\\\" target=\\\"_blank\\\">\", '</a>'];\n}, _entityHTMLMap[entities.IMAGE] = function (entity) {\n  return [\"<img src=\\\"\" + entity.data.src + \"\\\" alt=\\\"\\\" width=\\\"\" + entity.getData().width + \"\\\" height=\\\"\" + entity.getData().height + \"\\\">\", ''];\n}, _entityHTMLMap);\n\nvar isInlineStyleCollection = function isInlineStyleCollection(inlineStyle, style) {\n  return inlineStyle.substr(0, style.length) === style;\n};\n\nvar getInlineStyleCollectionValue = function getInlineStyleCollectionValue(inlineStyle, style) {\n  return inlineStyle.substr(style.length + 1);\n};\n\nvar getInlineStylesCss = function getInlineStylesCss(inlineStyle) {\n  switch (inlineStyle) {\n    case inlineStyles.BOLD:\n      return 'font-weight: bold;';\n\n    case inlineStyles.ITALIC:\n      return 'font-style: italic;';\n\n    case inlineStyles.UNDERLINE:\n      return 'text-decoration: underline;';\n\n    case inlineStyles.STRIKETHROUGH:\n      return 'text-decoration: line-through;';\n\n    case inlineStyles.CODE:\n      return 'font-family: monospace;';\n\n    default:\n      if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_FAMILY)) {\n        return \"font-family: '\" + getInlineStyleCollectionValue(inlineStyle, inlineStyles.FONT_FAMILY) + \"';\";\n      }\n\n      if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_SIZE)) {\n        return \"font-size: \" + getInlineStyleCollectionValue(inlineStyle, inlineStyles.FONT_SIZE) + \";\";\n      }\n\n      if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_COLOR)) {\n        return \"color: \" + getInlineStyleCollectionValue(inlineStyle, inlineStyles.FONT_COLOR) + \";\";\n      }\n\n      if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_BACKGROUND)) {\n        return \"background-color: \" + getInlineStyleCollectionValue(inlineStyle, inlineStyles.FONT_BACKGROUND) + \";\";\n      }\n\n      return '';\n  }\n};\n\nvar toHTML = function toHTML(contentState) {\n  var html = '';\n  var isListBlock = false;\n  var blockMap = contentState.getBlockMap();\n  var blockCount = 0;\n\n  for (var _iterator = _createForOfIteratorHelperLoose(blockMap), _step; !(_step = _iterator()).done;) {\n    var blockData = _step.value;\n    var block = blockData[1];\n    var blockTag = blockHTMLMap[block.getType()];\n    var blockStyle = block.getData().has('textAlign') ? \"text-align:\" + block.getData().get('textAlign') + \";\" : null;\n    var blockOpenTag = blockTag ? \"<\" + blockTag + (blockStyle ? \" style=\\\"\" + blockStyle + \"\\\"\" : '') + \">\" : '';\n    var blockCloseTag = blockTag ? \"</\" + blockTag + \">\" : '';\n\n    if (block.getType() === blockStyles.UL || block.getType() === blockStyles.OL) {\n      if (!isListBlock) {\n        blockOpenTag = \"\" + (block.getType() === blockStyles.UL ? '<ul>' : '<ol>') + blockOpenTag;\n      }\n\n      if (blockCount === blockMap.length - 1) {\n        blockCloseTag = \"\" + blockCloseTag + (block.getType() === blockStyles.UL ? '</ul>' : '</ol>');\n      }\n\n      isListBlock = true;\n    } else {\n      if (isListBlock) {\n        blockOpenTag = \"\" + (block.getType() === blockStyles.UL ? '</ul>' : '</ol>') + blockOpenTag;\n      }\n\n      isListBlock = false;\n    }\n\n    if (block.getLength() === 0) {\n      html += blockOpenTag + blockCloseTag;\n      continue;\n    }\n\n    html += blockOpenTag;\n    var lastEntityKey = null;\n    var currentOpenedStylesMap = {};\n\n    for (var charIndex in block.getText()) {\n      var isLastChar = parseInt(charIndex) === block.getLength() - 1;\n      var entityOpenTag = '';\n      var entityCloseTag = '';\n      var currentEntityKey = block.getEntityAt(charIndex);\n\n      if (currentEntityKey !== lastEntityKey) {\n        if (lastEntityKey === null) {\n          var entity = contentState.getEntity(currentEntityKey);\n          entityOpenTag = entityHTMLMap[entity.getType()](entity)[0];\n        } else if (currentEntityKey === null) {\n          var _entity = contentState.getEntity(lastEntityKey);\n\n          entityCloseTag = entityHTMLMap[_entity.getType()](_entity)[1];\n        } else {\n          var entityHaveToClose = contentState.getEntity(lastEntityKey);\n          var entityHaveToOpen = contentState.getEntity(currentEntityKey);\n          entityOpenTag = entityHTMLMap[entityHaveToClose.getType()](entityHaveToClose)[0] + entityHTMLMap[entityHaveToOpen.getType()](entityHaveToOpen)[1];\n        }\n      } else if (currentEntityKey !== null && isLastChar) {\n        var _entity2 = contentState.getEntity(currentEntityKey);\n\n        entityCloseTag = entityHTMLMap[_entity2.getType()](_entity2)[1];\n      }\n\n      var charInlineStyles = block.getInlineStyleAt(charIndex);\n      var styleCloseTagBeforeList = [];\n      var styleOpenTagList = [];\n      var styleCloseTagList = [];\n      var styleCloseTagOpenIndexList = [];\n      var styleCloseTagBeforeOpenIndexList = [];\n\n      for (var _iterator2 = _createForOfIteratorHelperLoose(charInlineStyles), _step2; !(_step2 = _iterator2()).done;) {\n        var _inlineStyle3 = _step2.value;\n\n        if (currentOpenedStylesMap[_inlineStyle3] === undefined) {\n          styleOpenTagList.push(_inlineStyle3);\n          currentOpenedStylesMap[_inlineStyle3] = charIndex;\n        } else if (entityOpenTag || entityCloseTag) {\n          styleCloseTagBeforeList.push(_inlineStyle3);\n          styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[_inlineStyle3]);\n          delete currentOpenedStylesMap[_inlineStyle3];\n        } else if (isLastChar) {\n          styleCloseTagList.push(_inlineStyle3);\n          styleCloseTagOpenIndexList.push(currentOpenedStylesMap[_inlineStyle3]);\n          delete currentOpenedStylesMap[_inlineStyle3];\n        }\n      }\n\n      for (var inlineStyle in currentOpenedStylesMap) {\n        if (!charInlineStyles.includes(inlineStyle) && !styleCloseTagList.includes(inlineStyle) && !styleCloseTagBeforeList.includes(inlineStyle)) {\n          styleCloseTagBeforeList.push(inlineStyle);\n          styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n          delete currentOpenedStylesMap[inlineStyle];\n        } else if (isLastChar) {\n          styleCloseTagList.push(inlineStyle);\n          styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n          delete currentOpenedStylesMap[inlineStyle];\n        }\n      }\n\n      for (var _i = 0, _styleCloseTagOpenInd = styleCloseTagOpenIndexList; _i < _styleCloseTagOpenInd.length; _i++) {\n        var closedIndex = _styleCloseTagOpenInd[_i];\n\n        for (var _inlineStyle in currentOpenedStylesMap) {\n          if (currentOpenedStylesMap[_inlineStyle] > closedIndex) {\n            styleCloseTagList.push(_inlineStyle);\n            styleCloseTagOpenIndexList.push(currentOpenedStylesMap[_inlineStyle]);\n            delete currentOpenedStylesMap[_inlineStyle];\n          }\n        }\n      }\n\n      for (var _i2 = 0, _styleCloseTagBeforeO = styleCloseTagBeforeOpenIndexList; _i2 < _styleCloseTagBeforeO.length; _i2++) {\n        var _closedIndex = _styleCloseTagBeforeO[_i2];\n\n        for (var _inlineStyle2 in currentOpenedStylesMap) {\n          if (currentOpenedStylesMap[_inlineStyle2] < charIndex && currentOpenedStylesMap[_inlineStyle2] > _closedIndex) {\n            styleCloseTagBeforeList.push(_inlineStyle2);\n            styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[_inlineStyle2]);\n            delete currentOpenedStylesMap[_inlineStyle2];\n\n            if (charInlineStyles.includes(_inlineStyle2)) {\n              styleOpenTagList.push(_inlineStyle2);\n              currentOpenedStylesMap[_inlineStyle2] = charIndex;\n            }\n          }\n        }\n      }\n\n      var j = 0;\n\n      while (j < styleCloseTagBeforeList.length) {\n        html += '</span>';\n        j++;\n      }\n\n      html += entityOpenTag;\n\n      for (var _i3 = 0, _styleOpenTagList = styleOpenTagList; _i3 < _styleOpenTagList.length; _i3++) {\n        var style = _styleOpenTagList[_i3];\n        html += '<span style=\"' + getInlineStylesCss(style) + '\">';\n      }\n\n      html += block.getText()[charIndex];\n      var k = 0;\n\n      while (k < styleCloseTagList.length) {\n        html += '</span>';\n        k++;\n      }\n\n      html += entityCloseTag;\n      lastEntityKey = currentEntityKey;\n    }\n\n    html += blockCloseTag;\n    blockCount++;\n  }\n\n  return html;\n};\n\nvar EditorContext = React.createContext({});\nvar MUIEditorState = {\n  createEmpty: function createEmpty(config) {\n    var editorFactories = new EditorFactories(config);\n    return EditorState.createEmpty(editorFactories.getCompositeDecorator());\n  },\n  createWithContent: function createWithContent(config, contentState) {\n    var editorFactories = new EditorFactories(config);\n    return EditorState.createWithContent(contentState, editorFactories.getCompositeDecorator());\n  }\n};\nvar useStyles$6 = makeStyles(function (theme) {\n  return {\n    '@global': {\n      '.mui-editor-left-aligned-block': {\n        textAlign: 'left !important',\n        '& > div': {\n          textAlign: 'left !important'\n        }\n      },\n      '.mui-editor-center-aligned-block': {\n        textAlign: 'center !important',\n        '& > div': {\n          textAlign: 'center !important'\n        }\n      },\n      '.mui-editor-right-aligned-block': {\n        textAlign: 'right !important',\n        '& > div': {\n          textAlign: 'right !important'\n        }\n      },\n      '.mui-editor-justify-aligned-block': {\n        textAlign: 'justify !important',\n        '& > div': {\n          textAlign: 'justify !important'\n        }\n      }\n    },\n    editorWrapper: {\n      marginTop: theme.spacing(2),\n      marginBottom: theme.spacing(2),\n      padding: theme.spacing(5)\n    }\n  };\n});\n\nfunction MUIEditor(_ref) {\n  var editorState = _ref.editorState,\n      onChange = _ref.onChange,\n      _ref$onFocus = _ref.onFocus,\n      onFocus = _ref$onFocus === void 0 ? null : _ref$onFocus,\n      _ref$onBlur = _ref.onBlur,\n      onBlur = _ref$onBlur === void 0 ? null : _ref$onBlur,\n      _ref$config = _ref.config,\n      config = _ref$config === void 0 ? defaultConfig : _ref$config;\n  var editorFactories = new EditorFactories(config);\n  var editorRef = React.useRef(null);\n  var translateRef = React.useRef(function () {});\n  var translationsRef = React.useRef(null);\n  var toolbarVisibleConfig = editorFactories.getConfigItem('toolbar', 'visible');\n\n  var _React$useState = React.useState(toolbarVisibleConfig),\n      isToolbarVisible = _React$useState[0],\n      setIsToolbarVisible = _React$useState[1];\n\n  var _React$useState2 = React.useState(false),\n      isResizeImageDialogVisible = _React$useState2[0],\n      setIsResizeImageDialogVisible = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      resizeImageEntityKey = _React$useState3[0],\n      setResizeImageEntityKey = _React$useState3[1];\n\n  translationsRef.current = editorFactories.getTranslations();\n  translateRef.current = React.useCallback(function (id) {\n    var translator = new Translator(translationsRef.current);\n    return translator.get(id);\n  }, []);\n  var classes = useStyles$6();\n  React.useEffect(function () {\n    setIsToolbarVisible(toolbarVisibleConfig);\n  }, [toolbarVisibleConfig]);\n  var toolbar =\n  /*#__PURE__*/\n  React.createElement(EditorToolbar, {\n    visible: isToolbarVisible,\n    style: editorFactories.getConfigItem('toolbar', 'style'),\n    className: editorFactories.getConfigItem('toolbar', 'className')\n  }, editorFactories.getToolbarControlComponents());\n  var top = editorFactories.getToolbarPosition() === 'top' ? toolbar : null;\n  var bottom = editorFactories.getToolbarPosition() === 'bottom' ? toolbar : null;\n\n  var handleKeyCommand = function handleKeyCommand(command) {\n    var newState = RichUtils.handleKeyCommand(editorState, command);\n\n    if (newState) {\n      onChange(newState);\n      return 'handled';\n    }\n\n    return 'not-handled';\n  };\n\n  var handleFocus = function handleFocus(ev) {\n    if (onFocus) onFocus(ev);\n  };\n\n  var handleBlur = function handleBlur(ev) {\n    if (onBlur) onBlur(ev);\n  };\n\n  var editorWrapperProps = {\n    style: editorFactories.getConfigItem('editor', 'style'),\n    className: classes.editorWrapper + \" \" + editorFactories.getConfigItem('editor', 'className'),\n    onClick: function onClick() {\n      return editorRef.current.focus();\n    }\n  };\n  var editorWrapperElement = editorFactories.getConfigItem('editor', 'wrapperElement');\n\n  if (editorWrapperElement === Paper) {\n    editorWrapperProps.elevation = 3;\n  }\n\n  var EditorWrapper = React.createElement(editorWrapperElement, editorWrapperProps,\n  /*#__PURE__*/\n  React.createElement(Editor, _extends({}, editorFactories.getConfigItem('draftEditor'), {\n    ref: editorRef,\n    editorState: editorState,\n    onChange: onChange,\n    onFocus: function onFocus(ev) {\n      return handleFocus(ev);\n    },\n    onBlur: function onBlur(ev) {\n      return handleBlur(ev);\n    },\n    handleKeyCommand: handleKeyCommand,\n    blockStyleFn: editorFactories.getBlockStyleFn(),\n    customStyleMap: editorFactories.getCustomStyleMap(),\n    blockRenderMap: editorFactories.getBlockRenderMap(),\n    blockRendererFn: editorFactories.getBlockRendererFn()\n  })));\n  return (\n    /*#__PURE__*/\n    React.createElement(EditorContext.Provider, {\n      value: {\n        editorState: editorState,\n        onChange: onChange,\n        ref: editorRef.current,\n        translate: translateRef.current,\n        showResizeImageDialog: function showResizeImageDialog(entityKey) {\n          setIsResizeImageDialogVisible(true);\n          setResizeImageEntityKey(entityKey);\n        },\n        hideResizeImageDialog: function hideResizeImageDialog() {\n          setIsResizeImageDialogVisible(false);\n          setResizeImageEntityKey(null);\n        },\n        isResizeImageDialogVisible: isResizeImageDialogVisible,\n        resizeImageEntityKey: resizeImageEntityKey\n      }\n    }, top, EditorWrapper, bottom)\n  );\n}\n\nMUIEditor.displayName = 'MUIEditor';\nMUIEditor.propTypes = {\n  editorState: PropTypes.object.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func,\n  onBlur: PropTypes.func,\n  config: PropTypes.object\n};\nMUIEditor.defaultProps = {\n  config: defaultConfig\n};\nexport default MUIEditor;\nexport { EditorContext, LANG_PREFIX, MUIEditorState, fileToBase64, toHTML, toolbarControlTypes, useEditor, useEditorFocus };","map":{"version":3,"sources":["../src/EditorToolbar/controls/DividerControl/index.jsx","../src/hooks/useEditor.js","../src/hooks/useEditorFocus.js","../src/EditorToolbar/controls/core/ButtonControl.jsx","../src/EditorToolbar/controls/UndoControl/index.jsx","../src/EditorToolbar/controls/RedoControl/index.jsx","../src/utils/editorStateUtils.js","../src/EditorToolbar/controls/core/ToggleInlineStyleButtonControl.jsx","../src/types/inlineStyles.js","../src/EditorToolbar/controls/BoldControl/index.jsx","../src/EditorToolbar/controls/ItalicControl/index.jsx","../src/EditorToolbar/controls/UnderlineControl/index.jsx","../src/EditorToolbar/controls/StrikethroughControl/index.jsx","../src/types/entities.js","../src/EditorToolbar/controls/LinkAddControl/index.jsx","../src/EditorToolbar/controls/LinkAddControl/plugin.js","../src/EditorToolbar/controls/LinkRemoveControl/index.jsx","../src/types/lang.js","../src/utils/translateUtils.js","../src/EditorToolbar/controls/core/DropdownControl.jsx","../src/EditorToolbar/controls/BlockTypeControl/index.jsx","../src/EditorToolbar/controls/core/ToggleBlockTypeButtonControl.jsx","../src/EditorToolbar/controls/UnorderedListControl/index.jsx","../src/types/blockStyles.js","../src/EditorToolbar/controls/OrderedListControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/index.jsx","../src/EditorToolbar/controls/FontFamilyControl/plugin.js","../src/EditorToolbar/controls/TextAlignControl/index.jsx","../src/EditorToolbar/controls/TextAlignControl/plugin.js","../src/EditorToolbar/controls/FontSizeControl/index.jsx","../src/EditorToolbar/controls/FontSizeControl/plugin.js","../src/utils/colorUtils.js","../src/EditorToolbar/controls/core/ColorSelectorControl/index.jsx","../src/EditorToolbar/controls/core/ToggleInlineStyleColorSelectorControl.jsx","../src/EditorToolbar/controls/FontColorControl/index.jsx","../src/EditorToolbar/controls/FontColorControl/plugin.js","../src/EditorToolbar/controls/FontBackgroundColorControl/index.jsx","../src/EditorToolbar/controls/FontBackgroundColorControl/plugin.js","../src/EditorToolbar/controls/ImageControl/dialogs/image/ImageToUpload.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/inputs/SizeInputs.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ByURLDialog.jsx","../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../src/EditorToolbar/controls/ImageControl/dialogs/UploadDialog.jsx","../src/EditorToolbar/controls/ImageControl/dialogs/ResizeImageDialog.js","../src/EditorToolbar/controls/ImageControl/index.jsx","../src/EditorToolbar/controls/ImageControl/plugin.js","../src/utils/fileUtils.js","../src/types/editorToolbar.js","../src/types/config.js","../src/utils/objectUtils.js","../src/lang/translations/ca.js","../src/lang/translations/en.js","../src/lang/translations/es.js","../src/lang/languages.js","../src/utils/EditorFactories.js","../src/EditorToolbar/index.jsx","../src/lang/Translator.js","../src/conversion/toHTML/block.js","../src/conversion/toHTML/entity.js","../src/conversion/toHTML/inlineStyle.js","../src/conversion/toHTML/index.js","../src/index.jsx"],"names":["React","editor","useEditor","changesCount","setChangesCount","currentChangesCount","useStyles","makeStyles","badge","background","props","badgeColor","children","onClick","disabled","active","text","rest","classes","vertical","horizontal","ButtonControl","PropTypes","bool","editorFocus","useEditorFocus","EditorState","toggleMappedInlineStyle","selection","editorState","newContentState","Modifier","newEditorState","currentStyle","RichUtils","getCurrentMappedInlineStyle","defaultInlineStyle","styleKeys","hasAllSelectionTheInlineStyle","startKey","startOffset","endKey","endOffset","currentContent","block","allHasTheInlineStyle","styleRangesCallback","expectedStart","expectedEnd","start","end","character","getCurrentBlockType","blockType","avBlockType","applyEntityToCurrentSelection","content","contentWithEntity","entityKey","contentStateWithEntity","ToggleInlineStyleButtonControl","inlineStyle","any","isActive","setIsActive","BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","FONT_FAMILY","FONT_SIZE","FONT_COLOR","FONT_BACKGROUND","inlineStyles","LINK","IMAGE","isDialogOpened","setIsDialogOpened","link","setLink","formRef","handleCloseDialog","onChangeLink","ev","handleSubmit","entities","url","linkStrategy","contentBlock","contentState","EditorLink","blockKey","anchorEl","setAnchorEl","showOptions","hideOptions","openLink","window","removeLink","linkSelection","anchorKey","anchorOffset","focusKey","focusOffset","Boolean","linkAddPlugin","decorators","strategy","component","LANG_PREFIX","translateLiteralWithPrefix","literal","translateFn","selectControl","margin","theme","value","onChange","options","minWidth","option","DropdownControl","number","configuration","defaultConfiguration","setValue","handleChange","newValue","BlockTypeControl","isRequired","ToggleBlockTypeButtonControl","H1","H2","H3","H4","H5","H6","UL","OL","BLOCKQUOTE","CODE_BLOCK","UNSTYLED","ATOMIC","blockStyles","pluginData","selectedFontFamilyStyle","setSelectedFontFamilyStyle","Object","fontFamily","FontFamilyControl","fontFamilyPlugin","fontFamilies","customStyleMap","selectedTextAlign","setSelectedTextAlign","currentBlock","blockData","toggle","textAlign","TextAlignControl","textAlignPlugin","blockStyleFn","FontSizeControl","selectedFontSizeStyle","setSelectedFontSizeStyle","fontSize","fontSizePlugin","fontSizes","isLightOrDark","color","r","g","b","hsp","Math","colorRow","display","alignContent","alignItems","padding","colorItem","height","width","borderRadius","border","cursor","selectedColor","onSelectColor","colors","colorsPerRow","menuId","colorRows","i","rowI","handleOpen","handleClose","colorData","backgroundColor","ColorSelectorControl","colorCssProp","setSelectedColor","selectededInlineStyle","handleSelectColor","selectedColorData","ToggleInlineStyleColorSelectorControl","FontColorControl","fontColorPlugin","fontColors","fontColor","FontBackgroundColorControl","fontBackgroundColorPlugin","fontBgs","fontBg","imgWrapper","maxWidth","maxHeight","overflow","marginTop","marginBottom","src","ImageToUpload","originalWidth","originalHeight","onChangeWidth","onChangeHeight","maintainAspectRatio","setMaintainAspectRatio","aspectRatio","handleChangeWidth","w","isNaN","parseInt","handleChangeHeight","h","handleClickAspectRatio","newMaintainAspectRatio","SizeInputs","open","onClose","onSubmit","imageURL","setImageURL","imageWidth","setImageWidth","imageOriginalWidth","setImageOriginalWidth","imageHeight","setImageHeight","imageOriginalHeight","setImageOriginalHeight","isUploading","setIsUploading","isValidImage","setIsValidImage","hasError","setHasError","changeTimeout","setChangeTimeout","resetForm","handleURLChange","clearTimeout","to","setTimeout","image","ByUrlDialog","dropArea","highlightDropArea","boxSizing","justifyContent","uploadCallback","errorMessage","setErrorMessage","setHighlightDropArea","inputFileRef","handleClickDropArea","handleDragEnter","handleDragLeave","handleDragOver","handleDrop","files","onSelectFile","handleInputFileChange","dropAreaContent","UploadDialog","onSave","setWidth","setHeight","ResizeImageDialog","isUploadDialogOpened","setIsUploadDialogOpened","isUrlDialogOpened","setIsUrlDialogOpened","imageEntityToResize","handleSubmitImage","AtomicBlockUtils","handleResizeImage","ImageControl","EditorMedia","entity","type","imgInfo","EditorImage","infoAnchorEl","setInfoAnchorEl","imageAlign","imageSelection","align","removeImage","blockMap","firstBlock","selectionToStart","selectionAfter","imagePlugin","blockRendererFn","editable","fileToBase64","reader","resolve","reject","toolbarControlTypes","divider","name","DividerControl","undo","UndoControl","redo","RedoControl","bold","BoldControl","italic","ItalicControl","underline","UnderlineControl","strikethrough","StrikethroughControl","plugin","fontBackgroundColor","linkAdd","linkRemove","LinkRemoveControl","unorderedList","UnorderedListControl","orderedList","OrderedListControl","defaultToolbarControls","defaultToolbarControlsConfiguration","defaultConfig","lang","translations","draftEditor","wrapperElement","className","style","toolbar","visible","position","controls","controlsConfig","item","Array","sources","source","isObject","target","mergeDeep","title","code","labels","noColor","actions","add","cancel","upload","alignLeft","alignCenter","alignRight","remove","resize","dropImageHere","insertOptions","editOptions","errorMessages","notValidImage","normal","header1","header2","header3","header4","header5","header6","justify","ca","en","es","EditorFactories","config","getCompositeDecorator","control","getCustomStyleMap","getBlockRenderMap","renderMap","getBlockStyleFn","classNames","result","getBlockRendererFn","getToolbarControls","getToolbarControlComponents","keyCounter","key","getToolbarControlConfiguration","getPluginData","getTranslations","langTranslations","languages","customTranslations","getToolbarPosition","getConfigItem","keys","EditorToolbar","Translator","get","id","blockHTMLMap","entityHTMLMap","isInlineStyleCollection","getInlineStyleCollectionValue","getInlineStylesCss","toHTML","html","isListBlock","blockCount","blockTag","blockStyle","blockOpenTag","blockCloseTag","lastEntityKey","currentOpenedStylesMap","isLastChar","entityOpenTag","entityCloseTag","currentEntityKey","entityHaveToClose","entityHaveToOpen","charInlineStyles","styleCloseTagBeforeList","styleOpenTagList","styleCloseTagList","styleCloseTagOpenIndexList","styleCloseTagBeforeOpenIndexList","closedIndex","j","k","EditorContext","MUIEditorState","createEmpty","editorFactories","createWithContent","editorWrapper","onFocus","onBlur","editorRef","translateRef","translationsRef","toolbarVisibleConfig","isToolbarVisible","setIsToolbarVisible","isResizeImageDialogVisible","setIsResizeImageDialogVisible","resizeImageEntityKey","setResizeImageEntityKey","translator","top","bottom","handleKeyCommand","newState","handleFocus","handleBlur","editorWrapperProps","editorWrapperElement","EditorWrapper","ref","translate","showResizeImageDialog","hideResizeImageDialog","MUIEditor","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Divider from '@material-ui/core/Divider';\n\nfunction DividerControl() {\n    return <Divider orientation=\"vertical\" flexItem />;\n}\n\nexport default DividerControl;\n","import React from 'react';\nimport { EditorContext } from '../index';\n\nexport default function useEditor() {\n    return React.useContext(EditorContext);\n}\n","import React from 'react';\nimport useEditor from './useEditor';\n\nexport default function useEditorFocus() {\n    const editor = useEditor();\n    const [changesCount, setChangesCount] = React.useState(0);\n\n    React.useEffect(() => {\n        if (changesCount > 0) editor.ref.focus();\n    }, [changesCount, editor.ref]);\n\n    return () => {\n        setChangesCount((currentChangesCount) => currentChangesCount + 1);\n    };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Badge from '@material-ui/core/Badge';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    badge: (props) => ({\n        background: props.badgeColor,\n    }),\n});\n\nfunction ButtonControl({\n    children,\n    onClick,\n    disabled = false,\n    active = false,\n    text = '',\n    badgeColor = null,\n    ...rest\n}) {\n    const classes = useStyles({ badgeColor });\n    return (\n        <Tooltip title={text} aria-disabled={disabled}>\n            <span>\n                <IconButton\n                    onClick={onClick}\n                    disabled={disabled}\n                    color={active ? 'primary' : 'default'}\n                    {...rest}>\n                    <Badge\n                        anchorOrigin={{\n                            vertical: 'top',\n                            horizontal: 'left',\n                        }}\n                        classes={{ badge: classes.badge }}\n                        overlap=\"circle\"\n                        badgeContent=\" \"\n                        invisible={badgeColor === null}\n                        variant=\"dot\">\n                        {children}\n                    </Badge>\n                </IconButton>\n            </span>\n        </Tooltip>\n    );\n}\n\nButtonControl.propTypes = {\n    children: PropTypes.any.isRequired,\n    onClick: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n    text: PropTypes.any,\n    badgeColor: PropTypes.any,\n    active: PropTypes.bool,\n};\n\nexport default ButtonControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { EditorState } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport UndoIcon from '@material-ui/icons/Undo';\n\nfunction UndoControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        editor.onChange(EditorState.undo(editor.editorState));\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl onClick={onClick} text={editor.translate('controls.undo.title')}>\n            <UndoIcon />\n        </ButtonControl>\n    );\n}\n\nexport default UndoControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { EditorState } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport RedoIcon from '@material-ui/icons/Redo';\n\nfunction RedoControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        editor.onChange(EditorState.redo(editor.editorState));\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl onClick={onClick} text={editor.translate('controls.redo.title')}>\n            <RedoIcon />\n        </ButtonControl>\n    );\n}\n\nexport default RedoControl;\n","import { EditorState, Modifier, RichUtils } from 'draft-js';\n\nexport const toggleMappedInlineStyle = (editorState, styleKeys, newInlineStyle) => {\n    const selection = editorState.getSelection();\n\n    // Turn off the other mapped inline styled in selection\n    const newContentState = styleKeys.reduce(\n        (contentState, inlineStyle) =>\n            Modifier.removeInlineStyle(contentState, selection, inlineStyle),\n        editorState.getCurrentContent()\n    );\n\n    let newEditorState = EditorState.push(editorState, newContentState, 'change-inline-style');\n\n    const currentStyle = editorState.getCurrentInlineStyle();\n\n    if (selection.isCollapsed()) {\n        newEditorState = currentStyle.reduce((state, inlineStyle) => {\n            return RichUtils.toggleInlineStyle(state, inlineStyle);\n        }, newEditorState);\n    }\n    // If the inline style is being toggled on, apply it.\n    if (!currentStyle.has(newInlineStyle)) {\n        newEditorState = RichUtils.toggleInlineStyle(newEditorState, newInlineStyle);\n    }\n\n    return newEditorState;\n};\n\nexport const getCurrentMappedInlineStyle = (editorState, styleKeys, defaultInlineStyle = null) => {\n    const currentStyle = editorState.getCurrentInlineStyle();\n    return (\n        currentStyle.find((inlineStyle) => styleKeys.includes(inlineStyle)) || defaultInlineStyle\n    );\n};\n\nexport const hasAllSelectionTheInlineStyle = (editorState, inlineStyle) => {\n    const selection = editorState.getSelection();\n    const startKey = selection.getStartKey();\n    const startOffset = selection.getStartOffset();\n    const endKey = selection.getEndKey();\n    const endOffset = selection.getEndOffset();\n\n    const currentContent = editorState.getCurrentContent();\n\n    let block = currentContent.getBlockForKey(startKey);\n    let allHasTheInlineStyle = true;\n\n    const styleRangesCallback = (block) => (start, end) => {\n        const expectedStart = block.getKey() === startKey ? startOffset : 0;\n        const expectedEnd = block.getKey() === endKey ? endOffset : block.getLength() - 1;\n        allHasTheInlineStyle = start <= expectedStart && end >= expectedEnd;\n    };\n\n    while (block && allHasTheInlineStyle) {\n        allHasTheInlineStyle = false;\n        block.findStyleRanges(\n            (character) => character.hasStyle(inlineStyle),\n            styleRangesCallback(block)\n        );\n        if (block.getKey() !== endKey) break;\n        block = currentContent.getBlockAfter(block.getKey());\n    }\n\n    return allHasTheInlineStyle;\n};\n\nexport const getCurrentBlockType = (editorState, availableBlockTypes) => {\n    const blockType = RichUtils.getCurrentBlockType(editorState);\n    if (availableBlockTypes.find((avBlockType) => avBlockType === blockType)) return blockType;\n    return 'default';\n};\n\nexport const applyEntityToCurrentSelection = (editorState, entityType, mutability, entityData) => {\n    const content = editorState.getCurrentContent();\n    const contentWithEntity = content.createEntity(entityType, mutability, entityData);\n    const entityKey = contentWithEntity.getLastCreatedEntityKey();\n    const selection = editorState.getSelection();\n    const contentStateWithEntity = Modifier.applyEntity(contentWithEntity, selection, entityKey);\n    return EditorState.push(editorState, contentStateWithEntity, 'apply-entity');\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from './ButtonControl';\nimport { hasAllSelectionTheInlineStyle } from '../../../utils/editorStateUtils';\n\nToggleInlineStyleButtonControl.propTypes = {\n    inlineStyle: PropTypes.string.isRequired,\n    children: PropTypes.any.isRequired,\n    text: PropTypes.any,\n};\n\nfunction ToggleInlineStyleButtonControl({ inlineStyle, children, text }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [isActive, setIsActive] = React.useState(false);\n\n    React.useEffect(() => {\n        setIsActive(hasAllSelectionTheInlineStyle(editor.editorState, inlineStyle));\n    }, [editor.editorState, inlineStyle]);\n\n    const onClick = () => {\n        const newEditorState = RichUtils.toggleInlineStyle(editor.editorState, inlineStyle);\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl\n            text={text}\n            onClick={onClick}\n            active={isActive}\n            disabled={editor.editorState.getSelection().isCollapsed()}>\n            {children}\n        </ButtonControl>\n    );\n}\n\nexport default ToggleInlineStyleButtonControl;\n","export default {\n    BOLD: 'BOLD',\n    ITALIC: 'ITALIC',\n    UNDERLINE: 'UNDERLINE',\n    STRIKETHROUGH: 'STRIKETHROUGH',\n    CODE: 'CODE',\n    FONT_FAMILY: 'FONT_FAMILY',\n    FONT_SIZE: 'FONT_SIZE',\n    FONT_COLOR: 'FONT_COLOR',\n    FONT_BACKGROUND: 'FONT_BACKGROUND',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatBoldIcon from '@material-ui/icons/FormatBold';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction BoldControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.BOLD}\n            text={editor.translate('controls.bold.title')}>\n            <FormatBoldIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default BoldControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatItalicIcon from '@material-ui/icons/FormatItalic';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction ItalicControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.ITALIC}\n            text={editor.translate('controls.italic.title')}>\n            <FormatItalicIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default ItalicControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatUnderlinedIcon from '@material-ui/icons/FormatUnderlined';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction UnderlineControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.UNDERLINE}\n            text={editor.translate('controls.underline.title')}>\n            <FormatUnderlinedIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default UnderlineControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleInlineStyleButtonControl from '../core/ToggleInlineStyleButtonControl';\nimport FormatStrikethroughIcon from '@material-ui/icons/FormatStrikethrough';\nimport inlineStyles from '../../../types/inlineStyles';\n\nfunction StrikethroughControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleButtonControl\n            inlineStyle={inlineStyles.STRIKETHROUGH}\n            text={editor.translate('controls.strikethrough.title')}>\n            <FormatStrikethroughIcon />\n        </ToggleInlineStyleButtonControl>\n    );\n}\n\nexport default StrikethroughControl;\n","export default {\n    LINK: 'LINK',\n    IMAGE: 'IMAGE',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport ButtonControl from '../core/ButtonControl';\nimport LinkIcon from '@material-ui/icons/Link';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport entities from '../../../types/entities';\nimport { applyEntityToCurrentSelection } from '../../../utils/editorStateUtils';\n\nfunction LinkAddControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [isDialogOpened, setIsDialogOpened] = React.useState(false);\n    const [link, setLink] = React.useState('');\n    const formRef = React.createRef();\n\n    const onClick = () => {\n        setLink('');\n        setIsDialogOpened(true);\n    };\n\n    const handleCloseDialog = () => {\n        setIsDialogOpened(false);\n    };\n\n    const onChangeLink = (ev) => {\n        setLink(ev.currentTarget.value);\n    };\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        if (link === '') return;\n        handleCloseDialog();\n        editor.onChange(\n            applyEntityToCurrentSelection(editor.editorState, entities.LINK, 'MUTABLE', {\n                url: link,\n            })\n        );\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={onClick}\n                text={editor.translate('controls.linkAdd.title')}\n                disabled={editor.editorState.getSelection().isCollapsed()}>\n                <LinkIcon />\n            </ButtonControl>\n            <Dialog open={isDialogOpened} onClose={handleCloseDialog}>\n                <form ref={formRef} onSubmit={handleSubmit}>\n                    <DialogContent>\n                        <TextField\n                            autoFocus\n                            label={editor.translate('controls.linkAdd.labels.link')}\n                            value={link}\n                            onChange={onChangeLink}\n                            fullWidth\n                        />\n                    </DialogContent>\n                    <DialogActions>\n                        <Button type=\"button\" onClick={handleCloseDialog} color=\"primary\">\n                            {editor.translate('controls.linkAdd.actions.cancel')}\n                        </Button>\n                        <Button type=\"submit\" color=\"primary\" disabled={link === ''}>\n                            {editor.translate('controls.linkAdd.actions.add')}\n                        </Button>\n                    </DialogActions>\n                </form>\n            </Dialog>\n        </React.Fragment>\n    );\n}\n\nexport default LinkAddControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils, SelectionState } from 'draft-js';\nimport Link from '@material-ui/core/Link';\nimport entities from '../../../types/entities';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport LaunchIcon from '@material-ui/icons/Launch';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nconst linkStrategy = (contentBlock, callback, contentState) => {\n    contentBlock.findEntityRanges((character) => {\n        const entityKey = character.getEntity();\n        return entityKey !== null && contentState.getEntity(entityKey).getType() === entities.LINK;\n    }, callback);\n};\n\nconst EditorLink = ({ contentState, entityKey, blockKey, start, end, children }) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const { url } = contentState.getEntity(entityKey).getData();\n\n    const showOptions = (ev) => {\n        setAnchorEl(ev.currentTarget);\n    };\n\n    const hideOptions = () => {\n        setAnchorEl(null);\n    };\n\n    const openLink = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        window.open(url, '_blank');\n    };\n\n    const removeLink = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const linkSelection = SelectionState.createEmpty(blockKey).merge({\n            anchorKey: blockKey,\n            anchorOffset: start,\n            focusKey: blockKey,\n            focusOffset: end,\n        });\n\n        editor.onChange(RichUtils.toggleLink(editor.editorState, linkSelection, null));\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <Link\n                href={url}\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n                aria-label={url}\n                onClick={showOptions}>\n                {children}\n            </Link>\n            <Popover\n                open={Boolean(anchorEl)}\n                onClose={hideOptions}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}>\n                <ButtonGroup size=\"small\" aria-label=\"Link options\">\n                    <Button onClick={openLink} title={`Open ${url}`}>\n                        <LaunchIcon />\n                    </Button>\n                    <Button onClick={removeLink} title=\"Remove link\">\n                        <LinkOffIcon />\n                    </Button>\n                </ButtonGroup>\n            </Popover>\n        </React.Fragment>\n    );\n};\n\nEditorLink.propTypes = {\n    contentState: PropTypes.object.isRequired,\n    entityKey: PropTypes.string.isRequired,\n    blockKey: PropTypes.string.isRequired,\n    start: PropTypes.number.isRequired,\n    end: PropTypes.number.isRequired,\n    children: PropTypes.any,\n};\n\nconst linkAddPlugin = () => ({\n    decorators: [\n        {\n            strategy: linkStrategy,\n            component: EditorLink,\n        },\n    ],\n});\n\nexport default linkAddPlugin;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from '../core/ButtonControl';\nimport LinkOffIcon from '@material-ui/icons/LinkOff';\n\nfunction LinkRemoveControl() {\n    const editor = useEditor();\n\n    const onClick = () => {\n        const selection = editor.editorState.getSelection();\n        editor.onChange(RichUtils.toggleLink(editor.editorState, selection, null));\n    };\n\n    return (\n        <ButtonControl\n            onClick={onClick}\n            text={editor.translate('controls.linkRemove.title')}\n            disabled={editor.editorState.getSelection().isCollapsed()}>\n            <LinkOffIcon />\n        </ButtonControl>\n    );\n}\n\nexport default LinkRemoveControl;\n","export const LANG_PREFIX = 'lang::';\n","import { LANG_PREFIX } from '../types/lang';\n\nexport const translateLiteralWithPrefix = (literal, translateFn) =>\n    (typeof literal === 'string' || literal instanceof String) &&\n    literal.substr(0, LANG_PREFIX.length) === LANG_PREFIX\n        ? translateFn(literal.substr(LANG_PREFIX.length))\n        : literal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from '@material-ui/core/Select';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useEditor from '../../../hooks/useEditor';\nimport { translateLiteralWithPrefix } from '../../../utils/translateUtils';\n\nconst useStyles = makeStyles((theme) => ({\n    selectControl: {\n        margin: theme.spacing(1),\n    },\n}));\n\nfunction DropdownControl({ value, onChange, options, minWidth = 120, ...rest }) {\n    const classes = useStyles();\n    const editor = useEditor();\n\n    return (\n        <Select\n            value={value}\n            onChange={(ev) => onChange(ev.target.value)}\n            className={classes.selectControl}\n            style={{ minWidth }}\n            {...rest}>\n            {options.map((option) => (\n                <MenuItem key={option.value || 'empty'} value={option.value}>\n                    {option.text ? translateLiteralWithPrefix(option.text, editor.translate) : ''}\n                </MenuItem>\n            ))}\n        </Select>\n    );\n}\n\nDropdownControl.propTypes = {\n    value: PropTypes.string.isRequired,\n    onChange: PropTypes.func.isRequired,\n    options: PropTypes.array.isRequired,\n    minWidth: PropTypes.number,\n};\n\nexport default DropdownControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport DropdownControl from '../core/DropdownControl';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport { getCurrentBlockType } from '../../../utils/editorStateUtils';\n\nfunction BlockTypeControl({ configuration, defaultConfiguration }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const options = configuration.options || defaultConfiguration.options;\n    const [value, setValue] = React.useState('default');\n\n    React.useEffect(() => {\n        setValue(\n            getCurrentBlockType(\n                editor.editorState,\n                options.map((option) => option.value)\n            )\n        );\n    }, [editor, options]);\n\n    const handleChange = (newValue) => {\n        setValue(newValue);\n        const newEditorState = RichUtils.toggleBlockType(\n            editor.editorState,\n            newValue === 'normal' ? '' : newValue\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return <DropdownControl options={options} onChange={handleChange} value={value} />;\n}\n\nBlockTypeControl.propTypes = {\n    configuration: PropTypes.any,\n    defaultConfiguration: PropTypes.any.isRequired,\n};\n\nexport default BlockTypeControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { RichUtils } from 'draft-js';\nimport ButtonControl from './ButtonControl';\n\nToggleBlockTypeButtonControl.propTypes = {\n    blockType: PropTypes.string.isRequired,\n    children: PropTypes.any.isRequired,\n    text: PropTypes.any,\n};\n\nfunction ToggleBlockTypeButtonControl({ blockType, children, text }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n\n    const onClick = () => {\n        const newEditorState = RichUtils.toggleBlockType(editor.editorState, blockType);\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ButtonControl text={text} onClick={onClick}>\n            {children}\n        </ButtonControl>\n    );\n}\n\nexport default ToggleBlockTypeButtonControl;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\n\nfunction UnorderedListControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleBlockTypeButtonControl\n            blockType=\"unordered-list-item\"\n            text={editor.translate('controls.unorderedList.title')}>\n            <FormatListBulletedIcon />\n        </ToggleBlockTypeButtonControl>\n    );\n}\n\nexport default UnorderedListControl;\n","export default {\n    H1: 'header-one',\n    H2: 'header-two',\n    H3: 'header-three',\n    H4: 'header-four',\n    H5: 'header-five',\n    H6: 'header-six',\n    UL: 'unordered-list-item',\n    OL: 'ordered-list-item',\n    BLOCKQUOTE: 'blockquote',\n    CODE_BLOCK: 'code-block',\n    UNSTYLED: 'unstyled',\n    ATOMIC: 'atomic',\n};\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport ToggleBlockTypeButtonControl from '../core/ToggleBlockTypeButtonControl';\nimport FormatListNumberedIcon from '@material-ui/icons/FormatListNumbered';\nimport blockStyles from '../../../types/blockStyles';\n\nfunction OrderedListControl() {\n    const editor = useEditor();\n\n    return (\n        <ToggleBlockTypeButtonControl\n            blockType={blockStyles.OL}\n            text={editor.translate('controls.orderedList.title')}>\n            <FormatListNumberedIcon />\n        </ToggleBlockTypeButtonControl>\n    );\n}\n\nexport default OrderedListControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport DropdownControl from '../core/DropdownControl';\nimport inlineStyles from '../../../types/inlineStyles';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nfunction FontFamilyControl({ pluginData }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedFontFamilyStyle, setSelectedFontFamilyStyle] = React.useState(\n        `${inlineStyles.FONT_FAMILY}-default`\n    );\n    const styleKeys = Object.keys(pluginData.customStyleMap);\n\n    React.useEffect(() => {\n        setSelectedFontFamilyStyle(\n            getCurrentMappedInlineStyle(\n                editor.editorState,\n                styleKeys,\n                `${inlineStyles.FONT_FAMILY}-default`\n            )\n        );\n    }, [editor.editorState, styleKeys]);\n\n    const handleChange = (newInlineStyle) => {\n        setSelectedFontFamilyStyle(newInlineStyle);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            styleKeys,\n            newInlineStyle\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <DropdownControl\n            options={styleKeys.map((inlineStyle) => ({\n                value: inlineStyle,\n                text: pluginData.customStyleMap[inlineStyle].fontFamily ? (\n                    <span\n                        style={{\n                            fontFamily: pluginData.customStyleMap[inlineStyle].fontFamily,\n                        }}>\n                        {pluginData.customStyleMap[inlineStyle].fontFamily}\n                    </span>\n                ) : (\n                    'default'\n                ),\n            }))}\n            onChange={handleChange}\n            value={selectedFontFamilyStyle}\n        />\n    );\n}\n\nFontFamilyControl.propTypes = {\n    pluginData: PropTypes.any.isRequired,\n};\n\nexport default FontFamilyControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontFamilyPlugin = (configuration, defaultConfiguration) => {\n    const fontFamilies = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontFamily of fontFamilies) {\n        customStyleMap[`${inlineStyles.FONT_FAMILY}-${fontFamily}`] =\n            fontFamily === 'default'\n                ? {}\n                : {\n                      fontFamily,\n                  };\n    }\n    return { customStyleMap };\n};\n\nexport default fontFamilyPlugin;\n","import React from 'react';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport { Modifier, EditorState } from 'draft-js';\nimport FormatAlignLeftIcon from '@material-ui/icons/FormatAlignLeft';\nimport FormatAlignCenterIcon from '@material-ui/icons/FormatAlignCenter';\nimport FormatAlignRightIcon from '@material-ui/icons/FormatAlignRight';\nimport FormatAlignJustifyIcon from '@material-ui/icons/FormatAlignJustify';\nimport ButtonControl from '../core/ButtonControl';\n\nfunction TextAlignControl() {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedTextAlign, setSelectedTextAlign] = React.useState(null);\n\n    React.useEffect(() => {\n        const selection = editor.editorState.getSelection();\n        const currentBlock = editor.editorState\n            .getCurrentContent()\n            .getBlockForKey(selection.getStartKey());\n        const blockData = currentBlock.getData();\n        if (blockData && blockData.get('textAlign')) {\n            setSelectedTextAlign(blockData.get('textAlign'));\n        } else {\n            setSelectedTextAlign(null);\n        }\n    }, [editor.editorState]);\n\n    const toggle = (textAlign) => {\n        setSelectedTextAlign(textAlign);\n        const { editorState } = editor;\n        const newContentState = Modifier.mergeBlockData(\n            editorState.getCurrentContent(),\n            editorState.getSelection(),\n            { textAlign }\n        );\n        editor.onChange(EditorState.push(editorState, newContentState, 'change-block-data'));\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                active={selectedTextAlign === 'left'}\n                onClick={() => toggle('left')}\n                text={editor.translate('controls.textAlign.actions.alignLeft')}>\n                <FormatAlignLeftIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'center'}\n                onClick={() => toggle('center')}\n                text={editor.translate('controls.textAlign.actions.alignCenter')}>\n                <FormatAlignCenterIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'right'}\n                onClick={() => toggle('right')}\n                text={editor.translate('controls.textAlign.actions.alignRight')}>\n                <FormatAlignRightIcon />\n            </ButtonControl>\n            <ButtonControl\n                active={selectedTextAlign === 'justify'}\n                onClick={() => toggle('justify')}\n                text={editor.translate('controls.textAlign.actions.justify')}>\n                <FormatAlignJustifyIcon />\n            </ButtonControl>\n        </React.Fragment>\n    );\n}\n\nTextAlignControl.propTypes = {};\n\nexport default TextAlignControl;\n","const textAlignPlugin = () => ({\n    blockStyleFn: (block) => {\n        const textAlign = block.getData() ? block.getData().get('textAlign') : null;\n        if (textAlign) {\n            return `mui-editor-${textAlign}-aligned-block`;\n        }\n\n        return '';\n    },\n});\n\nexport default textAlignPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport DropdownControl from '../core/DropdownControl';\nimport inlineStyles from '../../../types/inlineStyles';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nFontSizeControl.propTypes = {\n    pluginData: PropTypes.object.isRequired,\n};\n\nfunction FontSizeControl({ pluginData }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedFontSizeStyle, setSelectedFontSizeStyle] = React.useState(\n        `${inlineStyles.FONT_SIZE}-default`\n    );\n    const styleKeys = Object.keys(pluginData.customStyleMap);\n\n    React.useEffect(() => {\n        setSelectedFontSizeStyle(\n            getCurrentMappedInlineStyle(\n                editor.editorState,\n                styleKeys,\n                `${inlineStyles.FONT_SIZE}-default`\n            )\n        );\n    }, [editor.editorState, styleKeys]);\n\n    const handleChange = (newInlineStyle) => {\n        setSelectedFontSizeStyle(newInlineStyle);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            styleKeys,\n            newInlineStyle\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <DropdownControl\n            options={styleKeys.map((inlineStyle) => ({\n                text: pluginData.customStyleMap[inlineStyle].fontSize ? (\n                    <span style={{ fontSize: pluginData.customStyleMap[inlineStyle].fontSize }}>\n                        {pluginData.customStyleMap[inlineStyle].fontSize}\n                    </span>\n                ) : (\n                    'default'\n                ),\n                value: inlineStyle,\n            }))}\n            onChange={handleChange}\n            renderValue={(style) =>\n                pluginData.customStyleMap[style].fontSize ||\n                editor.translate('controls.fontSize.labels.default')\n            }\n            value={selectedFontSizeStyle}\n            minWidth={50}\n        />\n    );\n}\n\nexport default FontSizeControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontSizePlugin = (configuration, defaultConfiguration) => {\n    const fontSizes = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontSize of fontSizes) {\n        customStyleMap[`${inlineStyles.FONT_SIZE}-${fontSize}`] =\n            fontSize === 'default' ? {} : { fontSize };\n    }\n    return { customStyleMap };\n};\n\nexport default fontSizePlugin;\n","// Created by Andreas Wik\nexport const isLightOrDark = (color) => {\n    let r, g, b;\n    // Check the format of the color, HEX or RGB?\n    if (color.match(/^rgb/)) {\n        // If HEX --> store the red, green, blue values in separate variables\n        color = color.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+(?:\\.\\d+)?))?\\)$/);\n\n        r = color[1];\n        g = color[2];\n        b = color[3];\n    } else {\n        // If RGB --> Convert it to HEX: http://gist.github.com/983661\n        color = +('0x' + color.slice(1).replace(color.length < 5 && /./g, '$&$&'));\n\n        r = color >> 16;\n        g = (color >> 8) & 255;\n        b = color & 255;\n    }\n\n    // HSP (Highly Sensitive Poo) equation from http://alienryderflex.com/hsp.html\n    const hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) + 0.114 * (b * b));\n\n    // Using the HSP value, determine whether the color is light or dark\n    if (hsp > 127.5) {\n        return 'light';\n    } else {\n        return 'dark';\n    }\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ButtonControl from '../ButtonControl';\nimport Popover from '@material-ui/core/Popover';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormatColorResetIcon from '@material-ui/icons/FormatColorReset';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { isLightOrDark } from '../../../../utils/colorUtils';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    colorRow: {\n        display: 'flex',\n        alignContent: 'center',\n        alignItems: 'center',\n        padding: 5,\n    },\n    colorItem: {\n        height: 25,\n        width: 25,\n        borderRadius: '50%',\n        margin: 3,\n        border: 'solid 1px #c4c4c4',\n        cursor: 'pointer',\n        display: 'flex',\n        alignContent: 'center',\n        alignItems: 'center',\n    },\n});\n\nfunction ColorSelectorControl({\n    selectedColor,\n    onSelectColor,\n    colors,\n    colorsPerRow = 10,\n    children,\n    ...rest\n}) {\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const menuId = Math.random().toString(36).substring(8);\n    const colorRows = [[]];\n    for (let i = 0, rowI = 0; i < colors.length; i++) {\n        if (i % colorsPerRow === 0) {\n            rowI++;\n            colorRows[rowI] = [];\n        }\n        colorRows[rowI].push(colors[i]);\n    }\n\n    const handleOpen = (ev) => {\n        setAnchorEl(ev.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={handleOpen}\n                aria-controls={menuId}\n                aria-haspopup=\"true\"\n                badgeColor={selectedColor ? selectedColor.color : null}\n                {...rest}>\n                {children}\n            </ButtonControl>\n            <Popover\n                id={menuId}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                }}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}>\n                <React.Fragment>\n                    <Button\n                        startIcon={<FormatColorResetIcon />}\n                        fullWidth\n                        color=\"secondary\"\n                        onClick={() => {\n                            handleClose();\n                            onSelectColor(null);\n                        }}>\n                        None\n                    </Button>\n                    {colorRows.map((colorRow, colorRowI) => (\n                        <div key={`color-row-${colorRowI}`} className={classes.colorRow}>\n                            {colorRow.map((colorData) => (\n                                <Tooltip key={colorData.value} title={colorData.text}>\n                                    <div\n                                        onClick={() => {\n                                            handleClose();\n                                            onSelectColor(colorData);\n                                        }}\n                                        className={classes.colorItem}\n                                        style={{\n                                            backgroundColor: colorData.color,\n                                        }}>\n                                        {selectedColor &&\n                                        colorData.value === selectedColor.value ? (\n                                            <CheckIcon\n                                                style={{\n                                                    color:\n                                                        isLightOrDark(colorData.color) === 'dark'\n                                                            ? '#fff'\n                                                            : '#000',\n                                                }}\n                                            />\n                                        ) : null}\n                                    </div>\n                                </Tooltip>\n                            ))}\n                        </div>\n                    ))}\n                </React.Fragment>\n            </Popover>\n        </React.Fragment>\n    );\n}\n\nColorSelectorControl.propTypes = {\n    selectedColor: PropTypes.object,\n    onSelectColor: PropTypes.func.isRequired,\n    colors: PropTypes.array.isRequired,\n    colorsPerRow: PropTypes.number,\n    children: PropTypes.any,\n};\n\nexport default ColorSelectorControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ColorSelectorControl from '../core/ColorSelectorControl';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport {\n    getCurrentMappedInlineStyle,\n    toggleMappedInlineStyle,\n} from '../../../utils/editorStateUtils';\n\nfunction ToggleInlineStyleColorSelectorControl({\n    configuration,\n    defaultConfiguration,\n    pluginData,\n    colorCssProp,\n    inlineStyle,\n    text,\n    children,\n}) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const [selectedColor, setSelectedColor] = React.useState(null);\n    const options = configuration.options || defaultConfiguration.options;\n\n    React.useEffect(() => {\n        const selectededInlineStyle = getCurrentMappedInlineStyle(\n            editor.editorState,\n            Object.keys(pluginData.customStyleMap),\n            null\n        );\n        setSelectedColor(\n            selectededInlineStyle && pluginData.customStyleMap[selectededInlineStyle]\n                ? {\n                      color: pluginData.customStyleMap[selectededInlineStyle][colorCssProp],\n                      value: selectededInlineStyle,\n                  }\n                : null\n        );\n    }, [editor.editorState, pluginData.customStyleMap, colorCssProp]);\n\n    const handleSelectColor = (selectedColorData) => {\n        setSelectedColor(selectedColorData);\n        const newEditorState = toggleMappedInlineStyle(\n            editor.editorState,\n            Object.keys(pluginData.customStyleMap),\n            selectedColorData ? selectedColorData.value : ''\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <ColorSelectorControl\n            text={text}\n            onSelectColor={handleSelectColor}\n            selectedColor={selectedColor}\n            colorsPerRow={configuration.colorsPerRow || defaultConfiguration.colorsPerRow}\n            disabled={editor.editorState.getSelection().isCollapsed()}\n            colors={options.map((option) => ({\n                text: option.text,\n                color: option.value,\n                value: `${inlineStyle}-${option.value}`,\n            }))}>\n            {children}\n        </ColorSelectorControl>\n    );\n}\n\nToggleInlineStyleColorSelectorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n    colorCssProp: PropTypes.string.isRequired,\n    inlineStyle: PropTypes.string.isRequired,\n    text: PropTypes.string,\n    children: PropTypes.any,\n};\n\nexport default ToggleInlineStyleColorSelectorControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport FormatColorTextIcon from '@material-ui/icons/FormatColorText';\nimport inlineStyles from '../../../types/inlineStyles';\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\n\nfunction FontColorControl({ configuration, defaultConfiguration, pluginData }) {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleColorSelectorControl\n            text={editor.translate('controls.fontColor.title')}\n            configuration={configuration}\n            defaultConfiguration={defaultConfiguration}\n            inlineStyle={inlineStyles.FONT_COLOR}\n            pluginData={pluginData}\n            colorCssProp=\"color\">\n            <FormatColorTextIcon />\n        </ToggleInlineStyleColorSelectorControl>\n    );\n}\n\nFontColorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n};\n\nexport default FontColorControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontColorPlugin = (configuration, defaultConfiguration) => {\n    const fontColors = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontColor of fontColors) {\n        customStyleMap[`${inlineStyles.FONT_COLOR}-${fontColor.value}`] = {\n            color: fontColor.value,\n        };\n    }\n    return { customStyleMap };\n};\n\nexport default fontColorPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport inlineStyles from '../../../types/inlineStyles';\nimport ToggleInlineStyleColorSelectorControl from '../core/ToggleInlineStyleColorSelectorControl';\n\nfunction FontBackgroundColorControl({ configuration, defaultConfiguration, pluginData }) {\n    const editor = useEditor();\n\n    return (\n        <ToggleInlineStyleColorSelectorControl\n            text={editor.translate('controls.fontBackgroundColor.title')}\n            configuration={configuration}\n            defaultConfiguration={defaultConfiguration}\n            inlineStyle={inlineStyles.FONT_BACKGROUND}\n            pluginData={pluginData}\n            colorCssProp=\"backgroundColor\">\n            <BorderColorIcon />\n        </ToggleInlineStyleColorSelectorControl>\n    );\n}\n\nFontBackgroundColorControl.propTypes = {\n    configuration: PropTypes.object,\n    defaultConfiguration: PropTypes.object.isRequired,\n    pluginData: PropTypes.object.isRequired,\n};\n\nexport default FontBackgroundColorControl;\n","import inlineStyles from '../../../types/inlineStyles';\n\nconst fontBackgroundColorPlugin = (configuration, defaultConfiguration) => {\n    const fontBgs = configuration.options || defaultConfiguration.options;\n    const customStyleMap = {};\n    for (const fontBg of fontBgs) {\n        customStyleMap[`${inlineStyles.FONT_BACKGROUND}-${fontBg.value}`] = {\n            backgroundColor: fontBg.value,\n        };\n    }\n    return { customStyleMap };\n};\n\nexport default fontBackgroundColorPlugin;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    imgWrapper: {\n        maxWidth: '100%',\n        maxHeight: 300,\n        overflow: 'auto',\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n    },\n}));\n\nfunction ImageToUpload({ width, height, src }) {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.imgWrapper}>\n            <img alt=\"\" width={width} height={height} src={src} />\n        </div>\n    );\n}\n\nImageToUpload.propTypes = {\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    src: PropTypes.string.isRequired,\n};\n\nexport default ImageToUpload;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../../hooks/useEditor';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport IconButton from '@material-ui/core/IconButton';\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\nimport LockIcon from '@material-ui/icons/Lock';\n\nfunction SizeInputs({\n    originalWidth,\n    originalHeight,\n    width,\n    height,\n    onChangeWidth,\n    onChangeHeight,\n}) {\n    const editor = useEditor();\n    const [maintainAspectRatio, setMaintainAspectRatio] = React.useState(true);\n    const aspectRatio = originalWidth / originalHeight;\n\n    const handleChangeWidth = (ev) => {\n        ev.stopPropagation();\n        const value = ev.currentTarget.value;\n        const w = value === '' || isNaN(value) ? 0 : parseInt(value);\n        onChangeWidth(w);\n        if (maintainAspectRatio) {\n            onChangeHeight(Math.round(w / aspectRatio));\n        }\n    };\n\n    const handleChangeHeight = (ev) => {\n        ev.stopPropagation();\n        const value = ev.currentTarget.value;\n        const h = value === '' || isNaN(value) ? 0 : parseInt(value);\n        onChangeHeight(h);\n        if (maintainAspectRatio) {\n            onChangeWidth(Math.round(h * aspectRatio));\n        }\n    };\n\n    const handleClickAspectRatio = () => {\n        const newMaintainAspectRatio = !maintainAspectRatio;\n        setMaintainAspectRatio(newMaintainAspectRatio);\n        if (newMaintainAspectRatio) {\n            onChangeHeight(Math.round(width / aspectRatio));\n        }\n    };\n\n    return (\n        <Grid container direction=\"row\" justify=\"flex-end\" alignItems=\"center\" spacing={2}>\n            <Grid item>\n                <TextField\n                    type=\"number\"\n                    label={editor.translate('controls.image.labels.width')}\n                    size=\"small\"\n                    value={width}\n                    onChange={handleChangeWidth}\n                    onClick={(ev) => ev.stopPropagation()}\n                    style={{ maxWidth: 90 }}\n                />\n            </Grid>\n            <Grid item>\n                <IconButton onClick={handleClickAspectRatio} size=\"small\">\n                    {maintainAspectRatio ? <LockIcon /> : <LockOpenIcon />}\n                </IconButton>\n            </Grid>\n            <Grid item>\n                <TextField\n                    type=\"number\"\n                    label={editor.translate('controls.image.labels.height')}\n                    size=\"small\"\n                    value={height}\n                    onChange={handleChangeHeight}\n                    onClick={(ev) => ev.stopPropagation()}\n                    style={{ maxWidth: 90 }}\n                />\n            </Grid>\n        </Grid>\n    );\n}\n\nSizeInputs.propTypes = {\n    originalWidth: PropTypes.number.isRequired,\n    originalHeight: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    onChangeWidth: PropTypes.func.isRequired,\n    onChangeHeight: PropTypes.func.isRequired,\n};\n\nexport default SizeInputs;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport TextField from '@material-ui/core/TextField';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Typography from '@material-ui/core/Typography';\nimport ImageToUpload from './image/ImageToUpload';\nimport SizeInputs from './inputs/SizeInputs';\n\nfunction ByUrlDialog({ open, onClose, onSubmit }) {\n    const editor = useEditor();\n    const [imageURL, setImageURL] = React.useState('');\n    const [imageWidth, setImageWidth] = React.useState(0);\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\n    const [imageHeight, setImageHeight] = React.useState(0);\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\n    const [isUploading, setIsUploading] = React.useState(false);\n    const [isValidImage, setIsValidImage] = React.useState(false);\n    const [hasError, setHasError] = React.useState(false);\n    const [changeTimeout, setChangeTimeout] = React.useState(null);\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        onSubmit({ imageURL, imageWidth, imageHeight });\n    };\n\n    const resetForm = () => {\n        setIsValidImage(false);\n        setImageURL('');\n    };\n\n    const handleURLChange = (url) => {\n        setImageURL(url);\n        if (changeTimeout) {\n            clearTimeout(changeTimeout);\n            setChangeTimeout(null);\n        }\n\n        if (url === '') {\n            setHasError(false);\n            setIsValidImage(false);\n            return;\n        }\n\n        const to = setTimeout(() => {\n            setIsUploading(true);\n            // eslint-disable-next-line no-undef\n            const image = new Image();\n            image.onload = function () {\n                setImageWidth(this.width);\n                setImageOriginalWidth(this.width);\n                setImageHeight(this.height);\n                setImageOriginalHeight(this.height);\n                setIsUploading(false);\n                setIsValidImage(true);\n                setHasError(false);\n            };\n            image.onerror = function () {\n                setIsUploading(false);\n                setIsValidImage(false);\n                setHasError(true);\n            };\n            image.src = url;\n            setChangeTimeout(null);\n        }, 1000);\n        setChangeTimeout(to);\n    };\n\n    let content = null;\n\n    if (isUploading) content = <CircularProgress />;\n    else if (isValidImage && imageURL)\n        content = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\n    else if (hasError && !isValidImage && imageURL)\n        content = (\n            <Typography variant=\"subtitle1\" color=\"error\" gutterBottom>\n                {editor.translate('controls.image.errorMessages.notValidImage')}\n            </Typography>\n        );\n\n    return (\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    {isValidImage && imageURL !== '' && (\n                        <SizeInputs\n                            width={imageWidth}\n                            onChangeHeight={setImageHeight}\n                            height={imageHeight}\n                            originalWidth={imageOriginalWidth}\n                            originalHeight={imageOriginalHeight}\n                            onChangeWidth={setImageWidth}\n                        />\n                    )}\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                        {content}\n                    </Grid>\n                    <TextField\n                        autoFocus\n                        label={editor.translate('controls.image.labels.url')}\n                        value={imageURL}\n                        onChange={(ev) => handleURLChange(ev.currentTarget.value)}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\n                        {editor.translate('controls.image.actions.add')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nByUrlDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n};\n\nexport default ByUrlDialog;\n","// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SizeInputs from './inputs/SizeInputs';\nimport ImageToUpload from './image/ImageToUpload';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    dropArea: ({ highlightDropArea }) => ({\n        width: 500,\n        height: 300,\n        boxSizing: 'border-box',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: theme.spacing(2),\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(2),\n        borderRadius: theme.shape.borderRadius || 4,\n        backgroundColor: highlightDropArea\n            ? theme.palette.grey[400] || '#bdbdbd'\n            : theme.palette.grey[200] || '#eeeeee',\n        border: highlightDropArea\n            ? `solid 3px ${theme.palette.grey[600] || '#757575'}`\n            : `dashed 3px ${theme.palette.grey[400] || '#bdbdbd'}`,\n        color: theme.palette.text.hint || 'rgba(0, 0, 0, 0.38)',\n        cursor: 'pointer',\n    }),\n}));\n\nfunction UploadDialog({ open, onClose, onSubmit, uploadCallback }) {\n    const editor = useEditor();\n    const [imageURL, setImageURL] = React.useState('');\n    const [imageWidth, setImageWidth] = React.useState(0);\n    const [imageOriginalWidth, setImageOriginalWidth] = React.useState(0);\n    const [imageHeight, setImageHeight] = React.useState(0);\n    const [imageOriginalHeight, setImageOriginalHeight] = React.useState(0);\n    const [isUploading, setIsUploading] = React.useState(false);\n    const [isValidImage, setIsValidImage] = React.useState(false);\n    const [hasError, setHasError] = React.useState(false);\n    const [errorMessage, setErrorMessage] = React.useState(null);\n    const [highlightDropArea, setHighlightDropArea] = React.useState(false);\n    const inputFileRef = React.createRef();\n    const classes = useStyles({ highlightDropArea });\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        onSubmit({ imageURL, imageWidth, imageHeight });\n    };\n\n    const handleClickDropArea = (ev) => {\n        ev.preventDefault();\n        inputFileRef.current.click();\n    };\n\n    const handleDragEnter = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(true);\n    };\n\n    const handleDragLeave = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(false);\n    };\n\n    const handleDragOver = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        setHighlightDropArea(true);\n    };\n\n    const handleDrop = async (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const files = ev.dataTransfer.files;\n        if (files.length > 0) await onSelectFile(files[0]);\n    };\n\n    const handleInputFileChange = async () => {\n        const files = inputFileRef.current.files;\n        if (files.length > 0) await onSelectFile(files[0]);\n    };\n\n    const onSelectFile = async (file) => {\n        setHighlightDropArea(false);\n        setIsUploading(true);\n        try {\n            const selectedImageUrl = await uploadCallback(file);\n            setImageURL(selectedImageUrl);\n            const image = new Image();\n            image.onload = function () {\n                setImageWidth(this.width);\n                setImageOriginalWidth(this.width);\n                setImageHeight(this.height);\n                setImageOriginalHeight(this.height);\n                setIsUploading(false);\n                setIsValidImage(true);\n                setHasError(false);\n            };\n            image.onerror = function () {\n                setIsUploading(false);\n                setIsValidImage(false);\n                setHasError(true);\n                setErrorMessage(null);\n            };\n            image.src = selectedImageUrl;\n        } catch (e) {\n            setIsUploading(false);\n            setIsValidImage(false);\n            setHasError(true);\n            setErrorMessage(e);\n        }\n    };\n\n    const resetForm = () => {\n        setImageURL('');\n        setIsValidImage(false);\n        setIsUploading(false);\n        setHighlightDropArea(false);\n    };\n\n    let dropAreaContent = (\n        <Typography variant=\"subtitle1\">\n            {editor.translate('controls.image.labels.dropImageHere')}\n        </Typography>\n    );\n\n    if (isUploading) {\n        dropAreaContent = <CircularProgress />;\n    } else if (isValidImage && imageURL) {\n        dropAreaContent = <ImageToUpload src={imageURL} height={imageHeight} width={imageWidth} />;\n    }\n\n    return (\n        <Dialog open={open} onClose={onClose} onEnter={resetForm}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <input\n                        ref={inputFileRef}\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={handleInputFileChange}\n                        style={{ display: 'none' }}\n                    />\n                    {isValidImage && imageURL !== '' && (\n                        <SizeInputs\n                            originalWidth={imageOriginalWidth}\n                            originalHeight={imageOriginalHeight}\n                            width={imageWidth}\n                            height={imageHeight}\n                            onChangeWidth={setImageWidth}\n                            onChangeHeight={setImageHeight}\n                        />\n                    )}\n\n                    {hasError && !isValidImage && (\n                        <Typography variant=\"subtitle1\" color=\"error\" align=\"center\" gutterBottom>\n                            {errorMessage !== null\n                                ? errorMessage\n                                : editor.translate('controls.image.errorMessages.notValidImage')}\n                        </Typography>\n                    )}\n\n                    <div\n                        className={classes.dropArea}\n                        onClick={handleClickDropArea}\n                        onDragEnter={handleDragEnter}\n                        onDragLeave={handleDragLeave}\n                        onDragOver={handleDragOver}\n                        onDrop={handleDrop}>\n                        {dropAreaContent}\n                    </div>\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={onClose} color=\"primary\">\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\" color=\"primary\" disabled={!isValidImage}>\n                        {editor.translate('controls.image.actions.add')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nUploadDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    onSubmit: PropTypes.func.isRequired,\n    uploadCallback: PropTypes.func.isRequired,\n};\n\nexport default UploadDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../../hooks/useEditor';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport SizeInputs from './inputs/SizeInputs';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button';\nimport ImageToUpload from './image/ImageToUpload';\n\nfunction ResizeImageDialog({ open, onClose, src, originalWidth, originalHeight, onSave }) {\n    const [width, setWidth] = React.useState(0);\n    const [height, setHeight] = React.useState(0);\n    const editor = useEditor();\n\n    React.useEffect(() => {\n        setWidth(originalWidth);\n        setHeight(originalHeight);\n    }, [originalWidth, originalHeight]);\n\n    const handleSubmit = (ev) => {\n        ev.preventDefault();\n        onSave(width, height);\n    };\n\n    return (\n        <Dialog open={open} onClose={onClose}>\n            <form onSubmit={handleSubmit}>\n                <DialogContent>\n                    <SizeInputs\n                        width={width}\n                        height={height}\n                        onChangeWidth={setWidth}\n                        onChangeHeight={setHeight}\n                        originalWidth={originalWidth}\n                        originalHeight={originalHeight}\n                    />\n                    <Grid container alignItems=\"center\" justify=\"center\">\n                        <ImageToUpload src={src} width={width} height={height} />\n                    </Grid>\n                </DialogContent>\n                <DialogActions>\n                    <Button type=\"button\" onClick={() => onClose()}>\n                        {editor.translate('controls.image.actions.cancel')}\n                    </Button>\n                    <Button type=\"submit\">\n                        {editor.translate('controls.image.actions.resize')}\n                    </Button>\n                </DialogActions>\n            </form>\n        </Dialog>\n    );\n}\n\nResizeImageDialog.propTypes = {\n    open: PropTypes.bool.isRequired,\n    onClose: PropTypes.func.isRequired,\n    src: PropTypes.string.isRequired,\n    originalWidth: PropTypes.number.isRequired,\n    originalHeight: PropTypes.number.isRequired,\n    onSave: PropTypes.func.isRequired,\n};\n\nexport default ResizeImageDialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport ButtonControl from '../core/ButtonControl';\nimport ImageIcon from '@material-ui/icons/Image';\nimport Popover from '@material-ui/core/Popover';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport LinkIcon from '@material-ui/icons/Link';\nimport entities from '../../../types/entities';\nimport { EditorState, AtomicBlockUtils } from 'draft-js';\nimport ByUrlDialog from './dialogs/ByURLDialog';\nimport UploadDialog from './dialogs/UploadDialog';\nimport ResizeImageDialog from './dialogs/ResizeImageDialog';\n\nfunction ImageControl({ configuration, defaultConfiguration }) {\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const menuId = Math.random().toString(36).substring(8);\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [isUploadDialogOpened, setIsUploadDialogOpened] = React.useState(false);\n    const [isUrlDialogOpened, setIsUrlDialogOpened] = React.useState(false);\n    const uploadCallback = configuration.uploadCallback || defaultConfiguration.uploadCallback;\n\n    const imageEntityToResize = editor.resizeImageEntityKey\n        ? editor.editorState.getCurrentContent().getEntity(editor.resizeImageEntityKey)\n        : null;\n\n    const handleSubmitImage = ({ imageURL, imageWidth, imageHeight }) => {\n        if (imageURL === '') return;\n        setIsUrlDialogOpened(false);\n        setIsUploadDialogOpened(false);\n\n        const contentState = editor.editorState.getCurrentContent();\n        const contentStateWithEntity = contentState.createEntity(entities.IMAGE, 'IMMUTABLE', {\n            src: imageURL,\n            width: imageWidth,\n            height: imageHeight,\n        });\n        const entityKey = contentStateWithEntity.getLastCreatedEntityKey();\n        const newEditorState = EditorState.push(\n            editor.editorState,\n            contentStateWithEntity,\n            'apply-entity'\n        );\n        editor.onChange(AtomicBlockUtils.insertAtomicBlock(newEditorState, entityKey, ' '));\n        editorFocus();\n    };\n\n    const handleResizeImage = (width, height) => {\n        editor.hideResizeImageDialog();\n        const contentState = editor.editorState.getCurrentContent();\n        const newEditorState = EditorState.push(\n            editor.editorState,\n            contentState.mergeEntityData(editor.resizeImageEntityKey, { width, height }),\n            'apply-entity'\n        );\n        editor.onChange(newEditorState);\n        editorFocus();\n    };\n\n    return (\n        <React.Fragment>\n            <ButtonControl\n                onClick={(ev) => setAnchorEl(ev.currentTarget)}\n                text={editor.translate('controls.image.title')}\n                aria-controls={menuId}\n                aria-haspopup=\"true\">\n                <ImageIcon />\n            </ButtonControl>\n\n            <Popover\n                id={menuId}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'left',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'left',\n                }}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={() => setAnchorEl(null)}>\n                <List\n                    component=\"nav\"\n                    aria-label={editor.translate('controls.image.labels.insertOptions')}>\n                    <ListItem\n                        button\n                        onClick={() => {\n                            setIsUploadDialogOpened(true);\n                            setAnchorEl(null);\n                        }}>\n                        <ListItemIcon>\n                            <PublishIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={editor.translate('controls.image.actions.upload')} />\n                    </ListItem>\n                    <ListItem\n                        button\n                        onClick={() => {\n                            setIsUrlDialogOpened(true);\n                            setAnchorEl(null);\n                        }}>\n                        <ListItemIcon>\n                            <LinkIcon />\n                        </ListItemIcon>\n                        <ListItemText primary={editor.translate('controls.image.actions.url')} />\n                    </ListItem>\n                </List>\n            </Popover>\n\n            <ByUrlDialog\n                onSubmit={handleSubmitImage}\n                onClose={() => setIsUrlDialogOpened(false)}\n                open={isUrlDialogOpened}\n            />\n\n            <UploadDialog\n                onSubmit={handleSubmitImage}\n                onClose={() => setIsUploadDialogOpened(false)}\n                open={isUploadDialogOpened}\n                uploadCallback={uploadCallback}\n            />\n\n            <ResizeImageDialog\n                open={editor.isResizeImageDialogVisible}\n                onClose={() => editor.hideResizeImageDialog()}\n                src={imageEntityToResize ? imageEntityToResize.getData().src : ''}\n                originalWidth={imageEntityToResize ? imageEntityToResize.getData().width : 0}\n                originalHeight={imageEntityToResize ? imageEntityToResize.getData().height : 0}\n                onSave={handleResizeImage}\n            />\n        </React.Fragment>\n    );\n}\n\nImageControl.propTypes = {\n    configuration: PropTypes.object.isRequired,\n    defaultConfiguration: PropTypes.object.isRequired,\n};\n\nexport default ImageControl;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport entities from '../../../types/entities';\nimport blockStyles from '../../../types/blockStyles';\nimport { EditorState, Modifier, SelectionState } from 'draft-js';\nimport useEditor from '../../../hooks/useEditor';\nimport useEditorFocus from '../../../hooks/useEditorFocus';\nimport Popover from '@material-ui/core/Popover';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport Button from '@material-ui/core/Button';\nimport ImageIcon from '@material-ui/icons/Image';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\nimport ArrowRightIcon from '@material-ui/icons/ArrowRight';\nimport PhotoSizeSelectLargeIcon from '@material-ui/icons/PhotoSizeSelectLarge';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst EditorMedia = ({ contentState, block }) => {\n    const entity = contentState.getEntity(block.getEntityAt(0));\n    const type = entity.getType();\n\n    if (type === entities.IMAGE) {\n        const { src, width = 'auto', height = 'auto' } = entity.getData();\n        return (\n            <EditorImage\n                src={src}\n                width={width}\n                height={height}\n                block={block}\n                contentState={contentState}\n            />\n        );\n    }\n\n    return null;\n};\n\nEditorMedia.propTypes = {\n    contentState: PropTypes.object.isRequired,\n    block: PropTypes.object.isRequired,\n};\n\nconst useStyles = makeStyles((theme) => ({\n    imgInfo: {\n        padding: theme.spacing(0.6),\n    },\n}));\n\nconst EditorImage = ({ src, width, height, contentState, block }) => {\n    const [anchorEl, setAnchorEl] = React.useState(null);\n    const [infoAnchorEl, setInfoAnchorEl] = React.useState(null);\n    const editor = useEditor();\n    const editorFocus = useEditorFocus();\n    const classes = useStyles();\n\n    const showOptions = (ev) => {\n        setAnchorEl(ev.currentTarget);\n        setInfoAnchorEl(ev.currentTarget);\n    };\n\n    const hideOptions = () => {\n        setAnchorEl(null);\n        setInfoAnchorEl(null);\n    };\n\n    const imageAlign = (ev, align) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n            anchorKey: block.getKey(),\n            anchorOffset: 0,\n            focusKey: block.getKey(),\n            focusOffset: block.getLength(),\n        });\n\n        const newContentState = Modifier.setBlockData(contentState, imageSelection, {\n            textAlign: align,\n        });\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'change-block-data'));\n        editorFocus();\n    };\n\n    const removeImage = (ev) => {\n        ev.preventDefault();\n        ev.stopPropagation();\n        const imageSelection = SelectionState.createEmpty(block.getKey()).merge({\n            anchorKey: block.getKey(),\n            anchorOffset: 0,\n            focusKey: block.getKey(),\n            focusOffset: block.getLength(),\n        });\n\n        let newContentState = Modifier.removeRange(contentState, imageSelection, 'forward');\n\n        const blockMap = newContentState.getBlockMap().delete(block.getKey());\n\n        const firstBlock = newContentState.getFirstBlock();\n\n        const selectionToStart = SelectionState.createEmpty(firstBlock.getKey()).merge({\n            anchorKey: firstBlock.getKey(),\n            anchorOffset: 0,\n            focusKey: firstBlock.getKey(),\n            focusOffset: 0,\n        });\n\n        newContentState = newContentState.merge({ blockMap, selectionAfter: selectionToStart });\n\n        editor.onChange(EditorState.push(editor.editorState, newContentState, 'remove-range'));\n        editorFocus();\n    };\n\n    if (!src) return null;\n\n    return (\n        <React.Fragment>\n            <img alt={src} src={src} width={width} height={height} onClick={showOptions} />\n            <Popover\n                open={Boolean(infoAnchorEl)}\n                onClose={hideOptions}\n                anchorEl={infoAnchorEl}\n                anchorOrigin={{\n                    vertical: 'top',\n                    horizontal: 'right',\n                }}\n                transformOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'right',\n                }}>\n                <Typography color=\"textSecondary\" variant=\"body1\" className={classes.imgInfo}>\n                    {width}&nbsp;x&nbsp;{height}\n                </Typography>\n            </Popover>\n            <Popover\n                open={Boolean(anchorEl)}\n                onClose={hideOptions}\n                anchorEl={anchorEl}\n                anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                }}\n                transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                }}>\n                <ButtonGroup\n                    size=\"small\"\n                    aria-label={editor.translate('controls.image.labels.editOptions')}>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'left')}\n                        title={editor.translate('controls.image.actions.alignLeft')}>\n                        <ArrowLeftIcon />\n                        <ImageIcon />\n                    </Button>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'center')}\n                        title={editor.translate('controls.image.actions.alignCenter')}>\n                        <ArrowLeftIcon />\n                        <ImageIcon />\n                        <ArrowRightIcon />\n                    </Button>\n                    <Button\n                        onClick={(ev) => imageAlign(ev, 'right')}\n                        title={editor.translate('controls.image.actions.alignRight')}>\n                        <ImageIcon />\n                        <ArrowRightIcon />\n                    </Button>\n                    <Button\n                        onClick={() => {\n                            hideOptions();\n                            editor.showResizeImageDialog(block.getEntityAt(0));\n                        }}\n                        title={editor.translate('controls.image.actions.resize')}>\n                        <PhotoSizeSelectLargeIcon />\n                    </Button>\n                    <Button\n                        onClick={removeImage}\n                        title={editor.translate('controls.image.actions.remove')}>\n                        <DeleteIcon />\n                    </Button>\n                </ButtonGroup>\n            </Popover>\n        </React.Fragment>\n    );\n};\n\nEditorImage.propTypes = {\n    src: PropTypes.string,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n    contentState: PropTypes.object.isRequired,\n    block: PropTypes.object.isRequired,\n};\n\nconst imagePlugin = () => ({\n    blockRendererFn: (block) => {\n        if (block.getType() === blockStyles.ATOMIC) {\n            return {\n                component: EditorMedia,\n                editable: false,\n            };\n        }\n    },\n});\n\nexport default imagePlugin;\n","export const fileToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n        // eslint-disable-next-line no-undef\n        const reader = new FileReader();\n        reader.onload = () => resolve(reader.result);\n        reader.onerror = () => reject(reader.error);\n        reader.readAsDataURL(file);\n    });\n};\n","import DividerControl from '../EditorToolbar/controls/DividerControl';\nimport UndoControl from '../EditorToolbar/controls/UndoControl';\nimport RedoControl from '../EditorToolbar/controls/RedoControl';\nimport BoldControl from '../EditorToolbar/controls/BoldControl';\nimport ItalicControl from '../EditorToolbar/controls/ItalicControl';\nimport UnderlineControl from '../EditorToolbar/controls/UnderlineControl';\nimport StrikethroughControl from '../EditorToolbar/controls/StrikethroughControl';\nimport LinkAddControl from '../EditorToolbar/controls/LinkAddControl';\nimport linkAddPlugin from '../EditorToolbar/controls/LinkAddControl/plugin';\nimport LinkRemoveControl from '../EditorToolbar/controls/LinkRemoveControl';\nimport BlockTypeControl from '../EditorToolbar/controls/BlockTypeControl';\nimport UnorderedListControl from '../EditorToolbar/controls/UnorderedListControl';\nimport OrderedListControl from '../EditorToolbar/controls/OrderedListControl';\nimport FontFamilyControl from '../EditorToolbar/controls/FontFamilyControl';\nimport fontFamilyPlugin from '../EditorToolbar/controls/FontFamilyControl/plugin';\nimport TextAlignControl from '../EditorToolbar/controls/TextAlignControl';\nimport textAlignPlugin from '../EditorToolbar/controls/TextAlignControl/plugin';\nimport FontSizeControl from '../EditorToolbar/controls/FontSizeControl';\nimport fontSizePlugin from '../EditorToolbar/controls/FontSizeControl/plugin';\nimport FontColorControl from '../EditorToolbar/controls/FontColorControl';\nimport fontColorPlugin from '../EditorToolbar/controls/FontColorControl/plugin';\nimport FontBackgroundColorControl from '../EditorToolbar/controls/FontBackgroundColorControl';\nimport fontBackgroundColorPlugin from '../EditorToolbar/controls/FontBackgroundColorControl/plugin';\nimport ImageControl from '../EditorToolbar/controls/ImageControl';\nimport imagePlugin from '../EditorToolbar/controls/ImageControl/plugin';\nimport { fileToBase64 } from '../utils/fileUtils';\nimport { LANG_PREFIX } from './lang';\n\nexport const toolbarControlTypes = {\n    divider: {\n        name: 'divider',\n        component: DividerControl,\n    },\n    undo: {\n        name: 'undo',\n        component: UndoControl,\n    },\n    redo: {\n        name: 'undo',\n        component: RedoControl,\n    },\n    bold: {\n        name: 'bold',\n        component: BoldControl,\n    },\n    italic: {\n        name: 'italic',\n        component: ItalicControl,\n    },\n    underline: {\n        name: 'underline',\n        component: UnderlineControl,\n    },\n    strikethrough: {\n        name: 'strikethrough',\n        component: StrikethroughControl,\n    },\n    fontColor: {\n        name: 'fontColor',\n        component: FontColorControl,\n        plugin: fontColorPlugin,\n    },\n    fontBackgroundColor: {\n        name: 'fontBackgroundColor',\n        component: FontBackgroundColorControl,\n        plugin: fontBackgroundColorPlugin,\n    },\n    linkAdd: {\n        name: 'linkAdd',\n        component: LinkAddControl,\n        plugin: linkAddPlugin,\n    },\n    linkRemove: {\n        name: 'linkRemove',\n        component: LinkRemoveControl,\n    },\n    image: {\n        name: 'image',\n        component: ImageControl,\n        plugin: imagePlugin,\n    },\n    blockType: {\n        name: 'blockType',\n        component: BlockTypeControl,\n    },\n    fontSize: {\n        name: 'fontSize',\n        component: FontSizeControl,\n        plugin: fontSizePlugin,\n    },\n    fontFamily: {\n        name: 'fontFamily',\n        component: FontFamilyControl,\n        plugin: fontFamilyPlugin,\n    },\n    textAlign: {\n        name: 'textAlign',\n        component: TextAlignControl,\n        plugin: textAlignPlugin,\n    },\n    unorderedList: {\n        name: 'unorderedList',\n        component: UnorderedListControl,\n    },\n    orderedList: {\n        name: 'orderedList',\n        component: OrderedListControl,\n    },\n};\n\nexport const defaultToolbarControls = [\n    toolbarControlTypes.undo,\n    toolbarControlTypes.redo,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.bold,\n    toolbarControlTypes.italic,\n    toolbarControlTypes.underline,\n    toolbarControlTypes.strikethrough,\n    toolbarControlTypes.fontColor,\n    toolbarControlTypes.fontBackgroundColor,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.linkAdd,\n    toolbarControlTypes.linkRemove,\n    toolbarControlTypes.image,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.blockType,\n    toolbarControlTypes.fontSize,\n    toolbarControlTypes.fontFamily,\n    toolbarControlTypes.textAlign,\n    toolbarControlTypes.divider,\n    toolbarControlTypes.unorderedList,\n    toolbarControlTypes.orderedList,\n];\n\nconst colors = [\n    { text: 'black', value: 'rgb(0, 0, 0)' },\n    { text: 'dark grey 4', value: 'rgb(67, 67, 67)' },\n    { text: 'dark grey 3', value: 'rgb(102, 102, 102)' },\n    { text: 'dark grey 2', value: 'rgb(153, 153, 153)' },\n    { text: 'dark grey 1', value: 'rgb(183, 183, 183)' },\n    { text: 'grey', value: 'rgb(204, 204, 204)' },\n    { text: 'light grey 1', value: 'rgb(217, 217, 217)' },\n    { text: 'light grey 2', value: 'rgb(239, 239, 239)' },\n    { text: 'light grey 3', value: 'rgb(243, 243, 243)' },\n    { text: 'white', value: 'rgb(255, 255, 255)' },\n    { text: 'Red berry', value: 'rgb(152, 0, 0)' },\n    { text: 'red', value: 'rgb(255, 0, 0)' },\n    { text: 'orange', value: 'rgb(255, 153, 0)' },\n    { text: 'yellow', value: 'rgb(255, 255, 0)' },\n    { text: 'green', value: 'rgb(0, 255, 0)' },\n    { text: 'cyan', value: 'rgb(0, 255, 255)' },\n    { text: 'cornflower blue', value: 'rgb(74, 134, 232)' },\n    { text: 'blue', value: 'rgb(0, 0, 255)' },\n    { text: 'purple', value: 'rgb(153, 0, 255)' },\n    { text: 'magenta', value: 'rgb(255, 0, 255)' },\n    { text: 'light red berry 3', value: 'rgb(230, 184, 175)' },\n    { text: 'light red 3', value: 'rgb(244, 204, 204)' },\n    { text: 'light orange 3', value: 'rgb(252, 229, 205)' },\n    { text: 'light yellow 3', value: 'rgb(255, 242, 204)' },\n    { text: 'light green 3', value: 'rgb(217, 234, 211)' },\n    { text: 'light cyan 3', value: 'rgb(208, 224, 227)' },\n    { text: 'light cornflower blue 3', value: 'rgb(201, 218, 248)' },\n    { text: 'light blue 3', value: 'rgb(207, 226, 243)' },\n    { text: 'light purple 3', value: 'rgb(217, 210, 233)' },\n    { text: 'light magenta 3', value: 'rgb(234, 209, 220)' },\n    { text: 'light red berry 2', value: 'rgb(221, 126, 107)' },\n    { text: 'light red 2', value: 'rgb(234, 153, 153)' },\n    { text: 'light orange 2', value: 'rgb(249, 203, 156)' },\n    { text: 'light yellow 2', value: 'rgb(255, 229, 153)' },\n    { text: 'light green 2', value: 'rgb(182, 215, 168)' },\n    { text: 'light cyan 2', value: 'rgb(162, 196, 201)' },\n    { text: 'light cornflower blue 2', value: 'rgb(164, 194, 244)' },\n    { text: 'light blue 2', value: 'rgb(159, 197, 232)' },\n    { text: 'light purple 2', value: 'rgb(180, 167, 214)' },\n    { text: 'light magenta 2', value: 'rgb(213, 166, 189)' },\n    { text: 'light red berry 1', value: 'rgb(204, 65, 37)' },\n    { text: 'light red 1', value: 'rgb(224, 102, 102)' },\n    { text: 'light orange 1', value: 'rgb(246, 178, 107)' },\n    { text: 'light yellow 1', value: 'rgb(255, 217, 102)' },\n    { text: 'light green 1', value: 'rgb(147, 196, 125)' },\n    { text: 'light cyan 1', value: 'rgb(118, 165, 175)' },\n    { text: 'light cornflower blue 1', value: 'rgb(109, 158, 235)' },\n    { text: 'light blue 1', value: 'rgb(111, 168, 220)' },\n    { text: 'light purple 1', value: 'rgb(142, 124, 195)' },\n    { text: 'light magenta 1', value: 'rgb(194, 123, 160)' },\n    { text: 'dark red berry 1', value: 'rgb(166, 28, 0)' },\n    { text: 'dark red 1', value: 'rgb(204, 0, 0)' },\n    { text: 'dark orange 1', value: 'rgb(230, 145, 56)' },\n    { text: 'dark yellow 1', value: 'rgb(241, 194, 50)' },\n    { text: 'dark green 1', value: 'rgb(106, 168, 79)' },\n    { text: 'dark cyan 1', value: 'rgb(69, 129, 142)' },\n    { text: 'dark cornflower blue 1', value: 'rgb(60, 120, 216)' },\n    { text: 'dark blue 1', value: 'rgb(61, 133, 198)' },\n    { text: 'dark purple 1', value: 'rgb(103, 78, 167)' },\n    { text: 'dark magenta 1', value: 'rgb(166, 77, 121)' },\n    { text: 'dark red berry 2', value: 'rgb(133, 32, 12)' },\n    { text: 'dark red 2', value: 'rgb(153, 0, 0)' },\n    { text: 'dark orange 2', value: 'rgb(180, 95, 6)' },\n    { text: 'dark yellow 2', value: 'rgb(191, 144, 0)' },\n    { text: 'dark green 2', value: 'rgb(56, 118, 29)' },\n    { text: 'dark cyan 2', value: 'rgb(19, 79, 92)' },\n    { text: 'dark cornflower blue 2', value: 'rgb(17, 85, 204)' },\n    { text: 'dark blue 2', value: 'rgb(11, 83, 148)' },\n    { text: 'dark purple 2', value: 'rgb(53, 28, 117)' },\n    { text: 'dark magenta 2', value: 'rgb(116, 27, 71)' },\n    { text: 'dark red berry 3', value: 'rgb(91, 15, 0)' },\n    { text: 'dark red 3', value: 'rgb(102, 0, 0)' },\n    { text: 'dark orange 3', value: 'rgb(120, 63, 4)' },\n    { text: 'dark yellow 3', value: 'rgb(127, 96, 0)' },\n    { text: 'dark green 3', value: 'rgb(39, 78, 19)' },\n    { text: 'dark cyan 3', value: 'rgb(12, 52, 61)' },\n    { text: 'dark cornflower blue 3', value: 'rgb(28, 69, 135)' },\n    { text: 'dark blue 3', value: 'rgb(7, 55, 99)' },\n    { text: 'dark purple 3', value: 'rgb(32, 18, 77)' },\n    { text: 'dark magenta 3', value: 'rgb(76, 17, 48)' },\n];\n\nexport const defaultToolbarControlsConfiguration = {\n    blockType: {\n        options: [\n            {\n                value: 'default',\n                text: LANG_PREFIX + 'controls.blockType.labels.normal',\n            },\n            {\n                value: 'header-one',\n                text: LANG_PREFIX + 'controls.blockType.labels.header1',\n            },\n            {\n                value: 'header-two',\n                text: LANG_PREFIX + 'controls.blockType.labels.header2',\n            },\n            {\n                value: 'header-three',\n                text: LANG_PREFIX + 'controls.blockType.labels.header3',\n            },\n            {\n                value: 'header-four',\n                text: LANG_PREFIX + 'controls.blockType.labels.header4',\n            },\n            {\n                value: 'header-five',\n                text: LANG_PREFIX + 'controls.blockType.labels.header5',\n            },\n            {\n                value: 'header-six',\n                text: LANG_PREFIX + 'controls.blockType.labels.header6',\n            },\n        ],\n    },\n    image: {\n        uploadCallback: fileToBase64,\n    },\n    fontColor: {\n        colorsPerRow: 10,\n        options: colors,\n    },\n    fontBackgroundColor: {\n        colorsPerRow: 10,\n        options: colors,\n    },\n    fontSize: {\n        options: [\n            'default',\n            '8px',\n            '9px',\n            '10px',\n            '11px',\n            '12px',\n            '14px',\n            '18px',\n            '24px',\n            '30px',\n            '36px',\n            '48px',\n            '60px',\n            '72px',\n            '96px',\n        ],\n    },\n    fontFamily: {\n        options: [\n            'default',\n            'Arial',\n            'Verdana',\n            'Times New Roman',\n            'Georgia',\n            'Courier new',\n            'Lucida Console',\n        ],\n    },\n};\n","import { defaultToolbarControls, defaultToolbarControlsConfiguration } from './editorToolbar';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nexport const defaultConfig = {\r\n    lang: 'en',\r\n    translations: {},\r\n    draftEditor: {},\r\n    editor: {\r\n        wrapperElement: Paper,\r\n        className: '',\r\n        style: {},\r\n    },\r\n    toolbar: {\r\n        className: '',\r\n        style: {},\r\n        visible: true,\r\n        position: 'top',\r\n        controls: defaultToolbarControls,\r\n        controlsConfig: defaultToolbarControlsConfiguration,\r\n    },\r\n};\r\n","/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n    return item && typeof item === 'object' && !Array.isArray(item);\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param sources\n */\nexport function mergeDeep(target, ...sources) {\n    if (!sources.length) return target;\n    const source = sources.shift();\n\n    if (isObject(target) && isObject(source)) {\n        for (const key in source) {\n            // noinspection JSUnfilteredForInLoop\n            if (isObject(source[key])) {\n                // noinspection JSUnfilteredForInLoop\n                if (!target[key]) {\n                    // noinspection JSUnfilteredForInLoop\n                    Object.assign(target, { [key]: {} });\n                }\n                // noinspection JSUnfilteredForInLoop\n                mergeDeep(target[key], source[key]);\n            } else {\n                // noinspection JSUnfilteredForInLoop\n                Object.assign(target, { [key]: source[key] });\n            }\n        }\n    }\n\n    return mergeDeep(target, ...sources);\n}\n","export default {\n    controls: {\n        undo: {\n            title: 'Desfer',\n        },\n        redo: {\n            title: 'Refer',\n        },\n        bold: {\n            title: 'Negreta',\n        },\n        italic: {\n            title: 'Cursiva',\n        },\n        underline: {\n            title: 'Subratllat',\n        },\n        strikethrough: {\n            title: 'Ratllat',\n        },\n        code: {\n            title: 'Codi',\n        },\n        fontColor: {\n            title: 'Color de font',\n            labels: {\n                noColor: 'Sense color',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Color de resaltat del text',\n            labels: {\n                noColor: 'Sense color',\n            },\n        },\n        linkAdd: {\n            title: 'Afegir enlla',\n            labels: {\n                link: 'Enlla',\n            },\n            actions: {\n                add: 'Afegir',\n                cancel: 'Cancellar',\n            },\n        },\n        linkRemove: {\n            title: 'Eliminar enlla',\n        },\n        image: {\n            title: 'Afegir imatge',\n            actions: {\n                upload: 'Pujar imatge',\n                url: 'Des de URL',\n                add: 'Afegir',\n                cancel: 'Cancellar',\n                alignLeft: \"Alinear a l'esquerra\",\n                alignCenter: 'Centrar',\n                alignRight: 'Alinear a la dreta',\n                remove: 'Eliminar imatge',\n                resize: 'Redimensionar',\n            },\n            labels: {\n                dropImageHere: 'Arrossega una imatge aqu o fes click per a pujar una',\n                width: 'Ample',\n                height: 'Alt',\n                url: 'URL',\n                insertOptions: 'Opcions de afegir imatge',\n                editOptions: \"Opcions d'imatge\",\n            },\n            errorMessages: {\n                notValidImage: 'La imatge no s vlida',\n            },\n        },\n        blockType: {\n            title: 'Format de bloc',\n            labels: {\n                normal: 'Normal',\n                header1: 'Ttol 1',\n                header2: 'Ttol 2',\n                header3: 'Ttol 3',\n                header4: 'Ttol 4',\n                header5: 'Ttol 5',\n                header6: 'Ttol 6',\n            },\n        },\n        fontSize: {\n            title: 'Grandria de font',\n            labels: {\n                default: 'Per defecte',\n            },\n        },\n        fontFamily: {\n            title: 'Font',\n            labels: {\n                default: 'Per defecte',\n            },\n        },\n        textAlign: {\n            title: 'Alinear text',\n            actions: {\n                alignLeft: 'Esquerra',\n                alignCenter: 'Centre',\n                alignRight: 'Dreta',\n                justify: 'Justificar',\n            },\n        },\n        unorderedList: {\n            title: 'Vinyetes',\n        },\n        orderedList: {\n            title: 'Numeraci',\n        },\n    },\n};\n","export default {\n    controls: {\n        undo: {\n            title: 'Undo',\n        },\n        redo: {\n            title: 'Redo',\n        },\n        bold: {\n            title: 'Bold',\n        },\n        italic: {\n            title: 'Italic',\n        },\n        underline: {\n            title: 'Underline',\n        },\n        strikethrough: {\n            title: 'Strike through',\n        },\n        code: {\n            title: 'Code',\n        },\n        fontColor: {\n            title: 'Font color',\n            labels: {\n                noColor: 'None',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Highlight color',\n            labels: {\n                noColor: 'None',\n            },\n        },\n        linkAdd: {\n            title: 'Add link',\n            labels: {\n                link: 'Link',\n            },\n            actions: {\n                add: 'Add',\n                cancel: 'Cancel',\n            },\n        },\n        linkRemove: {\n            title: 'Remove link',\n        },\n        image: {\n            title: 'Insert image',\n            actions: {\n                upload: 'Upload image',\n                url: 'By URL',\n                add: 'Add',\n                cancel: 'Cancel',\n                alignLeft: 'Align left',\n                alignCenter: 'Align center',\n                alignRight: 'Align right',\n                remove: 'Remove image',\n                resize: 'Resize',\n            },\n            labels: {\n                dropImageHere: 'Drop image here or click to upload',\n                width: 'Width',\n                height: 'Height',\n                url: 'URL',\n                insertOptions: 'Insert image options',\n                editOptions: 'Image options',\n            },\n            errorMessages: {\n                notValidImage: 'Not a valid image',\n            },\n        },\n        blockType: {\n            title: 'Block format',\n            labels: {\n                normal: 'Normal',\n                header1: 'Header 1',\n                header2: 'Header 2',\n                header3: 'Header 3',\n                header4: 'Header 4',\n                header5: 'Header 5',\n                header6: 'Header 6',\n            },\n        },\n        fontSize: {\n            title: 'Font size',\n            labels: {\n                default: 'default',\n            },\n        },\n        fontFamily: {\n            title: 'Font type',\n            labels: {\n                default: 'default',\n            },\n        },\n        textAlign: {\n            title: 'Align text',\n            actions: {\n                alignLeft: 'Left',\n                alignCenter: 'Center',\n                alignRight: 'Right',\n                justify: 'Justify',\n            },\n        },\n        unorderedList: {\n            title: 'Unordered list',\n        },\n        orderedList: {\n            title: 'Ordered list',\n        },\n    },\n};\n","export default {\n    controls: {\n        undo: {\n            title: 'Deshacer',\n        },\n        redo: {\n            title: 'Rehacer',\n        },\n        bold: {\n            title: 'Negrita',\n        },\n        italic: {\n            title: 'Cursiva',\n        },\n        underline: {\n            title: 'Subrayado',\n        },\n        strikethrough: {\n            title: 'Tachado',\n        },\n        code: {\n            title: 'Cdigo',\n        },\n        fontColor: {\n            title: 'Color de fuente',\n            labels: {\n                noColor: 'Sin color',\n            },\n        },\n        fontBackgroundColor: {\n            title: 'Color de resaltado de texto',\n            labels: {\n                noColor: 'Sin color',\n            },\n        },\n        linkAdd: {\n            title: 'Aadir enlace',\n            labels: {\n                link: 'Enlace',\n            },\n            actions: {\n                add: 'Aadir',\n                cancel: 'Cancelar',\n            },\n        },\n        linkRemove: {\n            title: 'Eliminar enlace',\n        },\n        image: {\n            title: 'Insertar imagen',\n            actions: {\n                upload: 'Subir imagen',\n                url: 'Desde URL',\n                add: 'Aadir',\n                cancel: 'Cancelar',\n                alignLeft: 'Alinear a la izquierda',\n                alignCenter: 'Centrar',\n                alignRight: 'Alinear a la derecha',\n                remove: 'Eliminar imagen',\n                resize: 'Redimensionar',\n            },\n            labels: {\n                dropImageHere: 'Arrastra una imagen aqu o haz click para subir una',\n                width: 'Ancho',\n                height: 'Alto',\n                url: 'URL',\n                insertOptions: 'Opciones de insertar imagen',\n                editOptions: 'Opciones de imagen',\n            },\n            errorMessages: {\n                notValidImage: 'La imagen no es vlida',\n            },\n        },\n        blockType: {\n            title: 'Formato de bloque',\n            labels: {\n                normal: 'Normal',\n                header1: 'Encabezado 1',\n                header2: 'Encabezado 2',\n                header3: 'Encabezado 3',\n                header4: 'Encabezado 4',\n                header5: 'Encabezado 5',\n                header6: 'Encabezado 6',\n            },\n        },\n        fontSize: {\n            title: 'Tamao de fuente',\n            labels: {\n                default: 'Por defecto',\n            },\n        },\n        fontFamily: {\n            title: 'Fuente',\n            labels: {\n                default: 'Por defecto',\n            },\n        },\n        textAlign: {\n            title: 'Alinear texto',\n            actions: {\n                alignLeft: 'Izquierda',\n                alignCenter: 'Centro',\n                alignRight: 'Derecha',\n                justify: 'Justificar',\n            },\n        },\n        unorderedList: {\n            title: 'Vietas',\n        },\n        orderedList: {\n            title: 'Numeracin',\n        },\n    },\n};\n","import ca from './translations/ca';\nimport en from './translations/en';\nimport es from './translations/es';\n\nexport default { ca, en, es };\n","import React from 'react';\nimport { CompositeDecorator, DefaultDraftBlockRenderMap } from 'draft-js';\nimport { defaultConfig } from '../types/config';\nimport { defaultToolbarControlsConfiguration } from '../types/editorToolbar';\nimport { mergeDeep } from './objectUtils';\nimport languages from '../lang/languages';\n\nclass EditorFactories {\n    constructor(config) {\n        this.config = config || defaultConfig;\n    }\n\n    getCompositeDecorator() {\n        let decorators = [];\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.decorators) {\n                decorators = decorators.concat(pluginData.decorators);\n            }\n        }\n        return decorators.length > 0 ? new CompositeDecorator(decorators) : null;\n    }\n\n    getCustomStyleMap() {\n        let customStyleMap = {};\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.customStyleMap) {\n                customStyleMap = {\n                    ...customStyleMap,\n                    ...pluginData.customStyleMap,\n                };\n            }\n        }\n        return customStyleMap;\n    }\n\n    getBlockRenderMap() {\n        let renderMap = DefaultDraftBlockRenderMap;\n        for (const control of this.getToolbarControls()) {\n            const pluginData = this.getPluginData(control);\n            if (pluginData && pluginData.blockRenderMap) {\n                renderMap = renderMap.merge(pluginData.blockRenderMap);\n            }\n        }\n\n        return renderMap;\n    }\n\n    getBlockStyleFn() {\n        return (contentBlock) => {\n            let classNames = '';\n            for (const control of this.getToolbarControls()) {\n                const pluginData = this.getPluginData(control);\n                if (pluginData && pluginData.blockStyleFn) {\n                    const result = pluginData.blockStyleFn(contentBlock);\n                    if (result) classNames += ' ' + result;\n                }\n            }\n            return classNames.trim();\n        };\n    }\n\n    getBlockRendererFn() {\n        return (contentBlock) => {\n            for (const control of this.getToolbarControls()) {\n                const pluginData = this.getPluginData(control);\n                if (!pluginData || !pluginData.blockRendererFn) continue;\n                const result = pluginData.blockRendererFn(contentBlock);\n                if (result) return result;\n            }\n        };\n    }\n\n    getToolbarControls() {\n        return this.getConfigItem('toolbar', 'controls');\n    }\n\n    getToolbarControlComponents() {\n        const keyCounter = {};\n        return this.getToolbarControls().map((control) => {\n            if (!keyCounter[control.name]) keyCounter[control.name] = 0;\n            keyCounter[control.name]++;\n\n            return React.createElement(control.component, {\n                key: `${control.name}${keyCounter[control.name]}`,\n                configuration: this.getToolbarControlConfiguration(control.name),\n                defaultConfiguration: defaultToolbarControlsConfiguration[control.name],\n                pluginData: this.getPluginData(control),\n            });\n        });\n    }\n\n    getToolbarControlConfiguration(controlName) {\n        if (\n            this.config &&\n            this.config.toolbar &&\n            this.config.toolbar.controlsConfig &&\n            this.config.toolbar.controlsConfig[controlName]\n        )\n            return this.config.toolbar.controlsConfig[controlName];\n        else if (defaultToolbarControlsConfiguration[controlName])\n            return defaultToolbarControlsConfiguration[controlName];\n\n        return null;\n    }\n\n    getPluginData(control) {\n        if (!control.plugin) return null;\n        return control.plugin(\n            this.getToolbarControlConfiguration(control.name),\n            defaultToolbarControlsConfiguration[control.name]\n        );\n    }\n\n    getTranslations() {\n        const lang = this.getConfigItem('lang');\n        const langTranslations = languages[lang];\n        const customTranslations = this.config.translations || {};\n        return mergeDeep(langTranslations, customTranslations);\n    }\n\n    getToolbarPosition() {\n        return this.getConfigItem('toolbar', 'position').toLowerCase();\n    }\n\n    getConfigItem(...keys) {\n        let item = { ...this.config };\n        for (const key of keys) {\n            item = item[key];\n            if (item === undefined) break;\n        }\n\n        if (item !== undefined) return item;\n\n        item = { ...defaultConfig };\n        for (const key of keys) {\n            item = item[key];\n        }\n\n        return item;\n    }\n}\n\nexport default EditorFactories;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\n\nfunction EditorToolbar({ children, visible = true, ...rest }) {\n    return (\n        <Paper hidden={!visible} {...rest}>\n            <Grid container alignItems=\"center\">\n                {children}\n            </Grid>\n        </Paper>\n    );\n}\n\nEditorToolbar.propTypes = {\n    children: PropTypes.any,\n    visible: PropTypes.bool,\n};\n\nexport default EditorToolbar;\n","export default class Translator {\n    constructor(translations) {\n        this.translations = translations;\n    }\n\n    get(id) {\n        if (!id) return '';\n        const keys = id.split('.');\n        let item = this.translations;\n        for (const key of keys) {\n            item = item[key];\n            if (item === undefined) return '';\n        }\n        return item || '';\n    }\n}\n","import blockStyles from '../../types/blockStyles';\n\nexport const blockHTMLMap = {\n    [blockStyles.H1]: 'h1',\n    [blockStyles.H2]: 'h2',\n    [blockStyles.H3]: 'h3',\n    [blockStyles.H4]: 'h4',\n    [blockStyles.H5]: 'h5',\n    [blockStyles.H6]: 'h6',\n    [blockStyles.BLOCKQUOTE]: 'blockquote',\n    [blockStyles.CODE_BLOCK]: 'code',\n    [blockStyles.UNSTYLED]: 'p',\n    [blockStyles.ATOMIC]: 'figure',\n    [blockStyles.UL]: 'li',\n    [blockStyles.OL]: 'li',\n};\n","import entities from '../../types/entities';\n\nexport const entityHTMLMap = {\n    [entities.LINK]: (entity) => [`<a href=\"${entity.getData().url}\" target=\"_blank\">`, '</a>'],\n    [entities.IMAGE]: (entity) => [\n        `<img src=\"${entity.data.src}\" alt=\"\" width=\"${entity.getData().width}\" height=\"${\n            entity.getData().height\n        }\">`,\n        '',\n    ],\n};\n","import inlineStyles from '../../types/inlineStyles';\n\nconst isInlineStyleCollection = (inlineStyle, style) =>\n    inlineStyle.substr(0, style.length) === style;\nconst getInlineStyleCollectionValue = (inlineStyle, style) => inlineStyle.substr(style.length + 1);\nexport const getInlineStylesCss = (inlineStyle) => {\n    switch (inlineStyle) {\n        case inlineStyles.BOLD:\n            return 'font-weight: bold;';\n        case inlineStyles.ITALIC:\n            return 'font-style: italic;';\n        case inlineStyles.UNDERLINE:\n            return 'text-decoration: underline;';\n        case inlineStyles.STRIKETHROUGH:\n            return 'text-decoration: line-through;';\n        case inlineStyles.CODE:\n            return 'font-family: monospace;';\n        default:\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_FAMILY)) {\n                return `font-family: '${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_FAMILY\n                )}';`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_SIZE)) {\n                return `font-size: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_SIZE\n                )};`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_COLOR)) {\n                return `color: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_COLOR\n                )};`;\n            }\n\n            if (isInlineStyleCollection(inlineStyle, inlineStyles.FONT_BACKGROUND)) {\n                return `background-color: ${getInlineStyleCollectionValue(\n                    inlineStyle,\n                    inlineStyles.FONT_BACKGROUND\n                )};`;\n            }\n\n            return '';\n    }\n};\n","import { blockHTMLMap } from './block';\nimport { entityHTMLMap } from './entity';\nimport { getInlineStylesCss } from './inlineStyle';\nimport blockStyles from '../../types/blockStyles';\n\nconst toHTML = (contentState) => {\n    let html = '';\n    let isListBlock = false;\n    const blockMap = contentState.getBlockMap();\n    let blockCount = 0;\n    for (const blockData of blockMap) {\n        const block = blockData[1];\n        // Block tags\n        const blockTag = blockHTMLMap[block.getType()];\n        const blockStyle = block.getData().has('textAlign')\n            ? `text-align:${block.getData().get('textAlign')};`\n            : null;\n        let blockOpenTag = blockTag\n            ? `<${blockTag}${blockStyle ? ` style=\"${blockStyle}\"` : ''}>`\n            : '';\n        let blockCloseTag = blockTag ? `</${blockTag}>` : '';\n\n        if (block.getType() === blockStyles.UL || block.getType() === blockStyles.OL) {\n            if (!isListBlock) {\n                blockOpenTag = `${\n                    block.getType() === blockStyles.UL ? '<ul>' : '<ol>'\n                }${blockOpenTag}`;\n            }\n            // if is the last block closes the list\n            if (blockCount === blockMap.length - 1) {\n                blockCloseTag = `${blockCloseTag}${\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\n                }`;\n            }\n            isListBlock = true;\n        } else {\n            // Closes the previous opened list\n            if (isListBlock) {\n                blockOpenTag = `${\n                    block.getType() === blockStyles.UL ? '</ul>' : '</ol>'\n                }${blockOpenTag}`;\n            }\n            isListBlock = false;\n        }\n\n        if (block.getLength() === 0) {\n            html += blockOpenTag + blockCloseTag;\n            continue;\n        }\n\n        html += blockOpenTag;\n        let lastEntityKey = null;\n        const currentOpenedStylesMap = {};\n        for (const charIndex in block.getText()) {\n            const isLastChar = parseInt(charIndex) === block.getLength() - 1;\n            // Entities\n            let entityOpenTag = '';\n            let entityCloseTag = '';\n            const currentEntityKey = block.getEntityAt(charIndex);\n            if (currentEntityKey !== lastEntityKey) {\n                if (lastEntityKey === null) {\n                    const entity = contentState.getEntity(currentEntityKey);\n                    entityOpenTag = entityHTMLMap[entity.getType()](entity)[0];\n                } else if (currentEntityKey === null) {\n                    const entity = contentState.getEntity(lastEntityKey);\n                    entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\n                } else {\n                    const entityHaveToClose = contentState.getEntity(lastEntityKey);\n                    const entityHaveToOpen = contentState.getEntity(currentEntityKey);\n                    entityOpenTag =\n                        entityHTMLMap[entityHaveToClose.getType()](entityHaveToClose)[0] +\n                        entityHTMLMap[entityHaveToOpen.getType()](entityHaveToOpen)[1];\n                }\n            } else if (currentEntityKey !== null && isLastChar) {\n                const entity = contentState.getEntity(currentEntityKey);\n                entityCloseTag = entityHTMLMap[entity.getType()](entity)[1];\n            }\n\n            // Inline styles\n            const charInlineStyles = block.getInlineStyleAt(charIndex);\n            const styleCloseTagBeforeList = [];\n            const styleOpenTagList = [];\n            const styleCloseTagList = [];\n            const styleCloseTagOpenIndexList = [];\n            const styleCloseTagBeforeOpenIndexList = [];\n\n            for (const inlineStyle of charInlineStyles) {\n                if (currentOpenedStylesMap[inlineStyle] === undefined) {\n                    styleOpenTagList.push(inlineStyle);\n                    currentOpenedStylesMap[inlineStyle] = charIndex;\n                } else if (entityOpenTag || entityCloseTag) {\n                    styleCloseTagBeforeList.push(inlineStyle);\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                } else if (isLastChar) {\n                    styleCloseTagList.push(inlineStyle);\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                }\n            }\n\n            for (const inlineStyle in currentOpenedStylesMap) {\n                if (\n                    !charInlineStyles.includes(inlineStyle) &&\n                    !styleCloseTagList.includes(inlineStyle) &&\n                    !styleCloseTagBeforeList.includes(inlineStyle)\n                ) {\n                    styleCloseTagBeforeList.push(inlineStyle);\n                    styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                } else if (isLastChar) {\n                    styleCloseTagList.push(inlineStyle);\n                    styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                    delete currentOpenedStylesMap[inlineStyle];\n                }\n            }\n\n            for (const closedIndex of styleCloseTagOpenIndexList) {\n                for (const inlineStyle in currentOpenedStylesMap) {\n                    if (currentOpenedStylesMap[inlineStyle] > closedIndex) {\n                        styleCloseTagList.push(inlineStyle);\n                        styleCloseTagOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                        delete currentOpenedStylesMap[inlineStyle];\n                    }\n                }\n            }\n\n            for (const closedIndex of styleCloseTagBeforeOpenIndexList) {\n                for (const inlineStyle in currentOpenedStylesMap) {\n                    if (\n                        currentOpenedStylesMap[inlineStyle] < charIndex &&\n                        currentOpenedStylesMap[inlineStyle] > closedIndex\n                    ) {\n                        styleCloseTagBeforeList.push(inlineStyle);\n                        styleCloseTagBeforeOpenIndexList.push(currentOpenedStylesMap[inlineStyle]);\n                        delete currentOpenedStylesMap[inlineStyle];\n                        if (charInlineStyles.includes(inlineStyle)) {\n                            styleOpenTagList.push(inlineStyle);\n                            currentOpenedStylesMap[inlineStyle] = charIndex;\n                        }\n                    }\n                }\n            }\n\n            // HTML Build\n            let j = 0;\n            while (j < styleCloseTagBeforeList.length) {\n                html += '</span>';\n                j++;\n            }\n            html += entityOpenTag;\n            for (const style of styleOpenTagList) {\n                html += '<span style=\"' + getInlineStylesCss(style) + '\">';\n            }\n            html += block.getText()[charIndex];\n            let k = 0;\n            while (k < styleCloseTagList.length) {\n                html += '</span>';\n                k++;\n            }\n            html += entityCloseTag;\n\n            lastEntityKey = currentEntityKey;\n        }\n        html += blockCloseTag;\n        blockCount++;\n    }\n    return html;\n};\n\nexport default toHTML;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Editor, EditorState, RichUtils } from 'draft-js';\nimport EditorFactories from './utils/EditorFactories';\nimport EditorToolbar from './EditorToolbar';\nimport Paper from '@material-ui/core/Paper';\nimport { defaultConfig } from './types/config';\nimport Translator from './lang/Translator';\nimport { makeStyles } from '@material-ui/core/styles';\nimport toHTML from './conversion/toHTML';\nimport useEditor from './hooks/useEditor';\nimport useEditorFocus from './hooks/useEditorFocus';\nimport 'draft-js/dist/Draft.css';\n\nexport { toolbarControlTypes } from './types/editorToolbar';\nexport { LANG_PREFIX } from './types/lang';\nexport { fileToBase64 } from './utils/fileUtils';\nexport { toHTML, useEditor, useEditorFocus };\n\nexport const EditorContext = React.createContext({});\n\nexport const MUIEditorState = {\n    createEmpty: (config) => {\n        const editorFactories = new EditorFactories(config);\n        return EditorState.createEmpty(editorFactories.getCompositeDecorator());\n    },\n    createWithContent: (config, contentState) => {\n        const editorFactories = new EditorFactories(config);\n        return EditorState.createWithContent(contentState, editorFactories.getCompositeDecorator());\n    },\n};\n\nconst useStyles = makeStyles((theme) => ({\n    '@global': {\n        '.mui-editor-left-aligned-block': {\n            textAlign: 'left !important',\n            '& > div': {\n                textAlign: 'left !important',\n            },\n        },\n        '.mui-editor-center-aligned-block': {\n            textAlign: 'center !important',\n            '& > div': {\n                textAlign: 'center !important',\n            },\n        },\n        '.mui-editor-right-aligned-block': {\n            textAlign: 'right !important',\n            '& > div': {\n                textAlign: 'right !important',\n            },\n        },\n        '.mui-editor-justify-aligned-block': {\n            textAlign: 'justify !important',\n            '& > div': {\n                textAlign: 'justify !important',\n            },\n        },\n    },\n    editorWrapper: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        padding: theme.spacing(5),\n    },\n}));\n\n/**\n * Material UI Draft.js editor\n *\n * @version 1.0.3\n * @author [Rubn Albarracn](https://github.com/Kelsier90)\n */\nfunction MUIEditor({\n    editorState,\n    onChange,\n    onFocus = null,\n    onBlur = null,\n    config = defaultConfig,\n}) {\n    const editorFactories = new EditorFactories(config);\n    const editorRef = React.useRef(null);\n    const translateRef = React.useRef(function () {});\n    const translationsRef = React.useRef(null);\n    const toolbarVisibleConfig = editorFactories.getConfigItem('toolbar', 'visible');\n    const [isToolbarVisible, setIsToolbarVisible] = React.useState(toolbarVisibleConfig);\n    const [isResizeImageDialogVisible, setIsResizeImageDialogVisible] = React.useState(false);\n    const [resizeImageEntityKey, setResizeImageEntityKey] = React.useState(null);\n\n    translationsRef.current = editorFactories.getTranslations();\n    translateRef.current = React.useCallback((id) => {\n        const translator = new Translator(translationsRef.current);\n        return translator.get(id);\n    }, []);\n    const classes = useStyles();\n\n    React.useEffect(() => {\n        setIsToolbarVisible(toolbarVisibleConfig);\n    }, [toolbarVisibleConfig]);\n\n    const toolbar = (\n        <EditorToolbar\n            visible={isToolbarVisible}\n            style={editorFactories.getConfigItem('toolbar', 'style')}\n            className={editorFactories.getConfigItem('toolbar', 'className')}>\n            {editorFactories.getToolbarControlComponents()}\n        </EditorToolbar>\n    );\n\n    const top = editorFactories.getToolbarPosition() === 'top' ? toolbar : null;\n    const bottom = editorFactories.getToolbarPosition() === 'bottom' ? toolbar : null;\n\n    const handleKeyCommand = (command) => {\n        const newState = RichUtils.handleKeyCommand(editorState, command);\n        if (newState) {\n            onChange(newState);\n            return 'handled';\n        }\n        return 'not-handled';\n    };\n\n    const handleFocus = (ev) => {\n        if (onFocus) onFocus(ev);\n    };\n\n    const handleBlur = (ev) => {\n        if (onBlur) onBlur(ev);\n    };\n\n    const editorWrapperProps = {\n        style: editorFactories.getConfigItem('editor', 'style'),\n        className: `${classes.editorWrapper} ${editorFactories.getConfigItem(\n            'editor',\n            'className'\n        )}`,\n        onClick: () => editorRef.current.focus(),\n    };\n\n    const editorWrapperElement = editorFactories.getConfigItem('editor', 'wrapperElement');\n\n    if (editorWrapperElement === Paper) {\n        editorWrapperProps.elevation = 3;\n    }\n\n    const EditorWrapper = React.createElement(\n        editorWrapperElement,\n        editorWrapperProps,\n        <Editor\n            {...editorFactories.getConfigItem('draftEditor')}\n            ref={editorRef}\n            editorState={editorState}\n            onChange={onChange}\n            onFocus={(ev) => handleFocus(ev)}\n            onBlur={(ev) => handleBlur(ev)}\n            handleKeyCommand={handleKeyCommand}\n            blockStyleFn={editorFactories.getBlockStyleFn()}\n            customStyleMap={editorFactories.getCustomStyleMap()}\n            blockRenderMap={editorFactories.getBlockRenderMap()}\n            blockRendererFn={editorFactories.getBlockRendererFn()}\n        />\n    );\n\n    return (\n        <EditorContext.Provider\n            value={{\n                editorState,\n                onChange,\n                ref: editorRef.current,\n                translate: translateRef.current,\n                showResizeImageDialog: (entityKey) => {\n                    setIsResizeImageDialogVisible(true);\n                    setResizeImageEntityKey(entityKey);\n                },\n                hideResizeImageDialog: () => {\n                    setIsResizeImageDialogVisible(false);\n                    setResizeImageEntityKey(null);\n                },\n                isResizeImageDialogVisible,\n                resizeImageEntityKey,\n            }}>\n            {top}\n            {EditorWrapper}\n            {bottom}\n        </EditorContext.Provider>\n    );\n}\n\nMUIEditor.displayName = 'MUIEditor';\n\nMUIEditor.propTypes = {\n    /** Immutable object that represents the entire state of the editor */\n    editorState: PropTypes.object.isRequired,\n    /** The function to be executed by the Editor when edits and selection changes occur. The new editor state is passed by parameter. */\n    onChange: PropTypes.func.isRequired,\n    /** The function to be executed by the Editor when a focus event is triggered. The new editor state is passed by parameter. */\n    onFocus: PropTypes.func,\n    /** The function to be executed by the Editor when a blur event is triggered. The new editor state is passed by parameter. */\n    onBlur: PropTypes.func,\n    /** All the editor configuration options */\n    config: PropTypes.object,\n};\n\nMUIEditor.defaultProps = {\n    config: defaultConfig,\n};\n\nexport default MUIEditor;\n"]},"metadata":{},"sourceType":"module"}